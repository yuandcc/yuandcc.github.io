<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Hugo Theme Stack Starter</title>
        <link>https://demo.stack.jimmycai.com/</link>
        <description>Recent content on Hugo Theme Stack Starter</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <copyright>wuming@2013</copyright>
        <lastBuildDate>Sat, 11 Feb 2023 23:13:13 +0800</lastBuildDate><atom:link href="https://demo.stack.jimmycai.com/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>2022 Q4</title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/2022-q4/</link>
        <pubDate>Sat, 11 Feb 2023 23:13:13 +0800</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/2022-q4/</guid>
        <description>&lt;h1 id=&#34;asr安排季度安排&#34;&gt;ASR安排季度安排&lt;/h1&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://docs.qq.com/doc/DZHJqZFNBcFdDc1Vq&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;以往季度计划&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt; 红色表示优先级最高 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt; 橙色表示优先级次高 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;人力安排重点&#34;&gt;人力安排重点&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;yuanding&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;GPU&lt;/li&gt;
&lt;li&gt;算法库&lt;/li&gt;
&lt;li&gt;预训练模型&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;dongcai&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;英文| 中英文混模型发版&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;k2 rnn-t实验&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;vad&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;fangcheng&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;语料库及领域模型&lt;/li&gt;
&lt;li&gt;粤语|四川话|河南话模型发版
&lt;ul&gt;
&lt;li&gt;纯方言&lt;/li&gt;
&lt;li&gt;方言 + 普通话混合训练&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;bpo支持&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;2022年第四季度&#34;&gt;2022年第四季度&lt;/h2&gt;
&lt;h3 id=&#34;1-asr算法库&#34;&gt;1. ASR算法库&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;功能项
&lt;ul&gt;
&lt;li&gt;文本正则后处理&lt;/li&gt;
&lt;li&gt;粤语标点预测&lt;/li&gt;
&lt;li&gt;粤语简体繁体转换&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; GPU 服务 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;效果与CPU对齐&lt;/li&gt;
&lt;li&gt;性能达标&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-asr模型&#34;&gt;2. ASR模型&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; k2 RNN-T模型相关实验 &lt;!-- raw HTML omitted --&gt;
&lt;ol&gt;
&lt;li&gt;Reworked Conformer&lt;/li&gt;
&lt;li&gt;Emformer&lt;/li&gt;
&lt;li&gt;预训练模型量化蒸馏&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;CTC-Attention模型双向重打分&lt;/li&gt;
&lt;li&gt;独立的重打分模型&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-无监督预训练模型&#34;&gt;3. 无监督预训练模型&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 提升ASR|VAD|Diar各模块效果 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 基于GPU上线方案 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;4-语料库及领域模型&#34;&gt;4. 语料库及领域模型&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 积累领域语料|热词 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 发版重点领域模型 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;金融&lt;/li&gt;
&lt;li&gt;政务&lt;/li&gt;
&lt;li&gt;&amp;hellip;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;补充通用语料&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 人名 | 地名 | 车牌 | 数字 + 字母组合优化方案 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;自动化构建及发布流程&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 领域测试集 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;5-方言及其他语种asr&#34;&gt;5. 方言及其他语种ASR&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;英文|中英混ASR
&lt;ul&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 发版端到端模型 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;中英混效果优化方案&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;粤语 | 四川话 | 河南话ASR
&lt;ul&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 发版端到端模型 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;粤语标点预测模型&lt;/li&gt;
&lt;li&gt;粤语支持简体繁体&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;6-前端模块&#34;&gt;6. 前端模块&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; VAD优化 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;声纹信息  + VAD&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;话者分离&lt;/li&gt;
&lt;li&gt;前端降噪&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;7-自学习平台&#34;&gt;7. 自学习平台&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;文本|音频数据增强&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;8-优化模型评估&#34;&gt;8. 优化模型评估&lt;/h3&gt;
&lt;h4 id=&#34;71-效果测试&#34;&gt;7.1 效果测试&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 模型评估方法 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;模型与领域测试集绑定&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 扩展测试集 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;领域测试集&lt;/li&gt;
&lt;li&gt;通用测试集&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;第三方评测对比&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;72-性能测试&#34;&gt;7.2 性能测试&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ASR | VAD | Diar算法库侧性能测试&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;提供对外参考指标&lt;/li&gt;
&lt;li&gt;提供不同环境下的最优配置&lt;/li&gt;
&lt;li&gt;提供内部性能优化线索和方向（声学模型|语言模型|解码器）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;VAD + ASR流式性能测试&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;与工程测试对齐&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;9-其他支持&#34;&gt;9. 其他支持&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;BPO支持&lt;/li&gt;
&lt;li&gt;数字人支持&lt;/li&gt;
&lt;li&gt;VC支持&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>My First Post</title>
        <link>https://demo.stack.jimmycai.com/posts/my-first-post/</link>
        <pubDate>Sat, 11 Feb 2023 23:13:13 +0800</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/my-first-post/</guid>
        <description>&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;This is &lt;strong&gt;bold&lt;/strong&gt; text, and this is &lt;em&gt;emphasized&lt;/em&gt; text.&lt;/p&gt;
&lt;p&gt;Visit the &lt;a class=&#34;link&#34; href=&#34;https://gohugo.io&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Hugo&lt;/a&gt; website!&lt;/p&gt;
&lt;p&gt;测试中文&lt;/p&gt;
</description>
        </item>
        <item>
        <title>My First Post2</title>
        <link>https://demo.stack.jimmycai.com/posts/my-first-post2/</link>
        <pubDate>Sat, 11 Feb 2023 23:13:13 +0800</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/my-first-post2/</guid>
        <description>&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;This is &lt;strong&gt;bold&lt;/strong&gt; text, and this is &lt;em&gt;emphasized&lt;/em&gt; text.&lt;/p&gt;
&lt;p&gt;Visit the &lt;a class=&#34;link&#34; href=&#34;https://gohugo.io&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Hugo&lt;/a&gt; website!&lt;/p&gt;
&lt;p&gt;测试中文&lt;/p&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/notes/%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/c&#43;&#43;/c&#43;&#43;%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1_part1/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/notes/%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/c&#43;&#43;/c&#43;&#43;%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1_part1/</guid>
        <description>&lt;h1 id=&#34;c-面向对象-part1&#34;&gt;c++ 面向对象 Part1&lt;/h1&gt;
&lt;h2 id=&#34;part1&#34;&gt;Part1&lt;/h2&gt;
&lt;h3 id=&#34;1-基础&#34;&gt;1. 基础&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;class的两个经典分类
&lt;ul&gt;
&lt;li&gt;Class without pointer member(s)&lt;/li&gt;
&lt;li&gt;Class with pointer member(s)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;C++ programs 代码的基本形式
.h (类的声明) + .cpp (类的定义) + .h (STL标准库)&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-头文件&#34;&gt;2. 头文件&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;头文件：防卫式声明(常数定义)&lt;/li&gt;
&lt;li&gt;内联函数
&lt;ol&gt;
&lt;li&gt;在头文件声明类的时候即定义在类中&lt;/li&gt;
&lt;li&gt;在类外定义的时候使用inline关键字&lt;/li&gt;
&lt;li&gt;最后需要看编译器&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-构造函数&#34;&gt;3. 构造函数&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;构造函数：与类同名，没有返回类型，有默认构造函数。&lt;/li&gt;
&lt;li&gt;构造函数初始化列表
&lt;ol&gt;
&lt;li&gt;一个变量的值的设定有两个阶段，一个是初始化，一个是赋值。&lt;/li&gt;
&lt;li&gt;构造函数初始化列表是在初始化阶段，在函数体内是放弃初始化阶段，通过赋值方式设值。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;不可能在程序里面直接调用构造函数，没有这种语法。只能创建对象，构造函数自动被调用。&lt;/li&gt;
&lt;li&gt;不带指针的类多数不用写析构函数。&lt;/li&gt;
&lt;li&gt;函数重载，为什么可以有多个同名的函数：函数签名不同（实际名称）。多发生在构造函数上。&lt;/li&gt;
&lt;li&gt;当有一个有默认值的构造函数时，再声明一个不带参数的构造函数（但是会使用默认值初始化成员变量），会发生错误(编译器不知道调用哪一个)。（构造函数1和2）&lt;/li&gt;
&lt;li&gt;构造函数声明为private，不允许外界创建，如单例模式。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;4-const修饰符&#34;&gt;4. const修饰符&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;常量成员函数：const。设计函数的时候就已经明确内部会不会修改成员变量
&lt;ol&gt;
&lt;li&gt;const 加在变量前表示该变量不可以被修改。&lt;/li&gt;
&lt;li&gt;如果调用者使用const修饰的变量(变量还是对象？)调用非const的方法，会发生编译错误。（非const方法不保证不会修改变量）&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;5-参数及返回值传递&#34;&gt;5. 参数及返回值传递&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;参数传递
&lt;ol&gt;
&lt;li&gt;pass by value：传递整个对象数据（可能会很大），传递的动作就是把整个对象压到函数的栈中，尽量不使用.&lt;/li&gt;
&lt;li&gt;pass by reference （to const）：引用底层就是指针，传引用相当于传指针那么快。能传引用尽量传引用（参数是一个字节的情况）。使用const修饰方法参数，表示内部不能修改。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;返回值传递
&lt;ol&gt;
&lt;li&gt;pass by value&lt;/li&gt;
&lt;li&gt;pass by reference&lt;/li&gt;
&lt;li&gt;在允许的情况下尽量通过reference进行传递。&lt;/li&gt;
&lt;li&gt;什么情况允许，什么情况不允许&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;什么时候返回值可以以引用的形式传递
&lt;ol&gt;
&lt;li&gt;当返回的是以引用或指针传进来的对象时可以&lt;/li&gt;
&lt;li&gt;当返回的是临时变量时不可以，函数调用结束临时变量即销毁&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;6-友元&#34;&gt;6. 友元&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;友元&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在类中声明的友元函数或者友元类可以通过该类的对象访问该类的私有变量&lt;/li&gt;
&lt;li&gt;友元破坏了数据的封装性，除友元外还可以使用函数来获取私有变量&lt;/li&gt;
&lt;li&gt;相同class的各个object互为friends（友元）&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;class body 外的各种定义&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;数据是不是声明为private&lt;/li&gt;
&lt;li&gt;参数尽可能以reference来传，尽可能声明为const&lt;/li&gt;
&lt;li&gt;返回值尽可能以reference来传&lt;/li&gt;
&lt;li&gt;该加const的地方需要加上const(成员函数，成员变量，参数)&lt;/li&gt;
&lt;li&gt;构造函数使用成员初始化列表&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;操作符重载&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在c++中操作符就是一种函数，可以被重新定义&lt;/li&gt;
&lt;li&gt;操作符重载1-成员函数 带this指针
&lt;ol&gt;
&lt;li&gt;所有的二元操作符（左右两个操作数的），作用在左面对象上。this即为左面对象的指针，调用左面对象的成员方法。&lt;/li&gt;
&lt;li&gt;每个成员函数都隐藏一个this指针，指向调用该对象的对象的指针。&lt;/li&gt;
&lt;li&gt;this不能写在参数列，否则会报错。但是在成员函数体内可以使用this指针。&lt;/li&gt;
&lt;li&gt;+=：assignment plus&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;return by reference 分析
&lt;ol&gt;
&lt;li&gt;以reference来接收，传递者无需知道接收者是以reference形式接收。无论是否以引用形式接收，传递者传object即可。&lt;/li&gt;
&lt;li&gt;如果是以pointer来接收，传递者则需要加取址符号。&lt;/li&gt;
&lt;li&gt;+= 操作符的返回值不可以是void类型。
&lt;ol&gt;
&lt;li&gt;若是void， 仅c2 += c1可以。&lt;/li&gt;
&lt;li&gt;若是reference，c3 += c2 += c1也可以。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;操作符重载2-非成员函数 无this指针
&lt;ol&gt;
&lt;li&gt;全域函数，没有this指针&lt;/li&gt;
&lt;li&gt;对于+操作符，返回值必定是local temp object（临时对象），返回值不能以reference来传递&lt;/li&gt;
&lt;li&gt;对于+操作符，设计为全局函数，因为可以复数+实属，也可以实数加复数。如果设计为成员函数，可以实现的加法类型就受限了。&lt;/li&gt;
&lt;li&gt;typename() 来创建临时对象，没有名字，临时对象的生命周期只有一行，下一行生命就会终止。&lt;/li&gt;
&lt;li&gt;取反操作符-，与相减操作符-，符号相同，参数个数不同，以此实现重载。&lt;/li&gt;
&lt;li&gt;&amp;laquo; 重载
&lt;ol&gt;
&lt;li&gt;对于一些操作符重载，可以重载为成员函数或非成员函数&lt;/li&gt;
&lt;li&gt;对于&amp;laquo;等特殊的操作符，只能重载为非成员函数。如果重载为成员函数，操作符只能作用在左面的对象身上，则只能这样用：c1 &amp;laquo; cout;&lt;/li&gt;
&lt;li&gt;cout 是一种ostream的类型&lt;/li&gt;
&lt;li&gt;第一个参数是ostream参数，可以是引用，但不能是const, 因为输出流一直会改变。第二个参数是要输出的对象。&lt;/li&gt;
&lt;li&gt;返回类型值：为了使用者连续输出，返回值类型是ostream类型的引用。若只输出一次，则只能输出一次。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;访问私有变量的两个方法&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;成员函数&lt;/li&gt;
&lt;li&gt;友元&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;理论上可以在任意地方include，除了函数内部。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;class with pointer members
拷贝构造和拷贝赋值：
每个类如果不写的话有默认的拷贝构造和拷贝赋值函数
拷贝构造和拷贝赋值函数底层是一个bit一个bit的进行拷贝
当类中带有指针成员变量时，一定不能用默认的拷贝构造和拷贝赋值函数
string 类的设计
使用char类型的成员指针变量，以此适应不同长度的字符串。
三个特殊的函数
拷贝构造函数，与类同名，无返回值，形参为该类的对象，const to referen类型。
拷贝赋值函数，赋值操作符的操作符重载函数，返回值为该类类型的引用，形参为该类的对象，const to referen类型。
析构函数，对象生命周期结束时调用，释放动态分配给指针的内存。
当类中带指针时，必须手动声明并定义这三个特殊函数（或者拷贝构造和拷贝赋值？）。 &lt;br&gt;
字符串多长？
c/c++：字符串后面有结束符号，c++字符串的长度等字符串长度+1
Pascal：前面有长度部分
当类带有指针成员变量时，如果不重写拷贝构造函数和拷贝赋值函数，会有以下危险：
b = a 进行复制后，原来b对象中指针指向的内存区域发生内存泄漏。
a和b对象的指针指向同一片内存（浅拷贝），可能存在危险。
string类的拷贝构造函数
在拷贝构造函数中直接通过传进来的string类型的对象来直接访问私有变量，同一类型的不同对象互为友元。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;根据传进来的string对象中保存的字符串的长度创建空间，2) 将指针指向的内容拷贝到新创建的空间中。
string类的拷贝赋值函数
检测是否是自我赋值（通过this指针和传进来的对象的地址比较）
如果不做检查，如果遇到自我赋值会有以下危险：
进行多余的不必要动作，效率低
会首先把指针指向的空间释放掉（唯一的空间），会发生错误
1）释放已分配的空间，  2）根据传进来的string对象中保存的字符串的长度创建空间，3) 将指针指向的内容拷贝到新创建的空间中。
返回this指针的取值（为了可以连续的赋值，否则可以不返回），返回类型是该类的引用。
string类重载&amp;laquo;运算符
同复数类。
cout可以直接接收char类型指针进行输出。
char * 指向字符串为c风格的字符串。
strlen（char *）是字符串不包括结束符号的真实长度。
关于inline，对于复杂的函数，加上inline也没关系，没有副作用，编译器会视情况决定是否去实现。
&amp;amp;出现在typename的后面表示是该类型的引用（如在形参中使用），放在object前面，表示是取该对象的地址，如传递给指针时需要取对象的地址。&lt;/p&gt;
&lt;p&gt;堆/栈与内存管理
栈
存在于某作用域的一块内存空间。
如函数调用，会产生一个栈空间来存放函数所接收的参数，临时变量（函数内声明的任何变量）及返回地址。
作用域可以是某个函数内吗，也可以是大括号包围的某个代码段。
堆
由操作系统提供的一块全局空间。
程序通过动态分配的方式来获得堆中的空间。
通过new动态分配的空间需要手动释放。
不同类型的对象
stack object的声明在作用域结束之际结束，这种作用域内的object，又称为auto object，因为它会被自动清理。
声明对象时通过static进行修饰, 对象便是static object，其生命周期在作用域结束后仍然存在，直到整个程序结束。（静态对象 ）
全局对象，声明在全局作用域内，可以视为一种静态对象，生命周期为声明到程序结束，作用域是整个程序。
heap object，通过new生成对象指针，通过delete该指针释放内存，delete该指针会调用该对象的析构函数。堆对象的生命周期是声明到被delete之际。通过new声明堆对象后如果不delete会产生内存泄漏。（指针指向的堆对象还存在，但是指针的生命周期结束了，作用域之外再也看不到该指针，也就没有机会delete了。即指针死亡了，但是指针指向得到空间还在。）
new内部机制
new底层包含三个动作（编译器的实现）：1）分配内存 2）转型 3）调用构造函数
分配内存：
通过c++提供的operator new方法来分配内存，内部调用底层的malloc方法。（只有成员变量需要占空间，如复数类两个double类型的变量，此处就是8个字节）。
将void类型的内存转为实际类型（即该实际类型的指针）。
通过转型后的指针调用构造函数，该指针也作为参数传给构造函数的this指针。
delete内部机制
delete底层包含两个动作（编译器实现）：1）调用析构函数 2）释放内存
调用析构函数：释放通过new动态分配的堆上的内存。
调用c++提供的operator delete释放该对象本身所占用的内存（对于string类的对象来说，就是一个成员指针变量）。内部调用free方法。
动态分配所得的内存。
内存块大小分析：对象本身大小 + 调试模式（调试模式下会在对象位置前后分别占用32（debugger header）和4个字节（no man land），非调试模式没有该部分（release mode））+ 内存前后的cookie（4&lt;em&gt;2个字节） + 16字节倍数对齐需要的padding
cookie记录整个分配内存的大小，方便内存回收。（因为回收时只有一个指针，并不知道大小）
cookie的最后一位是1，以此标志此块内存分配出去了（即程序获得了该块内存），0表示没有分配出去，即可以用来分配（释放内存，还给操作系统后，最后1位变成0）。因为16字节对齐的话，即是16字节倍数的话，申请内存的大小以二进制表示的话最后四个bit一定是0，因此借用最后一位来标记。
在32位机器上，一个指针大小为4个字节。
动态分配数组内存
new搭配delete，array new要搭配array delete。
内存块大小分析：对象本身大小&lt;/em&gt;个数（数组的长度）+ 调式模式（32 +4 给字节，如果开启调试模式的话）+ 该段内存前后cookie（4*2个字节）+ 数组长度（即保存的对象个数，1个字节）+ 16字节对齐需要的padding
使用array delete释放内存时，编译器知道是个数组，含有多个对象，会调用多次析构函数，析构函数会把各自分配的动态内存删掉。若使用delete释放时，编译器以为只有一个对象，只会调用一次析构函数。剩下的析构函数不会被调用，动态分配的内存不会被收回。内存泄漏的是动态分配的内存，上面分析大小的那段内存会在调用完析构函数后收回。
像复数这种不含指针的类，使用array new后不使用array delete也不会发生内存泄漏。但是良好的习惯是搭配array delete使用。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;补充：
static
如何使用static？在成员变量或成员方法声明时加上static修饰，就成为了静态成员变量或静态成员方法。
成员方法只有一份，对于不同的对象调用相同的成员方法，其实是传进去的this指针不同，然后根据不同的this指针找到不同的数据进行处理。
this指针，成员方法里面可写可不写，但是参数中一定不能写，是编译器自动加进去的。
静态数据只有一份，在内存中与对象是分开存放的。
静态函数没有this指针，静态函数只能处理静态数据。
声明和定义：当语句导致获得内存，该行语句便叫做定义。
当类中声明了静态数据时，需要单独在类外对该变量进行定义：类型 类名：：变量名= 初值（赋初值不是必须的）。
调用静态方法的两种方式：
通过对象调用。但是不同于非静态方法的调用，编译器不会把当前对象的地址传给方法的this指针。
通过类名调用。
在方法内部定义static对象或变量，只有当该方法被第一次调用时，该静态对象才会生成，方法调用结束后，该静态对象仍然存在，下一次调用该方法不会再次创建该静态对象（永远只有一份）。
单例模式：
把构造函数放到private里，不允许外部调用
提供静态方法，在方法内部创建静态对象并将该对象方法。（另外一种做法是在类内单独声明静态对象，不在方法中定义。）
通过调用静态方法拿到静态对象，调用相应的方法。
cout可以打印各种类型
extern 关键字声明cout
cout的类继承自ostream，ostream针对各种类型实现了&amp;laquo;操作符重载。
模板类
声明类的时候，最开始使用 templa&lt;!-- raw HTML omitted --&gt;，内部用T表示类型。
使用的时候，声明对象的时候通过&amp;lt;&amp;gt;说明实际类型。
模板会造成代码的膨胀(不是缺点)
模板函数
声明、定义方法的时候，最开始使用 templa&lt;!-- raw HTML omitted --&gt;，内部用T表示类型。
使用的时候无需像模板类那样额外声明，编译器会对模板函数进行参数类型推导。
传进的参数类型需要支持模板函数内部的操作（可能需要该类实现操作符重载）
namespace
语法：namespce std { }。
防止和其他的程序出现同名导致冲突。
同一个命名空间的代码不一定写到一起，可以分开写，都用同样的命名空间包住。
使用命名空间下的东西：
using directive：using namespace std；
using declaration：using std::cout;
直接使用：std::cout &amp;laquo; std::endl;
组合与继承
类之间的三种关系：继承，复合，委托
Composition：复合，表示has-a的关系。画图表示：黑色菱形表示复合。
Container类中拥有Component对象作为成员变量。
设计模式：Adapter。A拥有B，A的功能由调用B实现。A为了需求改下名称或者接口。A为adapter。
内存（对象大小）角度分析：A的大小包含B。
构造和析构（代码中红色部分为编译器自动加上的）
构造由内而外，A的构造函数首先调用B的默认构造函数。
A::A(&amp;hellip;): B() {&amp;hellip;};
析构由外而内，A首先执行自己的构造函数，然后调用B的构造函数。
A::~A(&amp;hellip;) {&amp;hellip; ~B()};
在A调用B的构造函数时，调用的是其默认构造函数。如需调用B的其他构造函数进行初始化，需要手动调用（在A的初始化列表中调用B对应的构造函数）。
Delegation：委托，Composition by reference。画图表示，空心菱形表示委托。
A中拥有B的指针作为成员变量。
Composition by reference。学术界中没有by pointer，只有by value和by reference。即使在传指针，依然称为by reference。
A和B的生命周期不同步。A先创建出来，因为拥有的是B的指针，可以等到需要B的时候再创建B。
设计模式：Handle/Body(pImpl): 由指针指向实现所有功能的类B，A的功能通过调用成员变量B指针来实现。A是Handle，B是Body。
A可以不变，B可以指向不同的实现类，不会外部对接口的使用。
又称编译防火墙，A不用再编译，只需要编译B即可。
用在string类，可以做reference counting。
B中包含计数变量和一个真正字符串（char &lt;em&gt;）。
copy on write：针对共享，需要修改时，先拷贝一个副本，在副本上进行修改。
当类中带有指针时，需要注意的三个函数：
拷贝构造
拷贝赋值
析构函数
Inheritance：继承。表示is-a的关系。画图表示，用空心三角形表示继承。
继承语法，关键字。
内存角度（对象大小）：子类的对象具有父类的成分。
继承最有价值的部分，与虚函数搭配。
构造和析构（B基类，A派生类）：
构造由内而外（编译器实现）。
首先调用基类的默认构造函数，再调用派生类的构造函数。
A::A(&amp;hellip;): B() {&amp;hellip;};
析构由外而内（编译器实现）。
首先调用派生类的析构函数，再调用基类的析构函数。
A::~A(&amp;hellip;) {&amp;hellip; ~B()};
基类的析构函数必须是virtual，否则会出现undefined behavior。
继承与虚函数
三种成员函数
非虚函数：不希望子类去重新定义（override，覆写）它。覆写只用在子类重新定义父类成员函数的情况。
虚函数：希望子类重新定义，且父类已经有了默认的定义。关键字：virtual。
纯虚函数：希望子类一定要提供函数的定义，父类没有默认的定义（其实纯虚函数可以有定义），否则不会通过编译。virtual func() = 0。
纯虚函数不等同于空函数，空函数可以通过编译。
虚函数运行分析：
通过子类对象调用父类的函数。
设计模式：Template Method：在父类成员方法的定义中，把暂时无法确定的动作抽象成函数，交由子类去定义。
子类对象调用父类的方法，子类对象的地址会被作为this指针传进去。
BaseClass::Func(&amp;amp;obj)
父类方法内在调用其他方法时是通过this来进行调用。
this-&amp;gt;Func();
(&lt;/em&gt;(this-&amp;gt;vptr)[n])(this);
Inheritance + Composition情况下的构造和析构
子类具有Component。
子类对象包含基类部分和Component部分。
基类的构造函数和Component的构造函数的调用顺序影响不大，但是需要去明确具体顺序（构造函数打印cout，观察一下）。最后执行子类的构造函数。
父类具有Component。
子类对象包含基类部分，基类部分包含Component部分。
构造函数调用：子类构造时先调用基类构造函数，基类构造时先调用Component构造函数。所以顺序是：Component，基类，子类。
析构函数与构造函数相反。
Delegation + Inheritance
Observer设计模型
数据类拥有一个Observer类指针数组（此处必须要是指针，因为c++ vector中的元素必须一样大小，如果直接放对象不能保证一样大小）。（委托）
Observer作为基类可以被继承，有不同实现。（继承）
一个数据类可以被不同类型的observer访问。当数据修改时，不同的observer可以被同时感知到，以触发相应的行为（如数据展示）。
数据类中需要提供几个功能函数：
注册，将observer放入到Observer类指针数组中。
注销。
notify，通知：遍历调用observer相应接口，更新数据。（需要observer提供接口）
委托相关设计
设计模式：对于一类问题的一种解法。
设计模式：Composite。
文件系统设计：文件夹和文件，文件夹里可以放文件夹和文件。
文件：Primitive类
文件夹：Composite类
Primitive类和Composite类均继承自Component类。（继承）
Component设计：
int类型成员变量
add成员方法，参数为Component类型指针（可以往文件夹里面add文件和文件夹，所以是父类的指针），且为虚函数，无动作（不能为纯虚函数，文件类不需要实现）。
Primitive类设计：
简单继承Component类
不覆写add方法。
Composite类设计：
vector成员变量，元素类型为Component指针(不能为对象, 对象类型、大小不一致)，表示文件夹里面的文件和文件夹。
覆写add方法。
设计模式：Prototype。
问题：有一个继承体系，在父类中需要创建未来才出现的子类类型的对象。（当前不知道未来的子类名称）即现在要去创建未来的类的对象。
解法：未来的子类创建自己的对象给父类。
画图表示，下划线静态类型。-表示私有，#表示protect。
类的设计：
基类 Image：
static Image *findAndClone(imageType); public方法，通过类型找到对应子类的原型（对象）并拷贝一个对象副本返回。
virtual Image *clone() = 0; 纯虚函数，子类必须实现，父类在findAndClone方法中通过子类原型对象调用，已得到对应副本。（静态函数调用需要类名，clone不能设计为静态类型函数。clone函数的设计，需要知道对应的类型，所以只能通过对象调用）。
static void addPrototype(Image *image)；子类在默认构造函数中调用，以将原型对象注册到基类中。
static Image *_prototypes[10]; Image指针类型的数组，用来存放，子类注册的原型对象指针。
子类LandSatImage：
public 方法：Image *clone()；内部通过调用子类的非默认构造函数（防止和原型对象重复）生成副本对象并返回。
LandSatImage(int dummy)；带参数的构造函数，保护或私有类型。在clone函数中被调用，用来生成副本对象(区分原型和副本)。构造函数内部会将成员变量_id加一。
static LandSatImage _landSatImage; 私有变量，子类类型的静态变量。在程序开始时会调用子类的默认构造函数，并在默认构造函数中将该类型原型注册到父类中。注意静态变量调用构造函数的时间。
LandSatImage()；默认构造函数，私有变量。静态成员变量_landSatImage初始化时调用，在构造函数中调用addPrototype(this); 通过this指针将该类原型注册到基类中。
static int _count; 记录当前类型副本的个数。
int _id; 当前类型对象的id。&lt;/p&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/notes/%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/c&#43;&#43;/%E9%97%AE%E9%A2%98/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/notes/%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/c&#43;&#43;/%E9%97%AE%E9%A2%98/</guid>
        <description>&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;智能指针对象的初始化问题&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://stackoverflow.com/questions/28761549/c-linker-complains-multiple-definition-of-char-but-not-stdstring&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;namespaces - C++ Linker complains multiple definition of char* but not std::string - Stack Overflow&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;bazel + swig，pylint报错&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;terryyuan@zy:/data1/yuanding/local/gitlab/ctc_decoder$ python3 -m pylint --rcfile /data1/share/gitlab/docker_asr/.pylintrc tests
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;************* Module tests.ctc_decoder_py_test
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tests/ctc_decoder_py_test.py:9:0: E0611: No name &lt;span class=&#34;s1&#34;&gt;&amp;#39;CtcDecoder&amp;#39;&lt;/span&gt; in module &lt;span class=&#34;s1&#34;&gt;&amp;#39;ctc_decoder&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;no-name-in-module&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tests/ctc_decoder_py_test.py:9:0: E0611: No name &lt;span class=&#34;s1&#34;&gt;&amp;#39;PathTrie&amp;#39;&lt;/span&gt; in module &lt;span class=&#34;s1&#34;&gt;&amp;#39;ctc_decoder&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;no-name-in-module&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tests/ctc_decoder_py_test.py:9:0: E0611: No name &lt;span class=&#34;s1&#34;&gt;&amp;#39;TrieVector&amp;#39;&lt;/span&gt; in module &lt;span class=&#34;s1&#34;&gt;&amp;#39;ctc_decoder&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;no-name-in-module&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-------------------------------------------------------------------
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Your code has been rated at 5.83/10 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;previous run: 10.00/10, -4.17&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;    fix:&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;     项目python文件夹&lt;code&gt;__init__.py&lt;/code&gt;文件，要明确import的内容：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ERROR:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# from .ctc_decoder_py import *  ERROR!&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# RIGHT:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;.ctc_decoder_py&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CtcDecoder&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PathTrie&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TrieVector&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/notes/%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/python%E6%89%93%E5%8C%85/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/notes/%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/python%E6%89%93%E5%8C%85/</guid>
        <description>&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;ch&#34;&gt;#!/usr/bin/env python3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# -*- coding: utf-8 -*-&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Created by yuanding on 2022/11/08&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;setuptools&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;setup&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;try&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;wheel.bdist_wheel&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bdist_wheel&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_bdist_wheel&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;bdist_wheel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;_bdist_wheel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;finalize_options&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;_bdist_wheel&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;finalize_options&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root_is_pure&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;except&lt;/span&gt; &lt;span class=&#34;ne&#34;&gt;ImportError&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;bdist_wheel&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;setup&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ctc_decoder&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;1.0.0&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;author&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;zhuiyi speech&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;package_data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ctc_decoder&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;_ctc_decoder.so&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;include_package_data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;packages&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ctc_decoder&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ctc解码器, 支持语言模型和热词.&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;platforms&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Unix&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;cmdclass&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;bdist_wheel&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bdist_wheel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/notes/%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/triton/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/notes/%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/triton/</guid>
        <description>&lt;h1 id=&#34;triton-inference-server&#34;&gt;Triton Inference Server&lt;/h1&gt;
&lt;h2 id=&#34;overview&#34;&gt;Overview&lt;/h2&gt;
&lt;h3 id=&#34;推理服务的一般框架&#34;&gt;推理服务的一般框架&lt;/h3&gt;
&lt;h4 id=&#34;客户端&#34;&gt;客户端&lt;/h4&gt;
&lt;h4 id=&#34;服务端&#34;&gt;服务端&lt;/h4&gt;
&lt;h5 id=&#34;集群&#34;&gt;集群&lt;/h5&gt;
&lt;p&gt;k8s&lt;/p&gt;
&lt;p&gt;多卡多节点&lt;/p&gt;
&lt;p&gt;资源管理，自动扩缩容&lt;/p&gt;
&lt;h5 id=&#34;容器化的推理服务&#34;&gt;容器化的推理服务&lt;/h5&gt;
&lt;p&gt;基于单节点进行推理服务&lt;/p&gt;
&lt;p&gt;CPU和GPU推理服务，异构计算&lt;/p&gt;
&lt;p&gt;支持多种推理框架&lt;/p&gt;
&lt;h5 id=&#34;模型仓库&#34;&gt;模型仓库&lt;/h5&gt;
&lt;h5 id=&#34;驾驶舱&#34;&gt;驾驶舱&lt;/h5&gt;
&lt;h3 id=&#34;triton-inference-server-1&#34;&gt;Triton Inference Server&lt;/h3&gt;
&lt;h4 id=&#34;定位&#34;&gt;定位&lt;/h4&gt;
&lt;p&gt;基于单节点的推理服务&lt;/p&gt;
&lt;h4 id=&#34;基本特性&#34;&gt;基本特性&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;多种推理框架支持及自定义backend&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;支持异构计算，CPU，单卡及多卡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;concurrent model execution(cpu level optimization)：多个模型实例，每个模型实例支持多线程并发&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;多种推理网络接口：http/rest grpc api&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;integrates with orchestration systems and auto scalers via latency and health metrics&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;模型管理：加载，卸载，更新&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;triton的设计理念&#34;&gt;Triton的设计理念&lt;/h2&gt;
&lt;h3 id=&#34;基于推理的生命周期&#34;&gt;基于推理的生命周期&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;支持多种推理框架，与框架解耦，backends设计理念&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;一般功能&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;backend管理&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;模型管理&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;concurrent model execution - instance 管理&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;推理请求队列的分发和调度&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;推理生命周期管理&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;推理请求管理&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;推理响应管理&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;GRPC相关&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;GRPC服务&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;based-on-the-abstraction-of-customer-scenarios&#34;&gt;Based on the abstraction of Customer Scenarios&lt;/h3&gt;
&lt;p&gt;mostly model type relevant.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Single independent model&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ensemble with a model pipeline&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;stateful model&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;triton关键设计概念&#34;&gt;Triton关键设计概念&lt;/h3&gt;
&lt;p&gt;Model type is the key&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-00-03-23-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-00-04-02-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-00-05-37-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-00-06-34-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-00-07-00-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-00-08-12-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-00-09-04-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-24-23-41-19-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-24-23-43-10-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-24-23-43-49-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-24-23-54-25-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;triton-的关键功能模块-model-analyzer&#34;&gt;Triton 的关键功能模块 Model Analyzer&lt;/h2&gt;
&lt;p&gt;可用于分析模型效能和内存占用空间的特性，以实现高效率服务&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-12-56-00-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-12-58-44-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-13-03-39-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-13-12-21-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-13-13-04-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-13-13-49-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-13-14-58-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/notes/%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/triton2/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/notes/%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/triton2/</guid>
        <description>&lt;h1 id=&#34;triton&#34;&gt;Triton&lt;/h1&gt;
&lt;p&gt;在 Triton Inference Server 2.13.0 版本上部署 AI 模型的 5 个最基本的模块。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-13-45-30-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-13-47-05-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-13-47-53-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;主备模型仓库&#34;&gt;主备模型仓库&lt;/h2&gt;
&lt;p&gt;教程一为如何准备 Model Repository, Model Repository 必须组织为三级结构。第二级为模型目录，模型目录包含二个关键的组件，分别是 Version Directory，Config File。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-13-52-15-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-15-31-43-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-15-34-28-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;2&#34;&gt;2&lt;/h2&gt;
&lt;p&gt;教程二将讲解如何编写 model configuration 文件。config 文件的三个基本参数包括 platform / backend, max_batch_size，input &amp;amp; output；可配置的参数如 instance_group，scheduling and batching 策略，optimization 策略等，来提升 GPU 利用率、制定加载的模型版本、提升模型推理效率等。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-15-38-01-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-15-44-39-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-15-43-57-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-15-46-22-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;max_batch_size大于0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;max_batch_size等于0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;libtorch模型输入输出节点名称&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;reshape应用&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-15-59-28-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-16-05-00-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;不指定gpus，triton会在每张卡上跑上相应count的instance。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-16-09-11-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-16-10-32-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-16-16-44-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-16-19-04-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-16-21-03-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-16-31-27-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-16-32-11-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-16-34-24-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-16-36-50-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-16-38-21-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;3&#34;&gt;3&lt;/h2&gt;
&lt;p&gt;教程三将讲解一些常用的 Triton Server 的开启方式，开启过程中需要注意的配置选项。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-17-24-30-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-17-50-30-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-17-54-13-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-17-56-45-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-18-12-25-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-18-06-31-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-18-19-30-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;4&#34;&gt;4&lt;/h2&gt;
&lt;p&gt;教程四介绍使用 Ensemble Model 功能在 Triton Server 上部署 AI 管道。并提供了三个案例的实战演示。Triton 也提供了 BLS (business_logic_scripting) 等功能来满足该需求。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-18-26-56-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-18-28-37-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-18-29-31-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;input_map output_map&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;key：模型配置文件本身定义的名字&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;value：模型在ensemble配置中定义的名字，起串联各个step的作用.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-18-37-14-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-18-39-23-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-18-48-09-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;5&#34;&gt;5&lt;/h2&gt;
&lt;p&gt;教程五介绍配置好服务端的前提下，如何编写一个简单的客户端向服务端发送请求，来验证服务端的有效性。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-19-00-00-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-19-00-31-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-19-07-06-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-22-41-45-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cmasha%5cAppData%5cRoaming%5cmarktext%5cimages%5c2022-09-25-22-46-51-image.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;什么时候使用shared memory&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;单机客户端调用服务端&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;python backend向pipline中其他模型发送请求，接受结果&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/notes/%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/vscode/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/notes/%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/vscode/</guid>
        <description>&lt;h1 id=&#34;vscode-环境配置&#34;&gt;vscode 环境配置&lt;/h1&gt;
&lt;h2 id=&#34;vscode代码检查及格式化配置&#34;&gt;vscode代码检查及格式化配置&lt;/h2&gt;
&lt;h3 id=&#34;c配置&#34;&gt;C++配置&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;cpplint
vscode安装cpplint插件，进行配置。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;cpplint.filters&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;s2&#34;&gt;&amp;#34;-legal/copyright&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;s2&#34;&gt;&amp;#34;-build/c++11&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;clang-format
配置vscode:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;C_Cpp.clang_format_style&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;{ BasedOnStyle: Google, IndentWidth: 2, ColumnLimit:  80}&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;C_Cpp.clang_format_fallbackStyle&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;{ BasedOnStyle: Google, IndentWidth: 2, ColumnLimit:  80}&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;python配置&#34;&gt;python配置&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;pylint
配置vscode:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;python.linting.pylintEnabled&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;python.linting.pylintArgs&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;s2&#34;&gt;&amp;#34;--rcfile&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;s2&#34;&gt;&amp;#34;/data1/share/gitlab/docker_asr/.pylintrc&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;yapf&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;在Linux服务器上安装在yapf:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pip3 install yapf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置vscode:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;python.formatting.provider&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;yapf&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;python.formatting.yapfArgs&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;--style&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;{based_on_style: google, indent_width: 2, column_limit: 80}&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;shell配置&#34;&gt;shell配置&lt;/h3&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/notes/%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/%E9%87%8D%E6%9E%84/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/notes/%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/%E9%87%8D%E6%9E%84/</guid>
        <description>&lt;h1 id=&#34;重构2&#34;&gt;《重构2》&lt;/h1&gt;
&lt;h2 id=&#34;1-重构的基本认识&#34;&gt;1. 重构的基本认识&lt;/h2&gt;
&lt;h3 id=&#34;需求的变化使重构变得必要&#34;&gt;需求的变化使重构变得必要&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;重构代码以易于添加新特性。
如果要给程序添加一个特性，但发现代码因缺乏良好的结构而不易于进行更改，那就先重构程序使其比较容易添加该特性，然后再添加该特性。&lt;/li&gt;
&lt;li&gt;需求的变化使重构变得必要。
如果一段代码能正常工作并且不会再被修改，可以不去重构。如果确实有人需要理解它的工作原理，并且觉得理解起来很费劲，那就需要改进一下代码了。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;重构需要完善的单元测试&#34;&gt;重构需要完善的单元测试&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;重构前首先检查自己是否有一套可靠的测试集，这些测试必须有自我检验能力。&lt;/li&gt;
&lt;li&gt;重构技术就是以微小的步伐修改程序。
重构后即运行测试的习惯非常重要，做完一次修改就运行测试。这样在犯了错时，只需要考虑一个很小的改动范围，这使得查错与修复问题非常简单。这就是重构过程的精髓所在：小步修改，每次修改后就运行测试。&lt;/li&gt;
&lt;li&gt;使用git等版本控制系统。
因为它们可以支持本地提交。每次成功的重构后提交代码，如果修改出了问题，可以轻松回滚到上一个可工作的状态。把代码推送到远端仓库前，把零碎的修改压缩成一个更有意义的提交。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;变量命名与方法命名&#34;&gt;变量命名与方法命名&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;对于动态类型语言(如JavaScript)，跟踪变量的类型很有意义，为参数取名时都可以带上其类型名。&lt;/li&gt;
&lt;li&gt;好代码应能清楚地表明它在做什么，而变量命名是代码清晰的关键，改名能够提升代码的可读性。&lt;/li&gt;
&lt;li&gt;临时变量往往会带来麻烦。它们只在对其进行处理的代码块中有用，因此临时变量实质上是鼓励你写长而复杂的函数。&lt;/li&gt;
&lt;li&gt;好的方法名称，可以帮助我们了解方法的行为，甚至可以省去阅读函数体。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;重构与性能的思考&#34;&gt;重构与性能的思考&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;重构一般不会引入性能损耗。
如果在重构前后进行计时，很可能发现通常没什么变化。&lt;/li&gt;
&lt;li&gt;软件的性能通常只与代码的一小部分相关。
在聪明的编译器和现代的缓存技术面前，我们很多直觉都是不准确的(例如重构引入的循环很少影响性能)。软件的性能通常只与代码的一小部分相关，改变其他的部分往往对总体性能贡献甚微。&lt;/li&gt;
&lt;li&gt;如果重构引入了性能损耗，先完成重构再做性能优化。
因为有了一份结构良好的代码，回头调优其性能也容易得多。如果在重构时引入了明显的性能损耗， 后面再进行性能调优，因为重构使得可以使用更高效的调优方案。因此对于重构过程的性能问题，总体的建议是：大多数情况下可以忽略它。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;营地法则&#34;&gt;营地法则&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;编程时需要遵循营地法则：保证你离开时的代码库一定比来时更健康。
需要在所有可做的重构与添加新特性之间寻找平衡。我的观点与营地法则无异：保证离开时的代码库一定比你来时更加健康。完美的境界很难达到，但应该时时都勤加拂拭。&lt;/li&gt;
&lt;li&gt;好代码的检验标准就是人们是否能轻而易举地修改它。
好代码应该直截了当：有人需要修改代码时，他们可以轻易找到修改点，快速做出更改而不易引入其他错误。一个健康的代码库能够最大限度地提升我们的生产力，支持我们更快、更低成本地添加新特性。为了保持代码库的健康，就需要时刻留意现状与理想之间的差距，通过重构不断接近这个理想。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-重构的原则&#34;&gt;2. 重构的原则&lt;/h2&gt;
&lt;h3 id=&#34;何谓重构&#34;&gt;何谓重构&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;重构(名词): 对软件内部结构的一种调整，目的是在不改变软件可观察行为的前提下，提高其可理解性，降低其修改成本。&lt;/li&gt;
&lt;li&gt;重构(动词): 使用一系列重构手法，在不改变软件可观察行为的前提下，调整其结构。&lt;/li&gt;
&lt;li&gt;重构过程不应影响程序的可工作状态。
重构的关键在于运用大量微小且保持软件行为的步骤，一步步达成大规模的修改。因此在重构的过程中，代码应该很少进入不可工作的状态。即便重构没有完成，也可以在任何时刻停下来。&lt;/li&gt;
&lt;li&gt;如果在重构过程中发现了任何bug，重构完成后同样的bug应该仍然存在。(如果潜在的bug还没有被发现，也可以当即把它改掉)。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;两顶帽子&#34;&gt;两顶帽子&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;使用重构技术开发软件时，把时间分配给两种截然不同的行为：添加新功能和重构。&lt;/li&gt;
&lt;li&gt;添加新功能
添加新功能时不应该修改既有代码，只管添加新功能，添加测试并让测试正常运行。&lt;/li&gt;
&lt;li&gt;重构
重构时不能再添加功能，只调整代码的结构。此时不应该添加任何测试(除非发现有先前遗漏的东西)，只在绝对必要(如接口变化)时才修改测试。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;为何重构&#34;&gt;为何重构&lt;/h3&gt;
&lt;h4 id=&#34;重构改进软件的设计&#34;&gt;重构改进软件的设计&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;如果没有重构，程序的内部设计(或架构)会逐渐腐败混乱。
当人们只为短期目的而修改代码时，他们经常没有完全理解架构的整体设计，于是代码会逐渐失去原有的结构。程序员越来越难通过阅读源码来理解原来的设计。&lt;/li&gt;
&lt;li&gt;代码结构的流失有累积效应。
随着代码结构的流失，越难看出代码所代表的设计意图，就越难保护其设计，于是设计就腐败得越快。经常性的重构有助于代码维持自己该有的形态。&lt;/li&gt;
&lt;li&gt;消除重复代码。
改进设计的一个重要方向就是消除重复代码。代码量减少并不会使系统运行更快，但是可以使未来可能的修改动作容易得多。消除重复代码，我就可以确定所有事物和行为在代码中只表述一次，这正是优秀设计的根本。
&lt;ol&gt;
&lt;li&gt;如果将来我需要做修改，就必须同时修改两处。&lt;/li&gt;
&lt;li&gt;如果将来还需要一个类似又略有不同的功能，只能再复制粘贴一次。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;重构使软件更容易理解&#34;&gt;重构使软件更容易理解&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;编程的核心在于: 准确说出我想要的。
除了计算机外，源码还有其他读者：一段时间之后可能会有其他人尝试读懂我的代码并对其做一些修改，这才是最重要的。计算机是否多花了几个时钟周期来编译，又有什么关系呢？其他人可能花费一周时间来修改某段代码，如果他理解了代码，这个修改可能只需要一个小时。&lt;/li&gt;
&lt;li&gt;重构可以让代码更易读。
开始进行重构前，代码可以正常运行，但结构不够理想。在重构上花一点点时间，就可以让代码更好地表达自己的意图。&lt;/li&gt;
&lt;li&gt;通常那个未来的开发者就是我们自己。&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;重构帮助找到bug&#34;&gt;重构帮助找到bug&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;重构能够帮助我们更有效地写出健壮的代码。
如果对代码进行重构，就可以深入理解代码的所作所为，并立即把新的理解反映在代码当中。搞清楚程序结构的同时，也会验证我们所做的一些假设，可以轻松的把bug找出来。&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;重构提高编程速度&#34;&gt;重构提高编程速度&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;差的代码内部质量
一开始进展很快，后面需要花越来越多的时间去考虑如何把新功能塞进现有的代码库，不断蹦出来的bug修复起来也越来越慢。代码库看起来就像补丁摞补丁，需要细致的考古工作才能弄明白整个系统是如何工作的。这份负担不断拖慢新增功能的速度，到最后程序员恨不得从头开始重写整个系统。&lt;/li&gt;
&lt;li&gt;良好的代码内部质量
添加新功能时，可以很容易找到在哪里修改、如何修改。良好的模块划分使我们只需要理解代码库的一小部分，就可以做出修改。如果代码很清晰，引入bug的可能性就会变小。即使引入了bug，调试也会容易。&lt;/li&gt;
&lt;li&gt;设计耐久性假说
通过投入精力改善内部设计，增加软件的耐久性，从而可以更长时间地保持开发的快速。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;何时重构&#34;&gt;何时重构&lt;/h3&gt;
&lt;p&gt;三次法则: 第一次做某件事时只管去做；第二次做类似的事会产生反感，但无论如何还是可以去做；第三次再做类似的事，你就应该重构。事不过三，三则重构。&lt;/p&gt;
&lt;h4 id=&#34;预备性重构让添加新功能更容易&#34;&gt;预备性重构：让添加新功能更容易&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;重构的最佳时机就在添加新功能之前。
在添加新功能时，如果对代码结构做一点微调，修改会容易得多。例如已经有函数提供了我们需要的大部分功能，但有几个字面量的值与需求略有冲突。如果不做重构，可能会把整个函数复制过来并修改，造成代码重复。&lt;/li&gt;
&lt;li&gt;修复bug时重构。
&lt;ol&gt;
&lt;li&gt;如果把多处一样且都会导致错误的代码合并到一处，问题修复起来会容易得多。&lt;/li&gt;
&lt;li&gt;如果把某些更新数据的逻辑与查询逻辑分开，会更容易避免造成错误的逻辑纠缠。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;帮助理解的重构使代码更易懂&#34;&gt;帮助理解的重构：使代码更易懂&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;我们无法在脑海中推演复杂代码中的所有变化。重构让代码变得更清晰一些时，我们会看见之前看不见的设计问题。&lt;/li&gt;
&lt;li&gt;重构会引领我们获得更高层面的理解，如果只是阅读代码很难有此领悟。&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;捡垃圾式重构&#34;&gt;捡垃圾式重构&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;主线任务和代码重构的取舍
在进行主线开发时，如果有需要进行重构的代码，需要衡量完成重构的时间。如果时间很快，可以马上重构它；如果重构需要花一些精力，可以记下来，完成当下的任务再回来进行重构。&lt;/li&gt;
&lt;li&gt;至少要让营地比你到达时更干净
重构的妙处就在于，每个小步骤都不会破坏代码。所以有时一块垃圾在几个月之后才清理干净，但即便每次清理并不完整，代码也不会被破坏。&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;有计划的重构和见机行事的重构&#34;&gt;有计划的重构和见机行事的重构&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;见机行事的重构
见机行事的重构即指以上在以上重构时机进行重构。&lt;/li&gt;
&lt;li&gt;有计划的重构
&lt;ol&gt;
&lt;li&gt;如果团队过去忽视了重构，可能需要专门花一些时间来优化代码库，以便更容易添加新功能。&lt;/li&gt;
&lt;li&gt;有时即便团队做了日常的重构，还是会有问题在某个区域逐渐累积长大，最终需要专门花些时间解决。&lt;/li&gt;
&lt;li&gt;有计划的重构应该很少。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;长期重构&#34;&gt;长期重构&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;可能有一些大型的重构可能要花上数周，可以让整个团队达成共识，在未来几周时间里逐步解决这个问题。每当有人靠近&amp;quot;重构区&amp;quot;的代码，就把它朝想要改进的方向推动一点。&lt;/li&gt;
&lt;li&gt;这个策略的好处在于，重构不会破坏代码，每次小改动之后整个系统仍然照常工作。例如如果想替换掉一个正在使用的库，可以先引入一层新的抽象，使其兼容新旧两个库的接口。一旦调用方已经完全改为使用这层抽象，替换下面的库就会比较轻松。(这个策略叫作Branch By Abstraction[mf-bba]。)&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;复审代码时重构&#34;&gt;复审代码时重构&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;重构可以帮助复审别人的代码。&lt;/li&gt;
&lt;li&gt;重构还可以帮助代码复审工作得到更具体的结果。&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;何时不应该重构&#34;&gt;何时不应该重构&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;代码不需要修改
如果凌乱的代码，被隐藏在一个API之下，不需要修改它，那么我们就不需要重构它。只有当我们需要理解其工作原理时，对其进行重构才有价值。&lt;/li&gt;
&lt;li&gt;重写比重构简单
如果重写比重构还容易，就别重构了。做出判断会比较困难，如果不花一点时间尝试，往往很难了解重构一块代码的难度。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;重构的挑战&#34;&gt;重构的挑战&lt;/h3&gt;
&lt;h4 id=&#34;延缓新功能开发&#34;&gt;延缓新功能开发&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;重构的唯一目的就是让我们开发更快，用更少的工作量创造更大的价值。&lt;/li&gt;
&lt;li&gt;需要取舍的情况。
有一种情况确实需要权衡取舍。有时会有一个(大规模的)重构很有必要进行，而马上要添加的功能非常小，这时先把新功能加上，然后再做这次大规模重构会更合适。&lt;/li&gt;
&lt;li&gt;重视改善代码库健康的价值，合理判断何时应该重构、何时应该暂时不重构。&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;代码所有权&#34;&gt;代码所有权&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;很多重构手法不仅会影响一个模块内部，还会影响该模块与系统其他部分的关系。代码所有权的边界会妨碍重构，一旦进行修改修改，就会破坏使用者的程序。&lt;/li&gt;
&lt;li&gt;对于接口的变动，可以把旧的接口标记为&amp;quot;不推荐使用&amp;quot;(deprecated)，并根据时机完成旧接口的删除。&lt;/li&gt;
&lt;li&gt;在团队之间使用较宽容的代码所有制，类似于开源的模型。&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;分支&#34;&gt;分支&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;版本控制实践
&lt;ol&gt;
&lt;li&gt;使用特性分支&lt;/li&gt;
&lt;li&gt;持续集成(Continuous Integration，CI），也叫基于主干开发(Trunk-Based Development)&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;使用特性分支
&lt;ol&gt;
&lt;li&gt;保持主线不受尚未完成的代码侵扰，保留清晰的功能添加的版本记录，并且在某个功能出问题时能容易地撤销修改。&lt;/li&gt;
&lt;li&gt;随着特性分支存在的时间加长，合并的难度会指数上升。应该尽量缩短特性分支的生存周期，尽可能频繁集成。&lt;/li&gt;
&lt;li&gt;重构会加剧分支合并的困难。&lt;/li&gt;
&lt;li&gt;对于开源项目，特性分支可能是合适的做法，因为不时会有不熟悉(不信任)的程序员提交修改。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;持续集成
&lt;ol&gt;
&lt;li&gt;团队成员每天至少向主线集成一次。避免任何分支彼此差异太大，从而降低了合并的难度。&lt;/li&gt;
&lt;li&gt;必须使用相关的实践以确保主线随时处于健康状态。
&lt;ul&gt;
&lt;li&gt;必须学会将大功能拆分成小块。&lt;/li&gt;
&lt;li&gt;必须使用特性开关(feature toggle，也叫特性旗标，feature flag) 将尚未完成又无法拆小的功能隐藏掉。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;CI和重构能够良好配合。&lt;/li&gt;
&lt;li&gt;使用CI的团队往往同时也使用分支，但他们会每天将分支与主线合并。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;测试&#34;&gt;测试&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;自测试的代码不仅使重构成为可能，而且使添加新功能更加安全，因为我们可以很快发现并解决新引入的bug。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;自测试代码与持续集成紧密相关: 我们仰赖持续集成来及时捕获分支集成时的语义冲突。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;遗留代码&#34;&gt;遗留代码&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;遗留系统多半没测试。
如果面对一个庞大而又缺乏测试的遗留系统，很难安全地重构清理它。&lt;/li&gt;
&lt;li&gt;添加自动测试。
&lt;ol&gt;
&lt;li&gt;先找到程序的接缝，在接缝处插入测试，将系统置于测试覆盖之下。&lt;/li&gt;
&lt;li&gt;可能需要运用重构手法创造出接缝: 因为没有测试覆盖，这样的重构很危险，但这是为了取得进展必要的风险。&lt;/li&gt;
&lt;li&gt;强烈建议从一开始就写能自测试的代码。&lt;/li&gt;
&lt;li&gt;随时重构相关的代码：每次触碰一块代码时，尝试把它变好一点点: 至少要让营地比我到达时更干净。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;数据库&#34;&gt;数据库&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;借助数据迁移脚本，将数据库结构的修改与代码相结合，使大规模的、涉及数据库的修改可以比较容易地开展。&lt;/li&gt;
&lt;li&gt;与通常的重构相同之处
数据库重构的关键也是小步修改并且每次修改都应该完整，这样每次迁移之后系统仍然能运行。由于每次迁移涉及的修改都很小，实现起来相对容易；将多个迁移串联起来，就能对数据库结构及其中存储的数据做很大的调整。&lt;/li&gt;
&lt;li&gt;与常规的重构不同之处
通常数据库重构最好是分散到多次生产发布来完成，这样即便某次修改在生产数据库上造成了问题，也比较容易回滚。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;重构架构和yagni&#34;&gt;重构、架构和YAGNI&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&amp;ldquo;在编码之前先完成架构&amp;quot;这种做法最大的问题在于，它假设了软件的需求可以预先充分理解。但经验显示，这个假设大多时候是不切实际的。&lt;/li&gt;
&lt;li&gt;植入灵活性
应对未来变化的办法之一，就是在软件里植入灵活性机制。但这不是免费午餐，很多时候这些灵活性机制反而拖慢了我们响应变化的速度。&lt;/li&gt;
&lt;li&gt;YAGNI
&lt;ol&gt;
&lt;li&gt;YAGNI：简单设计、增量式设计或者YAGNI[mf-yagni]，你不会需要它(you arenʼt going to need it)的缩写。与其猜测未来需要哪些灵活性、 需要什么机制来提供灵活性，我们只根据当前的需求来构造软件，同时把软件的设计质量做得很高。随着对需求的理解加深，再对架构进行重构，使其能够应对新的需要。&lt;/li&gt;
&lt;li&gt;可以YAGNI视为将 架构、设计与开发过程融合的一种工作方式，这种工作方式必须有重构作为基础才可靠。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;重构与软件开发过程&#34;&gt;重构与软件开发过程&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;敏捷开发的三大实践
自测试代码、持续集成、重构，彼此之间有着很强的协同效应。&lt;/li&gt;
&lt;li&gt;重构和YAGNI
重构(及其前置实践)是YAGNI的基础，YAGNI又让重构更易于开展：比起一个塞满了想当然的灵活性的系统，修改一个简单的系统要容易得多。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;重构与性能&#34;&gt;重构与性能&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&amp;ldquo;编写快速软件&amp;quot;的秘密就是：先写出可调优的软件，然后调优它以求获得足够的速度。&lt;/li&gt;
&lt;li&gt;3种编写快速软件的方法
&lt;ol&gt;
&lt;li&gt;最严格的是时间预算法。这通常只用于性能要求极高的实时系统。&lt;/li&gt;
&lt;li&gt;持续关注法。这种方法要求任何程序员在任何时间做任何事时，都要设法保持系统的高性能。&lt;/li&gt;
&lt;li&gt;性能提升法。大部分程序时间消耗在小部分代码中，对此部分代码进行优化。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;构造良好的程序可从两方面帮助我们优化方式。
&lt;ol&gt;
&lt;li&gt;让我们有比较充足的时间进行性能调整，能够更快速地添加功能，也就有更多时间用在性能问题上。&lt;/li&gt;
&lt;li&gt;面对构造良好的程序，我在进行性能分析时便有较细的粒度。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;自动化重构&#34;&gt;自动化重构&lt;/h3&gt;
&lt;h2 id=&#34;3-低质量的代码&#34;&gt;3. 低质量的代码&lt;/h2&gt;
&lt;h3 id=&#34;神秘命名&#34;&gt;神秘命名&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;整洁代码最重要的一环就是好的名字，我们需要深思熟虑如何给函数、模块、变量和类命名，使它们能清晰地表明自己的功能和用法。&lt;/li&gt;
&lt;li&gt;命名是编程中最难的两件事之一[mf-2h]。&lt;/li&gt;
&lt;li&gt;改名不仅仅是修改名字而已。如果你想不出一个好名字，说明背后很可能潜藏着更深的设计问题。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;重复代码&#34;&gt;重复代码&lt;/h3&gt;
&lt;p&gt;重复代码的负面效应：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;阅读这些重复的代码时就需要加倍仔细，留意其间细微的差异。&lt;/li&gt;
&lt;li&gt;如果要修改重复代码，必须找出所有的副本来修改。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;过长函数&#34;&gt;过长函数&lt;/h3&gt;
&lt;p&gt;应该更积极地分解函数。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;小的函数不会带来负面效果&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;现代编程语言几乎已经完全免除了进程内的函数调用开销。&lt;/li&gt;
&lt;li&gt;现代的开发环境可以在函数调用处与声明处之间快速跳转，或同时看到两处。&lt;/li&gt;
&lt;li&gt;关键在于良好的命名。函数名恰当，就可以通过名字了解函数的作用，不必去看代码。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;函数需要拆分时的特征&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;寻找注释。它们通常能指出代码用途和实现手法之间的语义距离。可以将这段代码替换成一个函数，而且可以在注释的基础上给这个函数命名。以其用途（而非实现手法）命名&lt;/li&gt;
&lt;li&gt;条件表达式和循环常常也是提炼的信号&lt;/li&gt;
&lt;li&gt;如果函数内有大量的参数和临时变量，它们会对你的函数提炼形成阻碍。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;过长参数列表&#34;&gt;过长参数列表&lt;/h3&gt;
&lt;p&gt;过长的参数列表会经常令人迷惑。&lt;/p&gt;
&lt;h3 id=&#34;全局数据&#34;&gt;全局数据&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;全局数据的问题&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;全局数据从代码库的任何一个地方都可以进行修改，而且没有任何机制可以探测出到底哪段代码做出了修改。&lt;/li&gt;
&lt;li&gt;全局数据最常见的形式就是全局变量，但类变量和单例(singleton)也有这样的问题。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;防御手段&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;封装变量
将全局数据用一个函数包装起来，并控制对它的访问。&lt;/li&gt;
&lt;li&gt;将这个函数(封装的数据)搬移到类或模块中，控制其作用域。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;可变数据&#34;&gt;可变数据&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;对数据的修改经常导致出乎意料的结果和难以发现的bug。&lt;/li&gt;
&lt;li&gt;可以用封装变量来确保所有数据更新操作都通过很少几个函数来进行，使其更容易监控和演进。&lt;/li&gt;
&lt;li&gt;如果可变数据的值能在其他地方计算出来，可以使用以查询取代派生变量。&lt;/li&gt;
&lt;li&gt;随着变量作用域的扩展，风险也随之增大。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;发散式变化&#34;&gt;发散式变化&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;发散式变化: 如果某个模块经常因为不同的原因在不同的方向上发生变化。&lt;/li&gt;
&lt;li&gt;理想情况: 每当要对某个上下文做修改时，我们只需要理解这个上下文，而不必操心另一个。保证上下文边界清晰。&lt;/li&gt;
&lt;li&gt;不同的情况:
&lt;ol&gt;
&lt;li&gt;发生变化的两个方向自然地形成了先后次序。&lt;/li&gt;
&lt;li&gt;两个方向之间有更多的来回调用。&lt;/li&gt;
&lt;li&gt;函数内部混合了两类处理逻辑。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;霰弹式修改&#34;&gt;霰弹式修改&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;霰弹式修改: 如果每遇到某种变化，必须在许多不同的类内做出许多小修改。
&lt;ul&gt;
&lt;li&gt;如果需要修改的代码散布四处，容易错过某个重要的修改。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;使用搬移函数和搬移字段把所有需要修改的代码放进同一个模块里。&lt;/li&gt;
&lt;li&gt;面对霰弹式修改，一个常用的策略就是使用与内联相关的重构把本不该分散的逻辑整理到一处。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;依恋情结&#34;&gt;依恋情结&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;模块化: 力求将代码分出区域，最大化区域内部的交互、最小化跨区域的交互。&lt;/li&gt;
&lt;li&gt;依恋情结: 一个函数跟另一个模块中的函数或者数据交流格外频繁，远多于在所属模块内部的交流。&lt;/li&gt;
&lt;li&gt;判断哪个模块拥有的此函数使用的数据最多，然后就把这个函数和那些数据整理到一起。&lt;/li&gt;
&lt;li&gt;根本原则: 将总是一起变化的东西放在一起。
&lt;ul&gt;
&lt;li&gt;数据和引用这些数据的行为总是一起变化的。&lt;/li&gt;
&lt;li&gt;如果出现例外，我们就搬移那些行为，保持变化只在一处发生。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;数据泥团&#34;&gt;数据泥团&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;可以在很多地方看到相同的多项数据：两个类中相同的字段; 许多函数签名中相同的参数。
&lt;ul&gt;
&lt;li&gt;总是绑在一起出现的数据应该拥有属于它们自己的对象。&lt;/li&gt;
&lt;li&gt;找出这些数据以字段形式出现的地方，将它们提炼到一个独立对象中。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;一个好的评判办法: 删掉众多数据中的一项， 如果其他数据不再有意义，就应该为它们产生一个新对象。&lt;/li&gt;
&lt;li&gt;建议新建一个类，而不是简单的记录结构。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;基本类型偏执&#34;&gt;基本类型偏执&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;基本类型偏执: 大量使用基本类型，即整数、浮点数和字符串等。不创建对自己的问题域有用的基本类型，如货币、坐标、范围等。&lt;/li&gt;
&lt;li&gt;你可以运用以对象取代基本类型将原本单独存在的数据值替换为对象。&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/notes/%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/notes/%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4/</guid>
        <description>&lt;h1 id=&#34;linux下相关操作命令记录&#34;&gt;Linux下相关操作命令记录&lt;/h1&gt;
&lt;h2 id=&#34;音频处理相关&#34;&gt;音频处理相关&lt;/h2&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/notes/%E8%AF%AD%E9%9F%B3%E7%AE%97%E6%B3%95/%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB/%E4%BC%9A%E8%AE%AE%E8%AE%BA%E6%96%87/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/notes/%E8%AF%AD%E9%9F%B3%E7%AE%97%E6%B3%95/%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB/%E4%BC%9A%E8%AE%AE%E8%AE%BA%E6%96%87/</guid>
        <description>&lt;ol&gt;
&lt;li&gt;interspeech: &lt;a class=&#34;link&#34; href=&#34;https://www.isca-speech.org/archive/interspeech_2021/index.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.isca-speech.org/archive/interspeech_2021/index.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;icassp: &lt;a class=&#34;link&#34; href=&#34;https://www.paperdigest.org/2021/05/icassp-2021-highlights/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.paperdigest.org/2021/05/icassp-2021-highlights/&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/notes/%E9%9D%A2%E8%AF%95/%E9%9D%A2%E8%AF%95%E9%A2%98/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/notes/%E9%9D%A2%E8%AF%95/%E9%9D%A2%E8%AF%95%E9%A2%98/</guid>
        <description>&lt;h1 id=&#34;heading&#34;&gt;&lt;/h1&gt;
&lt;h2 id=&#34;1-语言模型&#34;&gt;1. 语言模型&lt;/h2&gt;
&lt;h3 id=&#34;ngram语言模型&#34;&gt;Ngram语言模型&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Ngram常用的平滑策略&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Laplace法则（加1平滑）&lt;/li&gt;
&lt;li&gt;Good-Turing&lt;/li&gt;
&lt;li&gt;Katz回退算法&lt;/li&gt;
&lt;li&gt;插值&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;arpa文件的各部分参数&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-深度学习&#34;&gt;2. 深度学习&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;神经网络中的Epoch、Iteration、Batchsize&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/readme/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/readme/</guid>
        <description>&lt;h1 id=&#34;notes&#34;&gt;Notes&lt;/h1&gt;
&lt;p&gt;个人笔记，工作安排仓库。&lt;/p&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E6%96%87%E6%A1%A3/asr%E5%80%BC%E5%91%A8%E8%A7%84%E8%8C%83/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E6%96%87%E6%A1%A3/asr%E5%80%BC%E5%91%A8%E8%A7%84%E8%8C%83/</guid>
        <description>&lt;h1 id=&#34;asr-值周&#34;&gt;ASR 值周&lt;/h1&gt;
&lt;h2 id=&#34;值周说明&#34;&gt;值周说明&lt;/h2&gt;
&lt;p&gt;ASR内部部分常务工作已经安排到个人，不需要在值周中做出具体安排。包括：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;数据管理 (包括数据入库)。&lt;/li&gt;
&lt;li&gt;数据库管理。&lt;/li&gt;
&lt;li&gt;服务器管理。&lt;/li&gt;
&lt;li&gt;算法库及模型发布。&lt;/li&gt;
&lt;li&gt;代码review。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;另有一部分外部需求，需要值周安排，包括：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;项目或工程反馈的badcase需要debug。&lt;/li&gt;
&lt;li&gt;音频需要转录或处理。&lt;/li&gt;
&lt;li&gt;效果需要测试。&lt;/li&gt;
&lt;li&gt;其他。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;通过值周处理以上事务，逐渐熟悉ASR各个模块，能够在后续有一定能力应对其他需求。&lt;/p&gt;
&lt;h3 id=&#34;值周需要注意事项&#34;&gt;值周需要注意事项&lt;/h3&gt;
&lt;p&gt;值周需要对ASR相关项目和工具有一定熟悉，包括：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;如vad测试，asr测试，diar测试，全流程效果测试和debug等。需要熟悉常用的测试接口，相关功能的配置文件，相关功能的大致逻辑。&lt;/li&gt;
&lt;li&gt;音频处理相关脚本，如音频切分，转格式等。&lt;/li&gt;
&lt;li&gt;效果测试或者debug，需要对流程中的各模块有一定熟悉，能够定位问题。&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E6%96%87%E6%A1%A3/kaldi%E7%8E%AF%E5%A2%83%E9%95%9C%E5%83%8F-%E7%94%9F%E6%88%90%E5%AF%B9%E9%BD%90%E6%95%B0%E6%8D%AE/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E6%96%87%E6%A1%A3/kaldi%E7%8E%AF%E5%A2%83%E9%95%9C%E5%83%8F-%E7%94%9F%E6%88%90%E5%AF%B9%E9%BD%90%E6%95%B0%E6%8D%AE/</guid>
        <description>&lt;h1 id=&#34;kaldi镜像使用说明&#34;&gt;kaldi镜像使用说明&lt;/h1&gt;
&lt;p&gt;以下操作路径均在&lt;code&gt;/home/kaldi/egs/zhuiyi/s1&lt;/code&gt;进行。&lt;/p&gt;
&lt;h2 id=&#34;1-准备模型文件&#34;&gt;1. 准备模型文件&lt;/h2&gt;
&lt;p&gt;找语音组要asr_model及对应的实验文件夹。如: asr_model_v3.5.0对应声学模型试验93，把93文件夹内&lt;code&gt;data&lt;/code&gt;，&lt;code&gt;exp&lt;/code&gt;文件夹拷贝至s1下。&lt;/p&gt;
&lt;h2 id=&#34;2-替换文件&#34;&gt;2. 替换文件&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;/local/debug_tools/align_nnet3.sh&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/local/debug_tools/agen_readable_align.py&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-准备kaldi数据&#34;&gt;2. 准备kaldi数据&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;在data文件夹内新建文件夹，如test_tts。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在test_tts1内新建五个文件：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;segment
内容：记录了utt-id和wav-id的关系。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-txt&#34; data-lang=&#34;txt&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yina8k0001-0002025-0010220-S yina_8k0001 2.025 10.220
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yina8k0001-0012015-0014820-S yina_8k0001 12.015 14.820
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yina8k0002-0001400-0002620-S yina_8k0002 1.400 2.620
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yina8k0002-0003540-0007600-S yina_8k0002 3.540 7.600
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;text
内容：记录了utt-id和其文本内容。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-txt&#34; data-lang=&#34;txt&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yina8k0001-0002025-0010220-S 这里是追一科技
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yina8k0001-0012015-0014820-S 我是小一
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yina8k0002-0001400-0002620-S 您好
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yina8k0002-0003540-0007600-S 请问有什么可以帮您
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;spk2utt
内容：记录了spk-id和utt-id的关系， 一般一个句子对应一个说话人就可以。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-txt&#34; data-lang=&#34;txt&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yina8k0001-0002025-0010220-S yina8k0001-0002025-0010220-S
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yina8k0001-0012015-0014820-S yina8k0001-0012015-0014820-S
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yina8k0002-0001400-0002620-S yina8k0002-0001400-0002620-S
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yina8k0002-0003540-0007600-S yina8k0002-0003540-0007600-S
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;utt2spk
内容：内容同spk2utt就可以。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-txt&#34; data-lang=&#34;txt&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yina8k0001-0002025-0010220-S yina8k0001-0002025-0010220-S
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yina8k0001-0012015-0014820-S yina8k0001-0012015-0014820-S
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yina8k0002-0001400-0002620-S yina8k0002-0001400-0002620-S
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yina8k0002-0003540-0007600-S yina8k0002-0003540-0007600-S
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;wav.scp
内容：记录了wav-id到wav文件的关系。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-txt&#34; data-lang=&#34;txt&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yina8k0001 /home/kaldi/egs/zhuiyi/s1/yina8k0001.wav
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yina8k0002 /home/kaldi/egs/zhuiyi/s1/yina8k0002.wav
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;yina8k0001-0002025-0010220-S&lt;/code&gt;为utt-id, &lt;code&gt;yina8k0001&lt;/code&gt;为音频id。一条音频一般有多个utt，但也可以一条音频作为一个utt(当句子很长时，可能对齐结果会不太准确)。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;3-执行脚本&#34;&gt;3. 执行脚本&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;进行对齐&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./local/debug_tools/align_nnet3.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Usage: ./local/debug_tools/align_nnet3.sh &amp;lt;subset&amp;gt; &amp;lt;am_dir&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;subset: 子集名称, 必须存在于AsrData表.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;am_dir: 声学模型文件夹路径, 通常在exp/chain目录下.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--nj : 并发数, 默认30.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--db_name &amp;lt;db_name&amp;gt;: 数据名名称, 默认为主数据库speech_corpus.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--wav_dir &amp;lt;wav_dir&amp;gt;: wav文件夹路径, 自定义路径而不使用share下的wav文件夹.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--biz_name &amp;lt;biz_name&amp;gt;: 业务名称, 为获取的数据指定业务名, 默认获取所有业务下数据.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--iter &amp;lt;iter&amp;gt;: 选择特定iter的模型进行解码, 默认为使用final.am_dir.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--use_gpu true: 使用gpu解码, 默认false.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;例如：&lt;code&gt;./local/debug_tools/align_nnet3.sh  --nj 1 test_tts exp/chain/tdnn7p/&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;生成结果&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;python3 -m local.debug_tools.gen_readable_align -h
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;usage: gen_readable_align.py &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-h&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;--num_min_words NUM_MIN_WORDS&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                            &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;--mush_have_sil&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;--with_position&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                            align_dir text_path out_path
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;解析alignment信息, 转成可读性好的对齐文件, 对齐保留静音信息.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;positional arguments:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  align_dir             对齐文件夹路径, 下有对齐结果文本.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  text_path             数据的text文件路径.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  out_path              输出文件路径.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;optional arguments:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  -h, --help            show this &lt;span class=&#34;nb&#34;&gt;help&lt;/span&gt; message and &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  --num_min_words NUM_MIN_WORDS
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        每句话最小单词数量.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  --mush_have_sil       每句话是否必须含有静音.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  --with_position       音素是否带位置信息, 默认否.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;例如: &lt;code&gt; python3 -m local.debug_tools.gen_readable_align data/test_tts_align/ data/test_tts/text test_align.txt --num_min_words 1 --with_position&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E6%96%87%E6%A1%A3/kaldi%E7%8E%AF%E5%A2%83%E9%95%9C%E5%83%8F/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E6%96%87%E6%A1%A3/kaldi%E7%8E%AF%E5%A2%83%E9%95%9C%E5%83%8F/</guid>
        <description>&lt;h1 id=&#34;kaldi镜像使用说明&#34;&gt;kaldi镜像使用说明&lt;/h1&gt;
&lt;p&gt;以下操作路径均在&lt;code&gt;/home/kaldi/egs/zhuiyi/s1&lt;/code&gt;进行。&lt;/p&gt;
&lt;h2 id=&#34;1-准备模型文件&#34;&gt;1. 准备模型文件&lt;/h2&gt;
&lt;p&gt;找语音组要asr_model及对应的实验文件夹。如: asr_model_v3.5.0对应声学模型试验93，把93文件夹内&lt;code&gt;data&lt;/code&gt;，&lt;code&gt;exp&lt;/code&gt;文件夹拷贝至s1下。&lt;/p&gt;
&lt;h2 id=&#34;2-准备kaldi数据&#34;&gt;2. 准备kaldi数据&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;在data文件夹内新建文件夹，如test_tts1。&lt;/li&gt;
&lt;li&gt;在test_tts1内新建五个文件：
&lt;ul&gt;
&lt;li&gt;segment
内容：&lt;code&gt;yina_8k yina_8k 0 30.663625&lt;/code&gt;
注：0，30.663625需要处理的时间段。&lt;/li&gt;
&lt;li&gt;text
内容：&lt;code&gt;yina_8k text&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;spk2utt
内容：&lt;code&gt;yina_8k yina_8k&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;utt2spk
内容：&lt;code&gt;yina_8k yina_8k&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;wav.scp
内容：&lt;code&gt;yina_8k /home/kaldi/egs/zhuiyi/s1/yina_8k.wav&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;3-执行脚本&#34;&gt;3. 执行脚本&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;使用说明&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./local/debug_tools/one_file_phone_post.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Usage: one_file_phone_post.sh &amp;lt;data_dir&amp;gt; &amp;lt;am_dir&amp;gt; &amp;lt;post_dir&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;data_dir: kaldi格式的数据文件夹.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;am_dir: 声学模型文件夹路径, 通常在exp/chain目录下. 必须包含解码图, 因此一般使用离线模型.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;use_xent_output: 是否使用xent输出.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;post_dir: 音素级别的概率分布的输出路径.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;use_xent_output为true则仅使用交叉熵对应的输出；为false则使用chain loss对用的输出（需要配合分母图，较早模型支）。
例如：./local/debug_tools/one_file_phone_post.sh data/test_hires/ exp/chain/tdnn7p/ false ./test_post&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;因为设置图片分辨率较高，当音频很长时间，会因为数据太多导致生成柱状图失败。此时三种解决办法：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;可根据生成的概率列表文件，手动生成柱状图。&lt;/li&gt;
&lt;li&gt;可以调整代码中设置的分辨率。&lt;/li&gt;
&lt;li&gt;在segment中指定较短的时长。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E6%96%87%E6%A1%A3/label-v2/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E6%96%87%E6%A1%A3/label-v2/</guid>
        <description>&lt;h1 id=&#34;追一-asr-标注通用规范v2&#34;&gt;追一 ASR 标注通用规范v2&lt;/h1&gt;
&lt;h2 id=&#34;一音频切分项&#34;&gt;一、音频切分项&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;音频切分是语音标注基础，需要按照音频波形进行切割，将有声频段切分出来，例：
&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/label/1-1.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;1&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;切分前后贴合音频波形，前后留空不能超过 50ms，贴合音频波形就对了。&lt;/li&gt;
&lt;li&gt;一段波形的切分不能超过 30s，若超过 30s 则在不影响主要内容处切开。&lt;/li&gt;
&lt;li&gt;非正常人声大段噪音的情况中间静音部分超过 200ms 需要切分开，正常人声部分参考下图：
&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/label/1-2.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;2&#34;
	
	
&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;二音频标签项mnbpsco&#34;&gt;二、音频标签项（M/N/B/P/S/C/O）&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;句中标签 M
句中标签即音频内容根据语义为完整的一句话，但出现非正常人声部分（空白、噪音），例如下图中，蓝色框根据语义为完整的句子，但中间出现了超过100ms 的非正常人声 B 部分，因此将 B 单独切分出来，标记句中标签 M。
&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/label/2-1.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;3&#34;
	
	
&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;M 标签只会出现在前后标签都为 C、O、B 且都有文本的情况下，例如当段落前面能正常转写出文本，但是后半部分无法听清转写文本，中间不需要标记句中标签。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;噪音标签 N
噪音标签是指音频有波形，但音频内容为非正常对话内容，例如：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;波形中是电话按键音、纯唱歌彩铃等嘈杂音频标记为噪音标签 N。&lt;/li&gt;
&lt;li&gt;一人说话，连续的笑声，哈欠声等作为噪音标签，极其轻声的可以不标。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;重叠标签 P
重叠标签主要通过音频波形图判断，所有角色说话清晰，但波形图上大块重叠，标注重叠标签 P。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;当主要角色音频清晰，其余角色声音小，不影响主要角色音频内容，只进行主要角色的正常转写与角色标签。&lt;/li&gt;
&lt;li&gt;若出现下图中的情况，只需要将 C 部分切分出来标记重叠，其余 A、B 部分正常切分转写。
&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/label/2-2.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;4&#34;
	
	
&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;背景人声标签 B
背景人声标签主要为远场人说话的音频，能听清识别的正常转写文本，无法听清的只标注标签即可，例如两个人说话，另一个人在远处说话，波形上没有重叠，归为背景人声。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;角色标签 C/O/S&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;客户，说话角色为客户的标记为&lt;code&gt;客户 C&lt;/code&gt;，如果整段音频有其他客户音频， 标记为客户 1-C，客户 2-C1，依次类推。&lt;/li&gt;
&lt;li&gt;客服，说话角色为客服的标记为&lt;code&gt;客服 O&lt;/code&gt;，如果整段音频有其他客户音频，标记为客服 1-O，客服 2-O1，依次类推。&lt;/li&gt;
&lt;li&gt;非顾客或者客服音频、电话录音系统、电话彩铃出现正常人声、机器人音频标记&lt;code&gt;其他角色 S&lt;/code&gt;，不需要转写文本。例如：电话系统中播放&amp;quot;工号 3233为您服务&amp;quot;&amp;ldquo;您拨打的电话正在通话中&amp;quot;&amp;ldquo;喜欢这首彩铃吗？…&amp;rdquo;&lt;/li&gt;
&lt;li&gt;平台上只添加了标签出现一个的情况，若出现多个，手动依次添加即可。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;其他情况&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;若主要角色说话时，有其他角色插入&amp;quot;嗯、哦&amp;quot;等简短字词，可以切分为一 个音频框，正常转写。&lt;/li&gt;
&lt;li&gt;标记 N/P/M/S 标签后，不能出现文本，标记了文本只能出现 C/O/B&lt;/li&gt;
&lt;li&gt;回声音频；
&lt;ol&gt;
&lt;li&gt;说话人背景音有回音，背后回声不影响主要说话人，正常转写。&lt;/li&gt;
&lt;li&gt;说话人说完有延迟回音出现，将说话人音频切出来转写，回音按标签背景人声 B 操作。&lt;/li&gt;
&lt;li&gt;回声单独出现，按标签背景人声 B 操作。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;三音频文本项&#34;&gt;三、音频文本项&lt;/h2&gt;
&lt;p&gt;角色说话不清晰的音频按照音频标签项要求标注对应角色标签即可，角色说话内容清晰的音频正常转写文本，文本转写要求如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;标注的时候，可以每个词之间加个空格或者标点符号（不强制要求）&lt;/li&gt;
&lt;li&gt;语音标注原则是音要对，按照正确发音进行转写。必须和听到的内容完全一致，按照发音转写相应文字，不能多字、少字、错字。无法确定的可用近音字替代。&lt;/li&gt;
&lt;li&gt;&amp;ldquo;你&amp;quot;和&amp;quot;您&amp;quot;在发音相似无法区分的时候，根据身份标注，客服为&amp;quot;您&amp;rdquo;，客户为&amp;quot;你&amp;rdquo;。&lt;/li&gt;
&lt;li&gt;文本只能为简体字，不能出现繁体字或异体字。&lt;/li&gt;
&lt;li&gt;百分之九十以上可以听辨出，只有个别字听不清楚，如果能根据上下文语义猜出文本的，正常标注。否则标记角色层即可。&lt;/li&gt;
&lt;li&gt;标点符号
&lt;ol&gt;
&lt;li&gt;若出现标点符号只能含有中文、英文以及常用标点符号。&lt;/li&gt;
&lt;li&gt;符号被读出，则根据发音转写相应汉字或英文，例如&amp;quot;@&amp;ldquo;读&amp;quot;艾特&amp;quot;时要写为&amp;quot;艾特&amp;rdquo;，&amp;quot;.com&amp;quot;读成&amp;quot;点  com&amp;quot;时要写成&amp;quot;点 com&amp;quot;。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;数字
&lt;ol&gt;
&lt;li&gt;数字部分需根据发音情况转写为对应汉字，数字全部用汉字。例如&amp;quot;23818→&amp;quot;二三八幺（与发音相同）八&amp;quot;。&lt;/li&gt;
&lt;li&gt;所有涉及金额、钱的标注，只转写小写的一二三四百千，不标注大写的贰叁肆佰仟。&lt;/li&gt;
&lt;li&gt;幺（1）、两（2）、三、四、五、六、拐（7）、八、勾（9）、洞（0）有出现的情况，按照实际发音转写。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;英文
&lt;ol&gt;
&lt;li&gt;对于语音中简单的英文单词，能听懂的情况下，直接标出即可。例如： 网 址 是 三 w 点 sina 点 com 。&lt;/li&gt;
&lt;li&gt;如果单词和字母发音一样，每个字母中间用空格隔开，例如 ppt 标 p p t，ok 标 o k，iphone 七标称 iphone 七，因为 iphone 是一个单词没法拆分成字母，但是七这个数据是单独的。&lt;/li&gt;
&lt;li&gt;如果英文单词只读到一半，例如 i pad，读一半是 i pai 的音，但是 pai 不是一个英文单词，就用汉字标注，例如 i 派。&lt;/li&gt;
&lt;li&gt;英文字母统一用小写表示。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;口语词
&lt;ol&gt;
&lt;li&gt;发 ao 四声的时候，用&amp;quot;奥&amp;quot;进行转写。&lt;/li&gt;
&lt;li&gt;呃发音【è】的时候用呃表示，发音【e】用&lt;code&gt;{um}&lt;/code&gt;表示。&lt;/li&gt;
&lt;li&gt;出现拖长音&amp;quot;嗯&amp;quot;或者&amp;quot;哦&amp;quot;的情况，被识别成&amp;quot;嗯 嗯&amp;quot;或者&amp;quot;哦 哦&amp;quot;的情况下， 应该改成一个字的&amp;quot;嗯&amp;quot;或&amp;quot;哦&amp;quot;。&lt;/li&gt;
&lt;li&gt;一个人说一整句话的时候，另一个人在中间插了一句&amp;quot;嗯&amp;quot;的情况下，语音没有重叠，需要标&amp;quot;嗯&amp;quot;。&lt;/li&gt;
&lt;li&gt;详细发音及语义区分建议参考：http://www.zdic.net&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;儿化音要标
&lt;ol&gt;
&lt;li&gt;如芋儿（yùr）、老头儿（lǎotóur）等。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;虚词
&lt;ol&gt;
&lt;li&gt;&amp;ldquo;··· 的 ···&amp;rdquo; 这样的句式里, &amp;ldquo;的&amp;quot;经常被弱化读出来时，这种若有若无模棱两可的，根据文本含义来判断，如果加上比较顺就加上，否则去掉。其他不影响实际含义的虚词也用同样方法判断。比如，&amp;ldquo;打扰到您了&amp;quot;这句话里，要有&amp;quot;到&amp;rdquo;。&lt;/li&gt;
&lt;li&gt;助词&amp;quot;的&amp;quot;接在副词以外的实词后，组成带有有名词功能的词组，在句子中当作主语或宾语使用，此时如果听到的&amp;quot;的&amp;quot;发音类似&amp;quot;呢&amp;rdquo;，不标注&amp;quot;呢&amp;quot;，标&amp;quot;的&amp;quot;。例如：···是···的。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;拼音
&lt;ol&gt;
&lt;li&gt;按听到的发音写对应的汉字。 例如：g — 哥； 拼读 wu(吴) xue(雪)时： 呜呜吴，西约雪。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;四-方言标签项&#34;&gt;四、 方言标签项&lt;/h2&gt;
&lt;p&gt;当一句话带有较强强的方言口音算方言，方言仍需标注文本，并在方言层标记方言标签。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;方言与对应的标签：
方言标签一般为 &amp;ldquo;省份拼音大写&amp;rdquo; 或 &amp;ldquo;城市拼音大写&amp;rdquo;, 特殊情况除外：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;普通话 &lt;code&gt;MANDARIN&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;西南官话
&lt;ol&gt;
&lt;li&gt;重庆话 &lt;code&gt;CHONGQING&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;四川话 &lt;code&gt;SICHUAN&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;贵州话 &lt;code&gt;GUIZHOU&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;云南话 &lt;code&gt;YUNNAN&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;兰银官话
&lt;ol&gt;
&lt;li&gt;甘肃话 &lt;code&gt;GANSU&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;宁夏话 &lt;code&gt;NINGXIA&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;冀鲁官话
&lt;ol&gt;
&lt;li&gt;河北话 &lt;code&gt;HEBEI&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;山东话 &lt;code&gt;SHANDONG&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;中原官话
&lt;ol&gt;
&lt;li&gt;河南话 &lt;code&gt;HENAN&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;陕西话 &lt;code&gt;SHANXI&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;新疆话 &lt;code&gt;XINJIANG&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;江淮官话
&lt;ol&gt;
&lt;li&gt;安徽话 &lt;code&gt;ANHUI&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;江苏话 &lt;code&gt;JIANGSU&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;北京官话
&lt;ol&gt;
&lt;li&gt;北京话 &lt;code&gt;BEIJING&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;广东话 &lt;code&gt;GUANGDONG&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;上海话 &lt;code&gt;SHANGHAI&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;南昌话 &lt;code&gt;NANCHANG&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;武汉话 &lt;code&gt;WUHAN&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;长沙话 &lt;code&gt;CHANGSHA&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;闽南话 &lt;code&gt;MINNAN&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;客家话 &lt;code&gt;KEJIA&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;未知方言 &lt;code&gt;UNKNOWN&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;方言标注相关说明：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;当待标注数据已知方言信息时(如重庆话和普通话混合)，此时在标注时可不必太关注其他方言。当然如果出现其他方言，如东北话，也需要正确标注。&lt;/li&gt;
&lt;li&gt;当待标注数据未知方言信息是(如可能存在多种方言)，此时对重口音部分需要重点关注，正确标记方言信息。
&lt;ol&gt;
&lt;li&gt;对于无法辨识的方言种类，标注&lt;code&gt;UNKNOWN&lt;/code&gt;。如果联系前后文可获得方言信息，正常标注即可。&lt;/li&gt;
&lt;li&gt;对于无法区分的方言种类，如四川话和重庆话，如果能够根据上下文获得正确信息，正常标注即可。否则重庆话和四川话标注任意一种即可，但要保证同一个说话人对于方言的标注前后统一。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;对于同一个说话人，方言标签(除普通话)要统一，当出现普通话时正常标注普通话即可。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;五标注结果导出&#34;&gt;五、标注结果导出&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;标注结果导出 TextGrid 格式，采取 &lt;code&gt;2 层&lt;/code&gt;记录信息，&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;第一层内容层：标记文本。&lt;/li&gt;
&lt;li&gt;第二层角色层：角色层互斥，只允许出现&lt;code&gt;唯一&lt;/code&gt;标签项。&lt;/li&gt;
&lt;li&gt;第三层方言层：标记方言信息，只允许出现&lt;code&gt;唯一&lt;/code&gt;标签项。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;内容层正常转写的需要标注对应的&lt;code&gt;角色标签&lt;/code&gt;，无法正常转写的，只需要标记对应角色标签即可。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E6%96%87%E6%A1%A3/label/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E6%96%87%E6%A1%A3/label/</guid>
        <description>&lt;h1 id=&#34;追一-asr-标注通用规范v2&#34;&gt;追一 ASR 标注通用规范v2&lt;/h1&gt;
&lt;h2 id=&#34;一音频切分项&#34;&gt;一、音频切分项&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;音频切分是语音标注基础，需要按照音频波形进行切割，将有声频段切分出来，例：
&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/label/1-1.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;1&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;切分前后贴合音频波形，前后留空不能超过 50ms，贴合音频波形就对了。&lt;/li&gt;
&lt;li&gt;一段波形的切分不能超过 30s，若超过 30s 则在不影响主要内容处切开。&lt;/li&gt;
&lt;li&gt;非正常人声大段噪音的情况中间静音部分超过 200ms 需要切分开，正常人声部分参考下图：
&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/label/1-2.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;2&#34;
	
	
&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;二音频标签项mnbpsco&#34;&gt;二、音频标签项（M/N/B/P/S/C/O）&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;句中标签 M
句中标签即音频内容根据语义为完整的一句话，但出现非正常人声部分（空白、噪音），例如下图中，蓝色框根据语义为完整的句子，但中间出现了超过100ms 的非正常人声 B 部分，因此将 B 单独切分出来，标记句中标签 M。
&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/label/2-1.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;3&#34;
	
	
&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;M 标签只会出现在前后标签都为 C、O、B 且都有文本的情况下，例如当段落前面能正常转写出文本，但是后半部分无法听清转写文本，中间不需要标记句中标签。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;噪音标签 N
噪音标签是指音频有波形，但音频内容为非正常对话内容，例如：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;波形中是电话按键音、纯唱歌彩铃等嘈杂音频标记为噪音标签 N。&lt;/li&gt;
&lt;li&gt;一人说话，连续的笑声，哈欠声等作为噪音标签，极其轻声的可以不标。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;重叠标签 P
重叠标签主要通过音频波形图判断，所有角色说话清晰，但波形图上大块重叠，标注重叠标签 P。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;当主要角色音频清晰，其余角色声音小，不影响主要角色音频内容，只进行主要角色的正常转写与角色标签。&lt;/li&gt;
&lt;li&gt;若出现下图中的情况，只需要将 C 部分切分出来标记重叠，其余 A、B 部分正常切分转写。
&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/label/2-2.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;4&#34;
	
	
&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;背景人声标签 B
背景人声标签主要为远场人说话的音频，能听清识别的正常转写文本，无法听清的只标注标签即可，例如两个人说话，另一个人在远处说话，波形上没有重叠，归为背景人声。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;角色标签 C/O/S&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;客户，说话角色为客户的标记为&lt;code&gt;客户 C&lt;/code&gt;，如果整段音频有其他客户音频， 标记为客户 1-C，客户 2-C1，依次类推。&lt;/li&gt;
&lt;li&gt;客服，说话角色为客服的标记为&lt;code&gt;客服 O&lt;/code&gt;，如果整段音频有其他客户音频，标记为客服 1-O，客服 2-O1，依次类推。&lt;/li&gt;
&lt;li&gt;非顾客或者客服音频、电话录音系统、电话彩铃出现正常人声、机器人音频标记&lt;code&gt;其他角色 S&lt;/code&gt;，不需要转写文本。例如：电话系统中播放&amp;quot;工号 3233为您服务&amp;quot;&amp;ldquo;您拨打的电话正在通话中&amp;quot;&amp;ldquo;喜欢这首彩铃吗？…&amp;rdquo;&lt;/li&gt;
&lt;li&gt;平台上只添加了标签出现一个的情况，若出现多个，手动依次添加即可。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;其他情况&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;若主要角色说话时，有其他角色插入&amp;quot;嗯、哦&amp;quot;等简短字词，可以切分为一 个音频框，正常转写。&lt;/li&gt;
&lt;li&gt;方言，标注&lt;code&gt;角色层&lt;/code&gt;中的&lt;code&gt;角色&lt;/code&gt;信息即可，方言的部分超过 3 个字或带有很强的方言口音算方言。&lt;/li&gt;
&lt;li&gt;标记 N/P/M/S 标签后，不能出现文本，标记了文本只能出现 C/O/B&lt;/li&gt;
&lt;li&gt;回声音频；
&lt;ol&gt;
&lt;li&gt;说话人背景音有回音，背后回声不影响主要说话人，正常转写。&lt;/li&gt;
&lt;li&gt;说话人说完有延迟回音出现，将说话人音频切出来转写，回音按标签背景人声 B 操作。&lt;/li&gt;
&lt;li&gt;回声单独出现，按标签背景人声 B 操作。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;三音频文本项&#34;&gt;三、音频文本项&lt;/h2&gt;
&lt;p&gt;角色说话不清晰的音频按照音频标签项要求标注对应角色标签即可，角色说话内容清晰的音频正常转写文本，文本转写要求如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;标注的时候，可以每个词之间加个空格或者标点符号（不强制要求）&lt;/li&gt;
&lt;li&gt;语音标注原则是音要对，按照正确发音进行转写。必须和听到的内容完全一致，按照发音转写相应文字，不能多字、少字、错字。无法确定的可用近音字替代。&lt;/li&gt;
&lt;li&gt;&amp;ldquo;你&amp;quot;和&amp;quot;您&amp;quot;在发音相似无法区分的时候，根据身份标注，客服为&amp;quot;您&amp;rdquo;，客户为&amp;quot;你&amp;rdquo;。&lt;/li&gt;
&lt;li&gt;文本只能为简体字，不能出现繁体字或异体字。&lt;/li&gt;
&lt;li&gt;百分之九十以上可以听辨出，只有个别字听不清楚，如果能根据上下文语义猜出文本的，正常标注。否则标记角色层即可。&lt;/li&gt;
&lt;li&gt;标点符号
&lt;ol&gt;
&lt;li&gt;若出现标点符号只能含有中文、英文以及常用标点符号。&lt;/li&gt;
&lt;li&gt;符号被读出，则根据发音转写相应汉字或英文，例如&amp;quot;@&amp;ldquo;读&amp;quot;艾特&amp;quot;时要写为&amp;quot;艾特&amp;rdquo;，&amp;quot;.com&amp;quot;读成&amp;quot;点  com&amp;quot;时要写成&amp;quot;点 com&amp;quot;。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;数字
&lt;ol&gt;
&lt;li&gt;数字部分需根据发音情况转写为对应汉字，数字全部用汉字。例如&amp;quot;23818→&amp;quot;二三八幺（与发音相同）八&amp;quot;。&lt;/li&gt;
&lt;li&gt;所有涉及金额、钱的标注，只转写小写的一二三四百千，不标注大写的贰叁肆佰仟。&lt;/li&gt;
&lt;li&gt;幺（1）、两（2）、三、四、五、六、拐（7）、八、勾（9）、洞（0）有出现的情况，按照实际发音转写。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;英文
&lt;ol&gt;
&lt;li&gt;对于语音中简单的英文单词，能听懂的情况下，直接标出即可。例如： 网 址 是 三 w 点 sina 点 com 。&lt;/li&gt;
&lt;li&gt;如果单词和字母发音一样，每个字母中间用空格隔开，例如 ppt 标 p p t，ok 标 o k，iphone 七标称 iphone 七，因为 iphone 是一个单词没法拆分成字母，但是七这个数据是单独的。&lt;/li&gt;
&lt;li&gt;如果英文单词只读到一半，例如 i pad，读一半是 i pai 的音，但是 pai 不是一个英文单词，就用汉字标注，例如 i 派。&lt;/li&gt;
&lt;li&gt;英文字母统一用小写表示。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;口语词
&lt;ol&gt;
&lt;li&gt;发 ao 四声的时候，用&amp;quot;奥&amp;quot;进行转写。&lt;/li&gt;
&lt;li&gt;呃发音【è】的时候用呃表示，发音【e】用&lt;code&gt;{um}&lt;/code&gt;表示。&lt;/li&gt;
&lt;li&gt;出现拖长音&amp;quot;嗯&amp;quot;或者&amp;quot;哦&amp;quot;的情况，被识别成&amp;quot;嗯 嗯&amp;quot;或者&amp;quot;哦 哦&amp;quot;的情况下， 应该改成一个字的&amp;quot;嗯&amp;quot;或&amp;quot;哦&amp;quot;。&lt;/li&gt;
&lt;li&gt;一个人说一整句话的时候，另一个人在中间插了一句&amp;quot;嗯&amp;quot;的情况下，语音没有重叠，需要标&amp;quot;嗯&amp;quot;。&lt;/li&gt;
&lt;li&gt;详细发音及语义区分建议参考：http://www.zdic.net&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;儿化音要标
&lt;ol&gt;
&lt;li&gt;如芋儿（yùr）、老头儿（lǎotóur）等。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;虚词
&lt;ol&gt;
&lt;li&gt;&amp;ldquo;xxx 的 xxx&amp;rdquo; 这样的句式里, &amp;ldquo;的&amp;quot;经常被弱化读出来时，这种若有若无模棱两可的，根据文本含义来判断，如果加上比较顺就加上，否则去掉。其他不影响实际含义的虚词也用同样方法判断。比如，&amp;ldquo;打扰到您了&amp;quot;这句话里，要有&amp;quot;到&amp;rdquo;。&lt;/li&gt;
&lt;li&gt;助词&amp;quot;的&amp;quot;接在副词以外的实词后，组成带有有名词功能的词组，在句子中当作主语或宾语使用，此时如果听到的&amp;quot;的&amp;quot;发音类似&amp;quot;呢&amp;rdquo;，不标注&amp;quot;呢&amp;quot;，标&amp;quot;的&amp;quot;。例如：xxx是xxx的。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;拼音
&lt;ol&gt;
&lt;li&gt;按听到的发音写对应的汉字。 例如：g — 哥； 拼读 wu(吴) xue(雪)时： 呜呜吴，西约雪。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;四标注结果导出&#34;&gt;四、标注结果导出&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;标注结果导出 TextGrid 格式，采取 &lt;code&gt;2 层&lt;/code&gt;记录信息，&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;第一层内容层：标记文本&lt;/li&gt;
&lt;li&gt;第二层角色层：角色层互斥，只允许出现&lt;code&gt;唯一&lt;/code&gt;标签项。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;内容层正常转写的需要标注对应的&lt;code&gt;角色标签&lt;/code&gt;，无法正常转写的，只需要标记对应角色标签即可。
&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/label/4-1.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;5&#34;
	
	
&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E6%96%87%E6%A1%A3/%E4%B8%AD%E6%96%87%E6%A0%87%E6%B3%A8%E8%A7%84%E8%8C%83/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E6%96%87%E6%A1%A3/%E4%B8%AD%E6%96%87%E6%A0%87%E6%B3%A8%E8%A7%84%E8%8C%83/</guid>
        <description>&lt;h1 id=&#34;追一-asr-标注通用规范v2&#34;&gt;追一 ASR 标注通用规范v2&lt;/h1&gt;
&lt;h2 id=&#34;一音频切分项&#34;&gt;一、音频切分项&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;音频切分是语音标注基础，需要按照音频波形进行切割，将有声频段切分出来，例；&lt;/li&gt;
&lt;li&gt;切分前后贴合音频波形，前后留空不能超过 50ms，贴合音频波形就对了。&lt;/li&gt;
&lt;li&gt;一段波形的切分不能超过 30s，若超过 30s 则在不影响主要内容处切开。&lt;/li&gt;
&lt;li&gt;非正常人声大段噪音的情况中间静音部分超过 200ms 需要切分开，正常人声部分参考下图：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;二、    音频标签项（M/N/B/P/S/C/O）
1.句中标签 M
句中标签即音频内容根据语义为完整的一句话，但出现非正常人声部分（空白、噪音），例如下图中，蓝色框根据语义为完整的句子，但中间出现了超过100ms 的非正常人声 B 部分，因此将 B 单独切分出来，标记句中标签 M。&lt;/p&gt;
&lt;p&gt;A.M 标签只会出现在前后标签都为 C、O、B 且都有文本的情况下，例如当段落前面能正常转写出文本，但是后半部分无法听清转写文本，中间不需要标记句中标签。
2.噪音标签 N
噪音标签是指音频有波形，但音频内容为非正常对话内容，例如：
A.波形中是电话按键音、纯唱歌彩铃等嘈杂音频标记为噪音标签 N。
B.一人说话，连续的笑声，哈欠声等作为噪音标签，极其轻声的可以不标。
3.重叠标签 P
重叠标签主要通过音频波形图判断，所有角色说话清晰，但波形图上大块重叠，标注重叠标签-P。
A.当主要角色音频清晰，其余角色声音小，不影响主要角色音频内容，只进行主要角色的正常转写与角色标签。
B.若出现下图中的情况，只需要将 C 部分切分出来标记重叠，其余 A、B 部分正常切分转写&lt;/p&gt;
&lt;p&gt;4.背景人声标签 B
背景人声标签主要为远场人说话的音频，能听清识别的正常转写文本，无法听清的只标注标签即可，例如两个人说话，另一个人在远处说话，波形上没&lt;/p&gt;
&lt;p&gt;有重叠，归为背景人声。
5.角色标签 C/O/S
A.客户，说话角色为客户的标记为客户 C，如果整段音频有其他客户音频， 标记为客户 1-C，客户 2-C1，依次类推。
B.客服，说话角色为客服的标记为客服 O，如果整段音频有其他客户音频，标记为客服 1-O，客服 2-O1，依次类推。
C.非顾客或者客服音频、电话录音系统、电话彩铃出现正常人声、机器人音频标记其他角色 S，不需要转写文本。例如：电话系统中播放“工号 3233为您服务”“您拨打的电话正在通话中”“喜欢这首彩铃吗？…”
D.平台上只添加了标签出现一个的情况，若出现多个，手动依次添加即可。
6.其他情况
A.若主要角色说话时，有其他角色插入“嗯、哦”等简短字词，可以切分为一个音频框，正常转写。
B.方言，标注角色层中的角色信息即可，方言的部分超过 3 个字或带有很强的方言口音算方言。
C.标记 N/P/M/S 标签后，不能出现文本，标记了文本只能出现 C/O/B
D.回声音频；
a)说话人背景音有回音，背后回声不影响主要说话人，正常转写。
b)说话人说完有延迟回音出现，将说话人音频切出来转写，回音按标签背景人声 B 操作。
c)回声单独出现，按标签背景人声 B 操作。&lt;/p&gt;
&lt;p&gt;三、    音频文本项
角色说话不清晰的音频按照音频标签项要求标注对应角色标签即可，角色说话内容清晰的音频正常转写文本，文本转写要求如下：
1.标注的时候，可以每个词之间加个空格或者标点符号（不强制要求）
2.语音标注原则是音要对，按照正确发音进行转写。必须和听到的内容完全一致，按照发音转写相应文字，不能多字、少字、错字。无法确定的可用近音字替代。
3.“你”和“您”在发音相似无法区分的时候，根据身份标注，客服为“您”，客户为“你”。
4.文本只能为简体字，不能出现繁体字或异体字。&lt;/p&gt;
&lt;p&gt;5.百分之九十以上可以听辨出，只有个别字听不清楚，如果能根据上下文语义猜出文本的，正常标注。否则标记角色层即可。
6.标点符号
A.若出现标点符号只能含有中文、英文以及常用标点符号。
B.符号被读出，则根据发音转写相应汉字或英文，例如“@”读“艾特”时要写为“艾特”，“.com”读成“点 com”时要写成“点 com”。
7.数字
A.数字部分需根据发音情况转写为对应汉字，数字全部用汉字。例如“23818→“二三八幺（与发音相同）八”。
B.所有涉及金额、钱的标注，只转写小写的一二三四百千，不标注大写的贰叁肆佰仟。
C.幺（1）、两（2）、三、四、五、六、拐（7）、八、勾（9）、洞（0）有出现的情况，按照实际发音转写。
8.英文
A.对于语音中简单的英文单词，能听懂的情况下，直接标出即可。例如： 网 址 是 三 w 点 sina 点 com 。
B.如果单词和字母发音一样，每个字母中间用空格隔开，例如 ppt 标 p p t，ok 标 o k，iphone 七标称 iphone 七，因为 iphone 是一个单词没法拆分成字母，但是七这个数据是单独的。
C.如果英文单词只读到一半，例如 i pad，读一半是 i pai 的音，但是 pai 不是一个英文单词，就用汉字标注，例如 i 派
D.英文字母统一用小写表示。
9.口语词
A.发 ao 四声的时候，用“奥”进行转写。
B.呃发音【è】的时候用呃表示，发音【e】用“{um}”表示。
C.出现拖长音“嗯”或者“哦”的情况，被识别成”嗯 嗯“或者”哦 哦“的情况下， 应该改成一个字的”嗯“或”哦“。
D.一个人说一整句话的时候，另一个人在中间插了一句“嗯”的情况下，语音没有重叠，需要标“嗯”。
E.详细发音及语义区分建议参考：http://www.zdic.net
10.儿化音要标&lt;/p&gt;
&lt;p&gt;A.如芋儿（yùr）、老头儿（lǎotóur）等
11.虚词
A.“……的……” 这样的句式里 “的”经常被弱化读出来时，这种若有若无模棱两可的，根据文本含义来判断，如果加上比较顺就加上，否则去掉。其他不影响实际含义的虚词也用同样方法判断。比如，“打扰到您了”这句话里，要有“到”。
B.助词“的”接在副词以外的实词后，组成带有有名词功能的词组，在句子中当作主语或宾语使用，此时如果听到的“的”发音类似“呢”，不标注“呢”， 标“的”。例如：……是……的。
12.拼音
A.按听到的发音写对应的汉字。 例如：g — 哥； 拼读 wu(吴) xue(雪)时： 呜呜吴，西约雪。
四、    标注结果导出
1、 标注结果导出 TextGrid 格式，采取 2 层记录信息， 第一层内容层：标记文本
第二层角色层：角色层互斥，只允许出现唯一标签项。
内容层正常转写的需要标注对应的角色标签，无法正常转写的，只需要标记对应角色标签即可。&lt;/p&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E6%96%87%E6%A1%A3/%E4%B8%AD%E7%A7%BB%E8%BA%AB%E4%BB%BD%E6%A0%B8%E9%AA%8C%E4%BC%98%E5%8C%96/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E6%96%87%E6%A1%A3/%E4%B8%AD%E7%A7%BB%E8%BA%AB%E4%BB%BD%E6%A0%B8%E9%AA%8C%E4%BC%98%E5%8C%96/</guid>
        <description>&lt;h1 id=&#34;中移身份核验项目&#34;&gt;中移身份核验项目&lt;/h1&gt;
&lt;h2 id=&#34;1-通过率计算的问题&#34;&gt;1. 通过率计算的问题&lt;/h2&gt;
&lt;p&gt;部分识别没有问题, 但是不一定适合中移侧需要的格式, 可能导致不通过, 最好可以明确一下.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;有些是客户没有&amp;quot;号&amp;quot;或&amp;quot;日&amp;quot;, 日期和手机号连在一起, 日期是否算通过, 手机号是否算通过. (识别没有问题, 如果中移侧有类似的规则, 我们可能需要做适配)&lt;/li&gt;
&lt;li&gt;数字没有转小写是否算通过. (识别没有问题, 当日期和手机号连在一起时, 不会触发转小写, 同样是规则问题)&lt;/li&gt;
&lt;li&gt;由于客户卡顿重复, 手机号大于11位是否算通过.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-统计脚本&#34;&gt;2. 统计脚本&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;计算日期，手机号通过率&lt;/li&gt;
&lt;li&gt;单独计算日期错误和手机号错误详细类型占比&lt;/li&gt;
&lt;li&gt;筛选相关训练文本&lt;/li&gt;
&lt;li&gt;后处理错误修复&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;3-模型优化&#34;&gt;3. 模型优化&lt;/h2&gt;
&lt;h3 id=&#34;31-声学模型&#34;&gt;3.1 声学模型&lt;/h3&gt;
&lt;h4 id=&#34;训练数据&#34;&gt;训练数据&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;train 集合按出现日期和连续数字筛选&lt;/li&gt;
&lt;li&gt;标注返回的数据&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;优化模型&#34;&gt;优化模型&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;340模型&lt;/li&gt;
&lt;li&gt;350模型&lt;/li&gt;
&lt;li&gt;360模型&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;32-解码图&#34;&gt;3.2 解码图&lt;/h3&gt;
&lt;h4 id=&#34;训练数据-1&#34;&gt;训练数据&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;人名&lt;/li&gt;
&lt;li&gt;基于日期，手机号和模板词的增强数据&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;优化模型-1&#34;&gt;优化模型&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;基于380模型的语言模型&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;33-神经网络语言模型&#34;&gt;3.3 神经网络语言模型&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;基于380的RNNLM调优&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;4-安排&#34;&gt;4. 安排&lt;/h2&gt;
&lt;h3 id=&#34;28号&#34;&gt;28号&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;脚本提供, 通过率计算, 训练数据筛选&lt;/li&gt;
&lt;li&gt;数据入库&lt;/li&gt;
&lt;li&gt;调优Ngram + RNNLM, 并结合不同声学模型测试效果&lt;/li&gt;
&lt;li&gt;验证声学模型调优&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;29号&#34;&gt;29号&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;全量标注数据数据&lt;/li&gt;
&lt;li&gt;声学模型调优&lt;/li&gt;
&lt;li&gt;提供模型&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;结果记录&#34;&gt;结果记录&lt;/h2&gt;
&lt;h3 id=&#34;380&#34;&gt;3.8.0&lt;/h3&gt;
&lt;p&gt;全量数据：
Building prefix dict from the default dictionary &amp;hellip;
Loading model from cache /tmp/jieba.cache
Loading model cost 0.468 seconds.
Prefix dict has been built successfully.
phone number pass rate:  0.7491148204350025
date pass rate:  0.7895801719777441
name pass rate:  0.556398583712696
name cer value:  0.07952223793807953&lt;/p&gt;
&lt;h3 id=&#34;370&#34;&gt;3.7.0&lt;/h3&gt;
&lt;p&gt;解码图:
phone number pass rate:  0.8893805309734514
date pass rate:  0.9424778761061947
name pass rate:  0.6460176991150443
name cer value:  0.0615188799321171&lt;/p&gt;
&lt;p&gt;phone number pass rate:  0.8012139605462822
date pass rate:  0.8431967627718766
name pass rate:  0.5397066262013152
name cer value:  0.08338875530771986&lt;/p&gt;
&lt;p&gt;解码图 + AM:
phone number pass rate:  0.9247787610619469
date pass rate:  0.9247787610619469
name pass rate:  0.5530973451327433
name cer value:  0.09318085556967387&lt;/p&gt;
&lt;p&gt;解码图 + NNLM:
phone number pass rate:  0.8849557522123894
date pass rate:  0.9469026548672567
name pass rate:  0.6283185840707964
name cer value:  0.0720233139050791&lt;/p&gt;
&lt;h3 id=&#34;340&#34;&gt;3.4.0&lt;/h3&gt;
&lt;p&gt;解码图:
phone number pass rate:  0.9026548672566371
date pass rate:  0.9380530973451328
name pass rate:  0.6371681415929203
name cer value:  0.07415165479681608&lt;/p&gt;
&lt;p&gt;全量数据：
phone number pass rate:  0.8174001011633789
date pass rate:  0.860900354071826
name pass rate:  0.5250379362670713
name cer value:  0.08857561517861655&lt;/p&gt;
&lt;p&gt;解码图 + AM:
phone number pass rate:  0.911504424778761
date pass rate:  0.9336283185840708
name pass rate:  0.5309734513274337
name cer value:  0.09395109395109395&lt;/p&gt;
&lt;p&gt;phone number pass rate:  0.8148710166919575
date pass rate:  0.8603945371775418
name pass rate:  0.45472938796155793
name cer value:  0.10690030587381409&lt;/p&gt;
&lt;h3 id=&#34;350&#34;&gt;3.5.0&lt;/h3&gt;
&lt;p&gt;phone number pass rate:  0.915929203539823
date pass rate:  0.9336283185840708&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;模型&lt;/th&gt;
&lt;th&gt;优化&lt;/th&gt;
&lt;th&gt;通过率&lt;/th&gt;
&lt;th&gt;姓名通过率&lt;/th&gt;
&lt;th&gt;日期通过率&lt;/th&gt;
&lt;th&gt;手机号通过率&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;380-opt&lt;/td&gt;
&lt;td&gt;ngram-v1&lt;/td&gt;
&lt;td&gt;43%&lt;/td&gt;
&lt;td&gt;57%&lt;/td&gt;
&lt;td&gt;80%&lt;/td&gt;
&lt;td&gt;72%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;380-opt&lt;/td&gt;
&lt;td&gt;ngram-v2&lt;/td&gt;
&lt;td&gt;44%&lt;/td&gt;
&lt;td&gt;55%&lt;/td&gt;
&lt;td&gt;85%&lt;/td&gt;
&lt;td&gt;79%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;380-opt&lt;/td&gt;
&lt;td&gt;ngram-v2 + am-v2&lt;/td&gt;
&lt;td&gt;48%&lt;/td&gt;
&lt;td&gt;56%&lt;/td&gt;
&lt;td&gt;90%&lt;/td&gt;
&lt;td&gt;88%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;380-opt&lt;/td&gt;
&lt;td&gt;ngram-v2 + am-v2 + nnlm-v2&lt;/td&gt;
&lt;td&gt;48%&lt;/td&gt;
&lt;td&gt;56%&lt;/td&gt;
&lt;td&gt;91%&lt;/td&gt;
&lt;td&gt;88%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;340-opt&lt;/td&gt;
&lt;td&gt;ngram-v2&lt;/td&gt;
&lt;td&gt;44%&lt;/td&gt;
&lt;td&gt;53%&lt;/td&gt;
&lt;td&gt;87%&lt;/td&gt;
&lt;td&gt;82%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;340-opt&lt;/td&gt;
&lt;td&gt;ngram-v2 + am-v1&lt;/td&gt;
&lt;td&gt;44%&lt;/td&gt;
&lt;td&gt;51%&lt;/td&gt;
&lt;td&gt;91%&lt;/td&gt;
&lt;td&gt;87%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;340-opt&lt;/td&gt;
&lt;td&gt;ngram-v2 + am-v2&lt;/td&gt;
&lt;td&gt;11%&lt;/td&gt;
&lt;td&gt;19%&lt;/td&gt;
&lt;td&gt;81%&lt;/td&gt;
&lt;td&gt;65%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;340-opt&lt;/td&gt;
&lt;td&gt;ngram-v2 + nnlm-v1&lt;/td&gt;
&lt;td&gt;45%&lt;/td&gt;
&lt;td&gt;55%&lt;/td&gt;
&lt;td&gt;88%&lt;/td&gt;
&lt;td&gt;80%&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;模型&lt;/th&gt;
&lt;th&gt;优化&lt;/th&gt;
&lt;th&gt;通过率&lt;/th&gt;
&lt;th&gt;姓名通过率&lt;/th&gt;
&lt;th&gt;日期通过率&lt;/th&gt;
&lt;th&gt;手机号通过率&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;380-opt&lt;/td&gt;
&lt;td&gt;ngram-v1&lt;/td&gt;
&lt;td&gt;43%&lt;/td&gt;
&lt;td&gt;57%&lt;/td&gt;
&lt;td&gt;80%&lt;/td&gt;
&lt;td&gt;72%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;380-opt&lt;/td&gt;
&lt;td&gt;ngram-v2 + am-v2 + nnlm-v2&lt;/td&gt;
&lt;td&gt;48%&lt;/td&gt;
&lt;td&gt;56%&lt;/td&gt;
&lt;td&gt;91%&lt;/td&gt;
&lt;td&gt;88%&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;340模型性能&#34;&gt;340模型性能&lt;/h3&gt;
&lt;h4 id=&#34;开后处理&#34;&gt;开后处理&lt;/h4&gt;
&lt;p&gt;测试结果:&lt;/p&gt;
&lt;p&gt;首片超时率: 0 中间片超时率: 0 尾片超时率:0.0272277
首片rtf: 7.07214e-05 中间片rtf: 0.165046 尾片rtf: 2.84044
首片平均耗时: 0ms 中间片平均耗时: 33ms 尾片平均耗时: 135ms
首片最大耗时: 6ms 中间片最大耗时: 173ms 尾片最大耗时: 472ms
总超时率: 0.000746725
总rtf: 0.178819
计算耗时分布: 0.178819
&amp;lt; 100ms: 232个, 占比0.287129
&amp;lt; 200ms: 483个, 占比0.597772
&amp;lt; 300ms: 71个, 占比0.0878713
&amp;lt; 400ms: 17个, 占比0.0210396
&amp;lt; 500ms: 5个, 占比0.00618812
&amp;lt; 600ms: 0个, 占比0
&amp;lt; 700ms: 0个, 占比0
&amp;lt; 800ms: 0个, 占比0&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;模型&lt;/th&gt;
&lt;th&gt;尾片平均延迟&lt;/th&gt;
&lt;th&gt;尾片最大延迟&lt;/th&gt;
&lt;th&gt;尾片超时率&lt;/th&gt;
&lt;th&gt;RTF&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;380 (不开后处理)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;0.99%&lt;/td&gt;
&lt;td&gt;0.102&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;340 (开后处理)&lt;/td&gt;
&lt;td&gt;135ms&lt;/td&gt;
&lt;td&gt;472ms&lt;/td&gt;
&lt;td&gt;2.72%&lt;/td&gt;
&lt;td&gt;0.17&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;res_340_ngram_v1_rnnlm_v2&lt;/p&gt;
&lt;p&gt;res_370_ngram_v1_rnnlm_v2.txt&lt;/p&gt;
&lt;p&gt;res_370_opt1_rnnlm.txt&lt;/p&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E6%96%87%E6%A1%A3/%E5%A3%B0%E5%AD%A6%E6%A8%A1%E5%9E%8B%E5%BF%AB%E9%80%9F%E6%A0%87%E6%B3%A8%E8%A7%84%E8%8C%83/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E6%96%87%E6%A1%A3/%E5%A3%B0%E5%AD%A6%E6%A8%A1%E5%9E%8B%E5%BF%AB%E9%80%9F%E6%A0%87%E6%B3%A8%E8%A7%84%E8%8C%83/</guid>
        <description>&lt;h1 id=&#34;声学模型训练数据标注规范简化版&#34;&gt;声学模型训练数据标注规范简化版&lt;/h1&gt;
&lt;p&gt;本标注规范在通用标注规范的基础上进行简化，仅适用于私有化调优声学模型时快速标注音频数据。&lt;/p&gt;
&lt;h2 id=&#34;1-音频切分&#34;&gt;1. 音频切分&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;音频切分需要按照音频波形进行切割，将有声频段切分出来。如图
&lt;img src=&#34;https://demo.stack.jimmycai.com/1.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;avatar&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;音频波形中出现200ms静音时需要切分开。&lt;/li&gt;
&lt;li&gt;切分前后贴合音频波形，前后留空不能超过 100ms。&lt;/li&gt;
&lt;li&gt;一段波形的切分不能超过 30s，若超过 30s 则在不影响主要内容处切开。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-音频标签项npc&#34;&gt;2. 音频标签项（N/P/C）&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;正常人声标签为 C&lt;/li&gt;
&lt;li&gt;噪音标签 N
噪音标签是指音频有波形，但音频内容为非正常对话内容，例如：
&lt;ol&gt;
&lt;li&gt;波形中是电话按键音、纯唱歌彩铃等嘈杂音频标记为噪音标签 N。&lt;/li&gt;
&lt;li&gt;一人说话，连续的笑声，哈欠声等作为噪音标签，极其轻声的可以不标。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;重叠标签为 P
重叠标签主要通过音频波形图判断，所有角色说话清晰，但波形图上大块重叠，标注重叠标签。
&lt;ol&gt;
&lt;li&gt;当主要角色音频清晰，其余角色声音小，不影响主要角色音频内容，只进行主要角色的正常转写与角色标签。&lt;/li&gt;
&lt;li&gt;若出现下图中的情况，只需要将 C 部分切分出来标记重叠，其余 A、B 部分正常切分转写。
&lt;img src=&#34;https://demo.stack.jimmycai.com/2.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;avatar&#34;
	
	
&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;标记 N/P 标签后，不能出现文本。&lt;/p&gt;
&lt;h2 id=&#34;3-音频文本项&#34;&gt;3. 音频文本项&lt;/h2&gt;
&lt;p&gt;角色说话不清晰的音频按照音频标签项要求标注对应角色标签即可，角色说
话内容清晰的音频正常转写文本，文本转写要求如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;语音标注原则是音要对，按照正确发音进行转写。必须和听到的内容完全一
致，按照发音转写相应文字，不能多字、少字、错字。无法确定的可用近音
字替代。&lt;/li&gt;
&lt;li&gt;“你”和“您”在发音相似无法区分的时候，根据身份标注，客服为“您”，客户为
“你”。&lt;/li&gt;
&lt;li&gt;文本只能为简体字，不能出现繁体字或异体字。&lt;/li&gt;
&lt;li&gt;百分之九十以上可以听辨出，只有个别字听不清楚，如果能根据上下文语义
猜出文本的，正常标注。否则标记角色层即可。&lt;/li&gt;
&lt;li&gt;标点符号
&lt;ol&gt;
&lt;li&gt;若出现标点符号只能含有中文、英文以及常用标点符号。&lt;/li&gt;
&lt;li&gt;符号被读出，则根据发音转写相应汉字或英文，例如“@”读“艾特”时要写
为“艾特”，“.com”读成“点 com”时要写成“点 com”。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;数字
&lt;ol&gt;
&lt;li&gt;数字部分需根据发音情况转写为对应汉字，数字全部用汉字。例如
“23818→“二三八幺（与发音相同）八”。&lt;/li&gt;
&lt;li&gt;所有涉及金额、钱的标注，只转写小写的一二三四百千，不标注大写的
贰叁肆佰仟。&lt;/li&gt;
&lt;li&gt;幺（1）、两（2）、三、四、五、六、拐（7）、八、勾（9）、洞（0）有出
现的情况，按照实际发音转写。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;英文
&lt;ol&gt;
&lt;li&gt;对于语音中简单的英文单词，能听懂的情况下，直接标出即可。例如：
网址是三 w 点 sina 点 com。&lt;/li&gt;
&lt;li&gt;如果单词和字母发音一样，每个字母中间用空格隔开，例如 ppt 标 p p
t，ok 标 o k，iphone 七标称 iphone 七，因为 iphone 是一个单词没法拆
分成字母，但是七这个数据是单独的。&lt;/li&gt;
&lt;li&gt;如果英文单词只读到一半，例如 i pad，读一半是 i pai 的音，但是 pai 不
是一个英文单词，就用汉字标注，例如 i 派&lt;/li&gt;
&lt;li&gt;英文字母统一用小写表示。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;口语词
&lt;ol&gt;
&lt;li&gt;发 ao 四声的时候，用“奥”进行转写。&lt;/li&gt;
&lt;li&gt;呃发音【è】的时候用呃表示，发音【e】用“{um}”表示。&lt;/li&gt;
&lt;li&gt;出现拖长音“嗯”或者“哦”的情况，被识别成”嗯 嗯“或者”哦 哦“的情况下，
应该改成一个字的”嗯“或”哦“。&lt;/li&gt;
&lt;li&gt;一个人说一整句话的时候，另一个人在中间插了一句“嗯”的情况下，语音
没有重叠，需要标“嗯”。&lt;/li&gt;
&lt;li&gt;详细发音及语义区分建议参考：http://www.zdic.net&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;儿化音要标
如芋儿（yùr）、老头儿（lǎotóur）等&lt;/li&gt;
&lt;li&gt;虚词
&lt;ol&gt;
&lt;li&gt;“……的……” 这样的句式里 “的”经常被弱化读出来时，这种若有若无模
棱两可的，根据文本含义来判断，如果加上比较顺就加上，否则去掉。
其他不影响实际含义的虚词也用同样方法判断。比如，“打扰到您了”这句
话里，要有“到”。&lt;/li&gt;
&lt;li&gt;助词“的”接在副词以外的实词后，组成带有有名词功能的词组，在句子中
当作主语或宾语使用，此时如果听到的“的”发音类似“呢”，不标注“呢”， 标“的”。例如：……是……的。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;拼音
按听到的发音写对应的汉字。 例如：g — 哥； 拼读 wu(吴) xue(雪)时：
呜呜吴，西约雪。&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E6%96%87%E6%A1%A3/%E7%A7%91%E6%8A%80%E5%9B%ADworkshop%E5%A4%A7%E7%BA%B2/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E6%96%87%E6%A1%A3/%E7%A7%91%E6%8A%80%E5%9B%ADworkshop%E5%A4%A7%E7%BA%B2/</guid>
        <description>&lt;h1 id=&#34;基于混合结构asr系统的效果优化&#34;&gt;基于混合结构ASR系统的效果优化&lt;/h1&gt;
&lt;h2 id=&#34;大纲&#34;&gt;大纲&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;混合结构ASR介绍。&lt;/li&gt;
&lt;li&gt;ASR系统部署细节。&lt;/li&gt;
&lt;li&gt;声学模型优化。&lt;/li&gt;
&lt;li&gt;语言模型优化。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;1-混合结构asr介绍&#34;&gt;1. 混合结构ASR介绍&lt;/h3&gt;
&lt;p&gt;混合结构语音识别的数学表示：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;基本出发点&lt;/p&gt;
&lt;p&gt;$$W^* = \arg\max_W P(W|X)$$&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;贝叶斯公式变换&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$W^* = \arg\max_W P(X|W)P(W)$$&lt;/p&gt;
&lt;p&gt;$P(X|W)$：声学模型&lt;/p&gt;
&lt;p&gt;$P(W)$：语言模型&lt;/p&gt;
&lt;p&gt;注：端到端ASR直接计算 $P(W|X)$&lt;/p&gt;
&lt;h3 id=&#34;2-asr系统部署细节&#34;&gt;2. ASR系统部署细节&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ASR系统在实际部署时需要的模块&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;语音端点检测 (VAD)
作用：过滤噪声，提高准确率；降低ASR对计算资源的使用。&lt;/li&gt;
&lt;li&gt;话者分离
例如一些业务需要将客服和客户分离出来，进行不同的处理。
一般流程：
&lt;ul&gt;
&lt;li&gt;VAD&lt;/li&gt;
&lt;li&gt;SCD&lt;/li&gt;
&lt;li&gt;Speaker Embedding&lt;/li&gt;
&lt;li&gt;聚类&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;性别识别&lt;/li&gt;
&lt;li&gt;语种识别&lt;/li&gt;
&lt;li&gt;后处理模块
后处理模块对ASR解码得到的句子做一些额外的处理，如标点预测，数字归一化等。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ASR系统在实际部署时需要关注的问题&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;性能问题
&lt;ul&gt;
&lt;li&gt;在线场景：实时率和尾片超时率
$$RTF =  \frac{process \ time }{audio \ time}$$&lt;/li&gt;
&lt;li&gt;离线场景：吞吐量&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;识别效果问题
&lt;ul&gt;
&lt;li&gt;字错率或字准率
$$ CER = \frac{#Insertion + #Deletion + #Substitute}{#Words}$$&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;识别效果问题分类&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;VAD等其他前置模块引入的错误。
如VAD可以造成人声漏识别和噪声误识别，一般情况根据噪声情况设置相关参数即可。&lt;/li&gt;
&lt;li&gt;声学模型引入的错误。
出现如信道差异，噪声情况，方言或重口音，近场远场差异等音素。&lt;/li&gt;
&lt;li&gt;语言模型引入的错误。
&lt;ul&gt;
&lt;li&gt;出现人名，地名，领域内专有名词等。&lt;/li&gt;
&lt;li&gt;出现行业、领域、场景的话术，固定搭配等。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;面向不同场景的优化&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;通用模型迭代，提升通用模型的效果。
特点： 效果和性能需要稳定，兼顾。&lt;/li&gt;
&lt;li&gt;特定场景调优（TO B业务）
特点：针对某一业务或场景提升效果。&lt;/li&gt;
&lt;li&gt;比赛
特点：效果优先。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;3-声学模型优化&#34;&gt;3. 声学模型优化&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;标注数据较少时的优化方法
&lt;ul&gt;
&lt;li&gt;数据增强&lt;/li&gt;
&lt;li&gt;无监督预训练&lt;/li&gt;
&lt;li&gt;主动学习&lt;/li&gt;
&lt;li&gt;迁移学习&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;其他优化方法
&lt;ul&gt;
&lt;li&gt;生成更好的对齐数据&lt;/li&gt;
&lt;li&gt;使用大模型训练小模型&lt;/li&gt;
&lt;li&gt;模型融合&lt;/li&gt;
&lt;li&gt;多流声学模型&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;31-数据增强&#34;&gt;3.1 数据增强&lt;/h4&gt;
&lt;p&gt;在数据量较少或者特定音频（如远场）数据量较少时，通过数据增强方法可以有效降低字错误率，简单有效。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;噪声增强
噪声数据集，&lt;a class=&#34;link&#34; href=&#34;http://www.openslr.org/17/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;MUSAN&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;混响增强
混响数据集。&lt;a class=&#34;link&#34; href=&#34;https://www.openslr.org/28/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Room Impulse Response and Noise Database&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;语速扰动&lt;/li&gt;
&lt;li&gt;音量扰动&lt;/li&gt;
&lt;li&gt;频谱增强
论文：SpecAugment: A Simple Data Augmentation Method for Automatic Speech Recognition&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;32-无监督预训练&#34;&gt;3.2 无监督预训练&lt;/h4&gt;
&lt;p&gt;预训练技术在NLP领域已经比较成熟，在语音领域也逐渐崭露头角。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;目标：从原始音频数据中学习一种特征表示，代替传统ASR中手工设计的特征（Fbank，MFCC等）。&lt;/li&gt;
&lt;li&gt;基于大量无标注数据，学习一个泛化性更好的特征表示 (鲁棒性更好)，学习的特征与具体任务无关。&lt;/li&gt;
&lt;li&gt;两种方法：Contrastive Predictive Coding (wav2vec) 和 Autoregressive Predictive Coding。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;33-主动学习&#34;&gt;3.3 主动学习&lt;/h4&gt;
&lt;p&gt;利用解码的置信度信息筛选对模型帮助更大的数据（即模型犯错最多的样本)进行标注。可以在有限时间内标注最有用的数据，提升模型的效果。简单有效。&lt;/p&gt;
&lt;h4 id=&#34;34-迁移学习&#34;&gt;3.4 迁移学习&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;同类型语种 (可以共用发音词典) 的迁移学习
不需要改变发音词典，可以直接调优 (近场远场，噪声情况，部分方言或重口音)。
方法：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;利用通用模型生成对齐数据。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;固定通用模型部分层的参数，调整学习率。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;利用对齐数据训练通用模型。&lt;/p&gt;
&lt;p&gt;效果（四川话调优案例）：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;数据量&lt;/th&gt;
&lt;th&gt;CER&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;base&lt;/td&gt;
&lt;td&gt;45.437%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1小时&lt;/td&gt;
&lt;td&gt;41.617%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5小时&lt;/td&gt;
&lt;td&gt;32.526%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;50小时&lt;/td&gt;
&lt;td&gt;15.873%&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;不同语种之前的迁移学习
因为发音词典不能共用（如普通话和粤语），因此无法直接利用迁移学习进行调优。
方法：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;利用少量数据 (粤语数据) 构建基础模型，并生成对齐数据。&lt;/li&gt;
&lt;li&gt;利用大量数据（普通话）训练通用模型，通用模型泛化能力更好。&lt;/li&gt;
&lt;li&gt;将模型的输出层（包含了pdf-id信息）替换到通用模型的基础上。（不能直接训练，两个模型的输出层信息不一致，需要做个替换）&lt;/li&gt;
&lt;li&gt;固定通用模型的部分层参数，调整学习率系数。&lt;/li&gt;
&lt;li&gt;利用对齐数据进行调优。（可以利用通用模型基于大量数据训练的较好的表示能力）&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;效果（400小时粤语数据案例）：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;数据量&lt;/th&gt;
&lt;th&gt;test1&lt;/th&gt;
&lt;th&gt;test2&lt;/th&gt;
&lt;th&gt;test3&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;base&lt;/td&gt;
&lt;td&gt;15.44%&lt;/td&gt;
&lt;td&gt;27.61%&lt;/td&gt;
&lt;td&gt;28.32%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;优化&lt;/td&gt;
&lt;td&gt;15.92%&lt;/td&gt;
&lt;td&gt;16.05%&lt;/td&gt;
&lt;td&gt;20.80%&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;35-生成更好的对齐数据&#34;&gt;3.5 生成更好的对齐数据&lt;/h4&gt;
&lt;p&gt;传统的训练流程：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;训练GMM。&lt;/li&gt;
&lt;li&gt;GMM生成对齐数据。&lt;/li&gt;
&lt;li&gt;使用对齐数据训练DNN AM。&lt;/li&gt;
&lt;li&gt;使用训练好的DNN再次对齐数据，进行训练。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;训练DNN为有监督学习，训练数据的质量很大程度的影响了模型的效果。一般GMM阶段模型的字错误率在30%-40%左右，DNN模型的字错误率在20%以内。因此使用DNN模型可以获得更好的对齐结果训练模型。&lt;/p&gt;
&lt;h4 id=&#34;36-使用大模型训练小模型&#34;&gt;3.6 使用大模型训练小模型&lt;/h4&gt;
&lt;p&gt;使用大模型训练小模型是在&lt;strong&gt;3.5 生成更好的对齐数据&lt;/strong&gt;思想上进一步延伸，使用更好的模型生成更好的训练数据，但是要注意输出层的适配问题。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;当数据量较多时，训练一个大声学模型保证效果最好（只考虑效果，不考虑推理速度）。&lt;/li&gt;
&lt;li&gt;使用大模型对齐数据。&lt;/li&gt;
&lt;li&gt;将大模型最后一层迁移到小模型上（保留pdf-id信息），利用对齐数据进行训练。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;另外，除了对数据重新对齐之外，还可以利用大模型的输出信息（后验概率分布）作为真值训练小模型（类似Teacher-Student）&lt;/p&gt;
&lt;h4 id=&#34;37-模型融合&#34;&gt;3.7 模型融合&lt;/h4&gt;
&lt;p&gt;帧级别的模型融合。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;多个模型使用相同的GMM结果（对齐结果，决策树）进行训练（保证模型输出信息一致）。&lt;/li&gt;
&lt;li&gt;多个模型可以结构不同（如LSTM和CNN），模型规模不同，也可以输入特征不同等。多个模型可以站在不同的角度进行预测。&lt;/li&gt;
&lt;li&gt;推理阶段，将多个模型的输出进行融合，可以求平均，可以取max等。&lt;/li&gt;
&lt;li&gt;对性能有一定影响，可以用在离线服务，或比赛中。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;38-多流模型&#34;&gt;3.8 多流模型&lt;/h4&gt;
&lt;p&gt;通过使用分辨率的数据训练模型，提升模型的泛化能力。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用不同的频带，多频带语音识别系统。&lt;/li&gt;
&lt;li&gt;使用不同的特征，多信道语音识别系统。&lt;/li&gt;
&lt;li&gt;使用不同的采样频率，窗大小，滤波器等。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;论文：Multistream CNN for  robust acoustic modeling
相对于TDNN-F模型，Multistream CNN在Librispeech语料库中的WER相对改善了12%，RTF优化了15%。&lt;/p&gt;
&lt;h3 id=&#34;4-语言模型优化方法&#34;&gt;4. 语言模型优化方法&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;插值语言模型&lt;/li&gt;
&lt;li&gt;语言模型重打分&lt;/li&gt;
&lt;li&gt;热词增强技术&lt;/li&gt;
&lt;li&gt;语言模型得分前提&lt;/li&gt;
&lt;li&gt;纠错模型&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;41-插值语言模型&#34;&gt;4.1 插值语言模型&lt;/h4&gt;
&lt;p&gt;相较于传统使用一份大语料生成Ngram语言模型的方法，通过在对特定测试语料上进行差值的方式，可以对降低特定场景或者特定任务的有一定效果。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;生成Ngram时，对语料进行分类（如通用语料，各场景语料等）&lt;/li&gt;
&lt;li&gt;同时为每份语料同时生成3-Gram和4-Gram语言模型&lt;/li&gt;
&lt;li&gt;在对应的测试集上寻找最优插值系数，降低混淆度，生成最后的Ngram模型。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;42-语言模型重打分&#34;&gt;4.2 语言模型重打分&lt;/h4&gt;
&lt;p&gt;语言模型重打分可以分为Ngram重打分和NNLM重打分。
关键点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用较小的语言模型构建解码图，保证解码速度。&lt;/li&gt;
&lt;li&gt;使用更大效果更好的语言模型进行二次打分。
&lt;ul&gt;
&lt;li&gt;一遍解码生成lattice或者Nbest。&lt;/li&gt;
&lt;li&gt;二遍解码时使用更好的语言模型对lattice和Nbest上的语言分数进行修改。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;针对特定任务，一般还可以在大语言模型中融入更多领域语料，提升效果。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;效果（只是用特定领域文本做Ngram重打分）：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;数据量&lt;/th&gt;
&lt;th&gt;CER&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;base&lt;/td&gt;
&lt;td&gt;12.746%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;200W行文本&lt;/td&gt;
&lt;td&gt;10.775%&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;43-热词增强&#34;&gt;4.3 热词增强&lt;/h4&gt;
&lt;p&gt;热词增强是用来对特定词汇进行增强的技术。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;可以增强对人名，地名，机构名等专有名词的识别。&lt;/li&gt;
&lt;li&gt;可以解决oov的识别问题。只要可以用音素表示出来，就可以进行识别，包括英文单词。&lt;/li&gt;
&lt;li&gt;无需重新收集语料进行模型训练，可以实现分钟级别的效果调优。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;参考kaldi的on the fly grammar fst.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;生成的解码图的语料会将专有名词替换成特殊值(UNK)，此时解码图称为top fst。&lt;/li&gt;
&lt;li&gt;将配置的热词表构成单独的小fst，称为part fst。&lt;/li&gt;
&lt;li&gt;在解码算法中，如果在搜索top fst时遇到特殊值，便会跳转到part fst继续搜索。&lt;/li&gt;
&lt;li&gt;top fst和part fst&amp;quot;动态缝合&amp;quot;，无需提前compose成一个大图。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;44-语言模型得分前提&#34;&gt;4.4 语言模型得分前提&lt;/h4&gt;
&lt;p&gt;根据解码算法的特点，语言模型信息利用越早越好，不然正确的路径可能会被提前剪掉。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;lookahead：在解码搜索时，将路径上后续的语言得分前提，更早的加入语言模型的信息辅助剪枝策略剪枝。&lt;/li&gt;
&lt;li&gt;NNLM rescore on the fly
&lt;ul&gt;
&lt;li&gt;常规Rescoring：利用HCLG1先全部解码，生成lattice或者nbest，然后在G2上做lattice和nbest的Rescoring。&lt;/li&gt;
&lt;li&gt;on-the-fly Rescoring：使用HCLG1做解码，在解码过程中，每当解码出word时，立即加上G2中的LM 分数 (on-the-fly 形式)。&lt;/li&gt;
&lt;li&gt;可以参考Kaldi中的BigLM Decoder。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;45-纠错模型&#34;&gt;4.5 纠错模型&lt;/h4&gt;
&lt;p&gt;利用seq2seq模型训练纠错模型。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;训练：模型输入为ASR识别结果，输出为标注结果。&lt;/li&gt;
&lt;li&gt;通过生成Nbset，可以提高纠错模型的训练数据的丰富度。&lt;/li&gt;
&lt;li&gt;可以较好的利用较长的上下文信息进行纠错，尤其是替换错误。&lt;/li&gt;
&lt;li&gt;作为一个单独的模块可以较好的接入到混合结构的ASR系统中。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;论文：Automatic Spelling Correction with Transformer for CTC-based End-to-End Speech Recognition&lt;/p&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E6%96%87%E6%A1%A3/%E8%81%8C%E7%BA%A7%E8%AF%84%E5%AE%9A%E4%B8%BE%E8%AF%81/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E6%96%87%E6%A1%A3/%E8%81%8C%E7%BA%A7%E8%AF%84%E5%AE%9A%E4%B8%BE%E8%AF%81/</guid>
        <description>&lt;h1 id=&#34;职级评定举证材料&#34;&gt;职级评定举证材料&lt;/h1&gt;
&lt;hr&gt;
&lt;h2 id=&#34;1-技术知识&#34;&gt;1. 技术知识&lt;/h2&gt;
&lt;p&gt;负责语音组SpeechAI下多个项目的开发和维护。18年开始贡献代码，部分项目由本人从零构建维护到现在，并在线上使用。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;作为maintainer维护项目数量
&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/1.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;1&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;相关项目截图
&lt;ol&gt;
&lt;li&gt;语音识别算法库
开始维护时间：
&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/28.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;2&#34;
	
	
&gt;
项目代码占比：
粉色为c++，蓝色为python。
&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/3.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;3&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;语音特征提取库
开始维护时间：
&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/4.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;4&#34;
	
	
&gt;
项目代码占比：
&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/5.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;5&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;语音组内其他项目情况相似，这些项目中包括：
&lt;ol&gt;
&lt;li&gt;用tensorflow c++ api进行部署，python接口进行训练。&lt;/li&gt;
&lt;li&gt;用kaldi语音框架进行语音识别模型进行研究实验。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-产品知识&#34;&gt;2. 产品知识&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;定期关注自研相关指标
&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/8.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;8&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;定期监测几家竞品指标
&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/6.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;6&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;会针对竞品的功能点对自研产品做出补充和优化，如优化热词加载性能，支持更多热词，支持公有云多租户热词调优方案等。
&lt;a class=&#34;link&#34; href=&#34;https://confluence.in.wezhuiyi.com/display/SpeechAlg/20210802?preview=/70985697/70985701/20210802-yuanding.pptx&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;公有云多租户热词方案实验周报, 如有乱码可下载后查看&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;在垂直领域几个测试集上的效果要全面好于竞品，参见第二点截图。&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://confluence.in.wezhuiyi.com/pages/viewpage.action?pageId=70987062&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;自学习平台调优文档&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;3-行业知识&#34;&gt;3. 行业知识&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;混合结构ASR系统知识
&lt;a class=&#34;link&#34; href=&#34;https://kdocs.cn/l/skRPrGY8ItZa&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;关于混合结构ASR系统基本原理和各个模块如何优化的主题分享&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://lexiangla.com/teams/k100001/docs/3703ecd85b1211eba1c31a142a8ab7ef?company_from=eb9d75d0f38011e7ae86525400ebd317&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;公司年度技术分享&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://kdocs.cn/l/spCCQBBcf0zx&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;公司五周年论文分享&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;端到端ASR系统知识
&lt;a class=&#34;link&#34; href=&#34;https://confluence.in.wezhuiyi.com/display/SpeechAlg/20201126?preview=/56450670/80708678/yuanding-CTC.pptx&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;CTC模型分享&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;https://confluence.in.wezhuiyi.com/display/SpeechAlg/20201203?preview=/56450666/80708681/yuanding-LAS.pptx&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;LAS模型分享&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;目前组内端到端效果持平线上模型
月报：&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/9.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;9&#34;
	
	
&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;4-项目管理&#34;&gt;4. 项目管理&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://confluence.in.wezhuiyi.com/pages/viewpage.action?pageId=80708688&amp;amp;preview=/80708688/80708692/Q4%E5%AD%A3%E5%BA%A6%E5%AE%89%E6%8E%92.pdf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;2021年度Q2, Q3, Q4季度ASR部分方向制定和安排&lt;/a&gt;
在Q3的规划中已经完成项：
月报：&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/10.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;10&#34;
	
	
&gt;
&lt;ol&gt;
&lt;li&gt;端到端方案已经完成了和线上方案的效果对齐。见月报第三部分。&lt;/li&gt;
&lt;li&gt;粤语ASR从零到建立数据流规范，建立发音词典，目前已经开始支持项目POC测试。见月报第一部分。&lt;/li&gt;
&lt;li&gt;英文ASR建立了从标注规范，入库规范，完成了热词调优的支持，并发布了效果更好的新版本。见月报第二部分。&lt;/li&gt;
&lt;li&gt;算法库性能优化接近收尾。见月报第四部分。&lt;/li&gt;
&lt;li&gt;通用模型完成了新版本的发布。
发版邮件: &lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/13.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;13&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;自学习平台已经完成调优指南编写和一些流程优化工作：&lt;a class=&#34;link&#34; href=&#34;https://confluence.in.wezhuiyi.com/pages/viewpage.action?pageId=70987062&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;自学习平台调优文档&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;算法库和相关模型会按照计划定期发版迭代，优化性能，效果，修复bug。（目前算法库已经更新到2.6.1版本，模型已经更新到3.7.0版本）
&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/14.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;14&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;构建了完整的测试工具
&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/11.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;11&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;构建了组内项目开发规范，自动化测试、部署等CI/CD流水线（基于gitlab）。
&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/12.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;12&#34;
	
	
&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;5-技术应用能力&#34;&gt;5. 技术应用能力&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;通用模型效果在近期几个版本的迭代中，在7个测试集上由平均17%的错误率下降到了14%。
3.2.0模型：&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/15.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;15&#34;
	
	
&gt;
3.5.0模型：&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/16.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;16&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;英文ASR由4个测试集平均13.12%错误率降低到平均9.97%错误率。
九月份月报：&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/17.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;17&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;粤语模型在几个测试集上的CER由27%，28%降到16%，20%。
七月份月报：&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/18.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;18&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;算法库性能提升：
三月份月报&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/19.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;19&#34;
	
	
&gt;
八月份月报&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/20.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;20&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;采用声学模型输出已经作为vc的方案。&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://kdocs.cn/l/sjLQzMWxPdIQ&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;标注平台自动打分工具&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;工程方面：组内开发环境为Linux，项目见1. 技术知识部分，内部代码涉及多线程、I/O监控、内存管理等。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;6-技术研究能力&#34;&gt;6. 技术研究能力&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://lexiangla.com/teams/k100038/docs/340ff830854f11ea92b40a58ac13d3b6?company_from=eb9d75d0f38011e7ae86525400ebd317&amp;amp;news_log_id=1e91bdb8a3b311ea96dd0a58ac13ca74&amp;amp;push_item_id=1f0a7e6aa3b311ea95b65254002b9121&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;担任语音组专利接口人，已经针对技术创新申请多项专利&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;针对算法效果方面的研究：
&lt;ol&gt;
&lt;li&gt;ASR预训练方案研究，并基于kaldi改进预训练方式（目前的粤语方案可以认为是在普通话预训练的基础上进行）。
&lt;a class=&#34;link&#34; href=&#34;https://confluence.in.wezhuiyi.com/display/SpeechAlg/20210816?preview=/70986874/70986884/20200816-yuanding.pptx&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;周报，粤语ASR实验部分&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;端到端ASR研究，根据学术界最新的成果在公司产品中进行落地实验，目前效果已经和线上方案持平。
八月份月报：&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/21.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;21&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;实验单模型多方言方案，目前在河南话上已经可以做到单个模型同时识别普通话和河南话。（即河南话模型识别普通话的CER由平均27.02%降为13.66%，已于普通话模型基本持平）
七月份月报：&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/22.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;22&#34;
	
	
&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;针对算法库性能的研究：
&lt;ol&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.kdocs.cn/l/scVruhQ9Yf0q&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;实验GPU解码方案&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;使用const arpa作为重打分的方案，在保证效果不变的情况下有效降低延迟。
效果：&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/23.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;23&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://confluence.in.wezhuiyi.com/display/SpeechAlg/20210802?preview=/70985697/70985701/20210802-yuanding.pptx&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;实验热词多租户方案，可以使多个业务在共享基础图的基础上达到热词互不干扰的目的，而不用开启多个服务&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;专利&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/27.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;27&#34;
	
	
&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;7知识传承&#34;&gt;7.知识传承&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://lexiangla.com/teams/k100001/docs/3703ecd85b1211eba1c31a142a8ab7ef?company_from=eb9d75d0f38011e7ae86525400ebd317&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;2020年度技术workshop分享：对话型asr更懂你们的语音&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;负责广东省语音专利奖申报技术部分&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/29.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;29&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.kdocs.cn/l/shgXFZlmgcMi&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;深圳市跨模态智能交互工程技术研究中心可行性报告语音算法部分&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.kdocs.cn/l/spCCQBBcf0zx&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;公司五周年论文分享语音算法部分&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;香港科技园workshop分享：基于混合结构ASR系统的效果优化。&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/26.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;26&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;制定组内流程规范：包括新人work flow指引，组内项目开发规范，ASR调优指南，英文标注规范等。
&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/12.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;12&#34;
	
	
&gt;&lt;/li&gt;
&lt;li&gt;对组内提交的mr进行review，保证代码质量，提高大家的代码规范。
&lt;img src=&#34;https://demo.stack.jimmycai.com/.resouces/rank_evaluation/25.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;25&#34;
	
	
&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;8技术影响力&#34;&gt;8.技术影响力&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://lexiangla.com/teams/k100001/docs/3703ecd85b1211eba1c31a142a8ab7ef?company_from=eb9d75d0f38011e7ae86525400ebd317&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;获得2020年度workshop优秀分享奖&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://lexiangla.com/teams/k100001/docs/95aa01f4fb1d11eb90a712679cd4072c?company_from=eb9d75d0f38011e7ae86525400ebd317&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;获得2021Q2季度优秀员工银奖&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://lexiangla.com/teams/k100001/docs/95aa01f4fb1d11eb90a712679cd4072c?company_from=eb9d75d0f38011e7ae86525400ebd317&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;获得2021Q2季度项目突破奖&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://confluence.in.wezhuiyi.com/pages/viewpage.action?pageId=80708688&amp;amp;preview=/80708688/80708692/Q4%E5%AD%A3%E5%BA%A6%E5%AE%89%E6%8E%92.pdf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;把控ASR技术方向，并定期进行规划，保证ASR内部运转和对外输出。&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://lexiangla.com/teams/k100038/docs/340ff830854f11ea92b40a58ac13d3b6?company_from=eb9d75d0f38011e7ae86525400ebd317&amp;amp;news_log_id=1e91bdb8a3b311ea96dd0a58ac13ca74&amp;amp;push_item_id=1f0a7e6aa3b311ea95b65254002b9121&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;担任语音组专利接口人&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/asr/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/asr/</guid>
        <description>&lt;h1 id=&#34;asr&#34;&gt;ASR&lt;/h1&gt;
&lt;h2 id=&#34;1-自研算法库&#34;&gt;1. 自研算法库&lt;/h2&gt;
&lt;h3 id=&#34;vad&#34;&gt;VAD&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;支持最大时长截断设置&lt;/li&gt;
&lt;li&gt;模型泛化能力优化&lt;/li&gt;
&lt;li&gt;基于声纹的VAD模型&lt;/li&gt;
&lt;li&gt;推荐参数&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;推理引擎&#34;&gt;推理引擎&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;libtorch版本升级&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;1.8.2 LTS 官方不再支持&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1.8.2 与最新版本兼容性差，模型训练受限&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;onnx版本升级&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;升级1.12.1或1.13.1，支持量化模型&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;asr-后处理&#34;&gt;ASR 后处理&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;十五点二十分：15.20分&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;开源库：&lt;a class=&#34;link&#34; href=&#34;https://github.com/wenet-e2e/WeTextProcessing&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;WeTextProcessing&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;支持 cpp runtime&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置更灵活&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;长句标点问题&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;粤语标点问题&lt;/p&gt;
&lt;p&gt;解决异常，验证普通话模型是否可用&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;粤语简繁转化&lt;/p&gt;
&lt;p&gt;opencc 开源库支持&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;gpu支持基于triton&#34;&gt;GPU支持（基于Triton）&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;话者分离模块支持&lt;/li&gt;
&lt;li&gt;VAD模块支持GPU&lt;/li&gt;
&lt;li&gt;性别识别模块支持GPU&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;国产化支持&#34;&gt;国产化支持&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;算法库各个模块支持：VAD，Diar，ASR后处理&lt;/li&gt;
&lt;li&gt;基于triton server测试&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;其他&#34;&gt;其他&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;v2.9.1算法库发版邮件&lt;/li&gt;
&lt;li&gt;README 完善&lt;/li&gt;
&lt;li&gt;在线文档分版本&lt;/li&gt;
&lt;li&gt;发版实验记录完善&lt;/li&gt;
&lt;li&gt;流水席代码检查基于c++14&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-算法实验&#34;&gt;2. 算法实验&lt;/h2&gt;
&lt;h3 id=&#34;wenet&#34;&gt;wenet&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;双向重打分模型实验&lt;/li&gt;
&lt;li&gt;独立Transformer重打分模型实验&lt;/li&gt;
&lt;li&gt;Squeezeformer实验&lt;/li&gt;
&lt;li&gt;模型对输入长度限制的实验&lt;/li&gt;
&lt;li&gt;TTS数据调优实验&lt;/li&gt;
&lt;li&gt;num_left_chunks 性能优化实验&lt;/li&gt;
&lt;li&gt;加入wenet speech数据实验&lt;/li&gt;
&lt;li&gt;量化实验&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;k2&#34;&gt;k2&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;中文全量数据实验&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;预训练模型&#34;&gt;预训练模型&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;基于量化蒸馏学习实验&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;领域支持&#34;&gt;领域支持&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;领域定义及分类文档&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;领域数据库&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;领域模型&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;领域测试集&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;地域支持&#34;&gt;地域支持&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;地址识别&lt;/li&gt;
&lt;li&gt;POI数据&lt;/li&gt;
&lt;li&gt;测试数据&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;3-自研项目管理&#34;&gt;3. 自研项目管理&lt;/h2&gt;
&lt;h3 id=&#34;ctc_decoder&#34;&gt;ctc_decoder&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;接口文档整理&lt;/li&gt;
&lt;li&gt;README&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;wenet-1&#34;&gt;wenet&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;triton server相关脚本和model repo&lt;/li&gt;
&lt;li&gt;位置编码长度限制改动&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;speech_utils&#34;&gt;speech_utils&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;python3.8支持&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;speech_corpus&#34;&gt;speech_corpus&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;python3.8支持&lt;/li&gt;
&lt;li&gt;效果评测支持离线&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;experiments&#34;&gt;experiments&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;算法库发版记录更细&lt;/li&gt;
&lt;li&gt;模型发版记录更新&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;4-asr-模型&#34;&gt;4. ASR 模型&lt;/h2&gt;
&lt;h3 id=&#34;模型发版&#34;&gt;模型发版&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;wenet 模型&lt;/p&gt;
&lt;p&gt;四川话 | 河南话 | 粤语 | 英语 | 中英混&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;kaldi模型&lt;/p&gt;
&lt;p&gt;四川话 | 河南话 | 粤语 | 英语 | 中英混&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;6-自学习平台&#34;&gt;6. 自学习平台&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;文本处理速度优化&lt;/li&gt;
&lt;li&gt;差值系数推荐&lt;/li&gt;
&lt;li&gt;提供差值系数等带来的效果差异&lt;/li&gt;
&lt;li&gt;详细的调优工具使用说明，调优指南，数据量效果参考等&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;wenet自学习平台&#34;&gt;wenet自学习平台&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;pytorch版本与算法库对应&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;kaldi-自学习平台&#34;&gt;kaldi 自学习平台&lt;/h3&gt;
&lt;h2 id=&#34;7-项目支持&#34;&gt;7. 项目支持&lt;/h2&gt;
&lt;h3 id=&#34;数字人&#34;&gt;数字人&lt;/h3&gt;
&lt;h3 id=&#34;bpo&#34;&gt;BPO&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;wenet效果跟进&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;中国重汽&#34;&gt;中国重汽&lt;/h3&gt;
&lt;h3 id=&#34;中移在线&#34;&gt;中移在线&lt;/h3&gt;
&lt;h2 id=&#34;其他-1&#34;&gt;其他&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;算法侧 ASR 服务&lt;/p&gt;
&lt;p&gt;网页支持，方便临时测试和问题定位。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;服务器环境升级python3.8&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;升级python3.8后自研项目问题定位&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;speech_utils ali asr插件&lt;/li&gt;
&lt;li&gt;speech_corpus评测日志不显示&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/asr%E6%AF%8F%E5%91%A8%E5%B7%A5%E4%BD%9C%E5%8A%A8%E6%80%81/asr/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/asr%E6%AF%8F%E5%91%A8%E5%B7%A5%E4%BD%9C%E5%8A%A8%E6%80%81/asr/</guid>
        <description>&lt;h1 id=&#34;工作目标&#34;&gt;工作目标&lt;/h1&gt;
&lt;h2 id=&#34;2022年第2季度&#34;&gt;2022年第2季度&lt;/h2&gt;
&lt;h3 id=&#34;算法库&#34;&gt;算法库&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;算法库支持端到端方案（在线 + 离线）。&lt;/li&gt;
&lt;li&gt;算法库支持GPU推理。&lt;/li&gt;
&lt;li&gt;算法库CPU性能加速。&lt;/li&gt;
&lt;li&gt;算法库发版v2.8.0版本。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;端到端-asr&#34;&gt;端到端 ASR&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;在线asr效果优化，优于kaldi系统。&lt;/li&gt;
&lt;li&gt;离线asr效果优化，0.5-1个点提升。&lt;/li&gt;
&lt;li&gt;支持TLG解码方式。&lt;/li&gt;
&lt;li&gt;端到端ASR自学习平台支持。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;kaldi-asr&#34;&gt;kaldi ASR&lt;/h3&gt;
&lt;p&gt;线上在用系统持续优化，测试集效果平均提升0.5-1个点。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;声学模型效果优化。&lt;/li&gt;
&lt;li&gt;针对文本领域补充文本语料优化语言模型。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;日常事务&#34;&gt;日常事务&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;完成组内服务器安全改造。&lt;/li&gt;
&lt;li&gt;项目支持等其他日常事务。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2022年第3季度&#34;&gt;2022年第3季度&lt;/h2&gt;
&lt;h3 id=&#34;算法库-1&#34;&gt;算法库&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;端到端ASR支持流式及非流式GPU推理。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;优化ASR结果置信度功能。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;优化数字归一化接口。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;其他模块的更新支持。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;语音预训练模型&#34;&gt;语音预训练模型&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;语音预训练模型调研和方案选型。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;结合ASR及其他下游任务进行前期实验工作。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;asr模型&#34;&gt;ASR模型&lt;/h3&gt;
&lt;p&gt;ASR端到端模型迭代&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;优化流式效果，目标0.5%-1%。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;优化非流式效果，目标0.5-1%。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;日常事务-1&#34;&gt;日常事务&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ASR相关项目的开发支持: ASR相关训练，评测等项目。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ASR及其他模块代码的code review。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;服务器管理等。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;asr-team-todo-list&#34;&gt;ASR TEAM TODO LIST&lt;/h2&gt;
&lt;h4 id=&#34;算法库-2&#34;&gt;算法库&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;del&gt;话者分离工程化&lt;/del&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;文本语料库&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;OPENVINO更新2.0&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;asr-前端&#34;&gt;ASR 前端&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;VAD效果优化&lt;/li&gt;
&lt;li&gt;话者分离效果优化&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;asr-模型&#34;&gt;ASR 模型&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;方言模型&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;端到端模型&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用350版本优化&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;方言模型重新对齐优化&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;粤语发音词典验收&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;英文模型&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;端到端模型&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;英文模型重新对齐优化&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;中英混合模型&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;中英混模型&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;端到端模型&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;其他&#34;&gt;其他&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;BPO京东金融效果优化&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;base_utils install_requires增加opencc， textgrid依赖&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;语种识别实验: 普通话，粤语，四川话&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;自学习平台调优数据指南&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;自学习平台openvino支持&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;专有名词清洗&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;yuan-todo-list&#34;&gt;Yuan TODO LIST&lt;/h2&gt;
&lt;h4 id=&#34;算法库-3&#34;&gt;算法库&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;算法库 v2.x&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;del&gt;缓存功能合并主分支&lt;/del&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;算法库ppg支持动态chunk和动态上下文&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;停用词后处理合并主分支&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;del&gt;kaldi声学模型batch推理调研&lt;/del&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;kaldi-onnx项目缓存功能合并主分支&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;算法库 v3.x&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;del&gt;所有项目支持c++14标准&lt;/del&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;del&gt;bazel支持v3.0.0以上版本&lt;/del&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;del&gt;dependency_rules项目支持wenet&lt;/del&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;del&gt;算法库支持wenet&lt;/del&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;调整传入的符号表&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;传入音频尾片padding 200ms静音&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;升级tf版本到2.0+&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;padding 200ms逻辑差异导致的效果差异&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;端到端-asr-1&#34;&gt;端到端 ASR&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;流式效果优化&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;padding 静音数据训练&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;去掉超短句&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;调整学习率&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;非流式模型效果优化&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;英文使用CHAR建模实验&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;增大学习率&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;增大epoch&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;del&gt;支持语言模型&lt;/del&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;kaldi-asr-1&#34;&gt;kaldi ASR&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;del&gt;350模型使用神经网络对齐优化&lt;/del&gt;&lt;/li&gt;
&lt;li&gt;continue learning&lt;/li&gt;
&lt;li&gt;mutil stream cnn&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;asr-前端-1&#34;&gt;ASR 前端&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;VAD逻辑工程侧和算法侧对齐&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;其他-1&#34;&gt;其他&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;压测&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;英文测试语料&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;粤语测试语料&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;自学习平台&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;支持openvino&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;发版v1.0.0版本&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;调优指南 - 问题判断&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;代码review&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;文本语料库&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Yispeech 话者分离开放调优参数&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;百度SMLTA方案&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;base_utils: 更新安装依赖&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;数据迁移&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;性能测试机测试docker 镜像备份&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;流水线测试机迁移&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;数据库服务器迁移&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;项目支持&#34;&gt;项目支持&lt;/h2&gt;
&lt;h3 id=&#34;bpo项目&#34;&gt;BPO项目&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Asr_model_v3.10.0-bpo模型&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;100 小时标注调优&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;广发银行&#34;&gt;广发银行&lt;/h3&gt;
&lt;p&gt;时间：8.10&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;专有语料调优&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;地名调优&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;vc--数字人&#34;&gt;VC / 数字人&lt;/h3&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/asr%E6%AF%8F%E5%91%A8%E5%B7%A5%E4%BD%9C%E5%8A%A8%E6%80%81/test/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/asr%E6%AF%8F%E5%91%A8%E5%B7%A5%E4%BD%9C%E5%8A%A8%E6%80%81/test/</guid>
        <description>&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;模块&lt;/th&gt;
&lt;th&gt;测试数据&lt;/th&gt;
&lt;th&gt;位置&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;流式ASR&lt;/td&gt;
&lt;td&gt;asr&lt;/td&gt;
&lt;td&gt;/data1/share/misc/deploy_test_wav/&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;非流式ASR&lt;/td&gt;
&lt;td&gt;asr&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;话者分离&lt;/td&gt;
&lt;td&gt;diar-asr | diar_long.wav&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;性别识别&lt;/td&gt;
&lt;td&gt;sgr&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;语种识别&lt;/td&gt;
&lt;td&gt;slr&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;模型编号&lt;/th&gt;
&lt;th&gt;实验人&lt;/th&gt;
&lt;th&gt;时间&lt;/th&gt;
&lt;th&gt;训练数据&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;@yuanding&lt;/td&gt;
&lt;td&gt;2022.07.12&lt;/td&gt;
&lt;td&gt;合并lm_39对应语料并加入train_guomei_7-8/8-9, train_jinshangyinhang_7-8/8-9, train_rongshu_10-11/7-27, train_shanghaihaiguan_1-2/6-7, train_zhongxinyinhang_6-7/8-9对应文本&lt;/td&gt;
&lt;td&gt;使用3-gram&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;CTC/AED&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;th&gt;test1&lt;/th&gt;
&lt;th&gt;test2&lt;/th&gt;
&lt;th&gt;test3&lt;/th&gt;
&lt;th&gt;test4&lt;/th&gt;
&lt;th&gt;test5&lt;/th&gt;
&lt;th&gt;test6&lt;/th&gt;
&lt;th&gt;test7&lt;/th&gt;
&lt;th&gt;test8&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;10.73&lt;/td&gt;
&lt;td&gt;13.52&lt;/td&gt;
&lt;td&gt;11.52&lt;/td&gt;
&lt;td&gt;12.42&lt;/td&gt;
&lt;td&gt;10.47&lt;/td&gt;
&lt;td&gt;18.00&lt;/td&gt;
&lt;td&gt;12.40&lt;/td&gt;
&lt;td&gt;20.57&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;CTC/AED&lt;/th&gt;
&lt;th&gt;语言模型&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;th&gt;test1&lt;/th&gt;
&lt;th&gt;test2&lt;/th&gt;
&lt;th&gt;test3&lt;/th&gt;
&lt;th&gt;test4&lt;/th&gt;
&lt;th&gt;test5&lt;/th&gt;
&lt;th&gt;test6&lt;/th&gt;
&lt;th&gt;test7&lt;/th&gt;
&lt;th&gt;test8&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;10.43&lt;/td&gt;
&lt;td&gt;13.34&lt;/td&gt;
&lt;td&gt;11.25&lt;/td&gt;
&lt;td&gt;11.70&lt;/td&gt;
&lt;td&gt;10.22&lt;/td&gt;
&lt;td&gt;17.66&lt;/td&gt;
&lt;td&gt;12.01&lt;/td&gt;
&lt;td&gt;20.18&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;编号&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;使用torch 1.8.2 量化的script model 和 onnx模型.  解码参数：chunk_size: 16(流式)或-1(非流式), num_left_chunks: -1, ctc_weight: 0.5, reverse_weight: 0.0, rescoring_weight: 1.0, max_active: 4000, min_active: 200, beam: 10, lattice_beam: 5, acoustic_scale: 4.0, blank_skip_thresh:0.98, length_penalty: 0, nbest: 10, first_beam_size: 10, second_beam_size: 10&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;编号&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;使用torch 1.8.2 script model. 解码参数：chunk_size: 16, num_left_chunks: -1, ctc_weight: 0.5, reverse_weight: 0.0, rescoring_weight: 1.0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;模型&lt;/th&gt;
&lt;th&gt;算法库&lt;/th&gt;
&lt;th&gt;test_htw&lt;/th&gt;
&lt;th&gt;test1&lt;/th&gt;
&lt;th&gt;test2&lt;/th&gt;
&lt;th&gt;test3&lt;/th&gt;
&lt;th&gt;test4&lt;/th&gt;
&lt;th&gt;test5&lt;/th&gt;
&lt;th&gt;test6&lt;/th&gt;
&lt;th&gt;test7&lt;/th&gt;
&lt;th&gt;test8&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;asr_model_v4.0.0&lt;/td&gt;
&lt;td&gt;YiSpeech_v3.0.0&lt;/td&gt;
&lt;td&gt;19.20&lt;/td&gt;
&lt;td&gt;10.58&lt;/td&gt;
&lt;td&gt;13.31&lt;/td&gt;
&lt;td&gt;11.42&lt;/td&gt;
&lt;td&gt;11.90&lt;/td&gt;
&lt;td&gt;10.35&lt;/td&gt;
&lt;td&gt;17.67&lt;/td&gt;
&lt;td&gt;12.11&lt;/td&gt;
&lt;td&gt;20.52&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;编号&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;使用torch script model, 尾片padding120ms, 热词权重5.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;训练数据&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;编号&lt;/th&gt;
&lt;th&gt;训练数据&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;4608.531h train + 1300h子集 (train_guomei_7-8/8-9, train_jinshangyinhang_7-8/8-9, train_rongshu_10-11/7-27, train_shanghaihaiguan_1-2/6-7, train_zhongxinyinhang_6-7/8-9)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;备注&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;不加热词，nj=4：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;音频统计信息:
首片数量: 640
中间片数量: 10905
尾片数量: 640
首片时长: 128000
中间片时长: 2.181e+06
尾片时长: 63502.2&lt;/p&gt;
&lt;p&gt;测试结果:&lt;/p&gt;
&lt;p&gt;首片超时数量: 0
中间片超时数量: 7
尾片超时数量: 10&lt;/p&gt;
&lt;p&gt;首片超时率: 0 中间片超时率: 0.000641907 尾片超时率:0.015625&lt;/p&gt;
&lt;p&gt;首片rtf: 2.34375e-05 中间片rtf: 0.123801 尾片rtf: 1.37335&lt;/p&gt;
&lt;p&gt;首片平均耗时: 0ms 中间片平均耗时: 24ms 尾片平均耗时: 136ms&lt;/p&gt;
&lt;p&gt;首片最大耗时: 1ms 中间片最大耗时: 416ms 尾片最大耗时: 572ms&lt;/p&gt;
&lt;p&gt;总超时率: 0.00139516
总rtf: 0.150568
计算耗时分布: 0.150568
&amp;lt; 100ms: 210个, 占比0.328125
&amp;lt; 200ms: 324个, 占比0.50625
&amp;lt; 300ms: 96个, 占比0.15
&amp;lt; 400ms: 9个, 占比0.0140625
&amp;lt; 500ms: 0个, 占比0
&amp;lt; 600ms: 1个, 占比0.0015625
&amp;lt; 700ms: 0个, 占比0
&amp;lt; 800ms: 0个, 占比0
MEM INFO: min: 1201.66, max: 2779.3, avg: 2396.47
CPU INFO: max: 15.65&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;500热词，剪枝前&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;音频统计信息:
首片数量: 640
中间片数量: 10905
尾片数量: 640
首片时长: 128000
中间片时长: 2.181e+06
尾片时长: 63502.2&lt;/p&gt;
&lt;p&gt;测试结果:&lt;/p&gt;
&lt;p&gt;首片超时数量: 0
中间片超时数量: 31
尾片超时数量: 31&lt;/p&gt;
&lt;p&gt;首片超时率: 0 中间片超时率: 0.00284273 尾片超时率:0.0484375&lt;/p&gt;
&lt;p&gt;首片rtf: 9.375e-05 中间片rtf: 0.156627 尾片rtf: 1.55686&lt;/p&gt;
&lt;p&gt;首片平均耗时: 0ms 中间片平均耗时: 31ms 尾片平均耗时: 154ms&lt;/p&gt;
&lt;p&gt;首片最大耗时: 3ms 中间片最大耗时: 568ms 尾片最大耗时: 699ms&lt;/p&gt;
&lt;p&gt;总超时率: 0.00508822
总rtf: 0.185661
计算耗时分布: 0.185661
&amp;lt; 100ms: 157个, 占比0.245312
&amp;lt; 200ms: 337个, 占比0.526563
&amp;lt; 300ms: 115个, 占比0.179688
&amp;lt; 400ms: 26个, 占比0.040625
&amp;lt; 500ms: 4个, 占比0.00625
&amp;lt; 600ms: 0个, 占比0
&amp;lt; 700ms: 1个, 占比0.0015625
&amp;lt; 800ms: 0个, 占比0
CPU: 100.313, MEM: 2146.7M
MEM INFO: min: 1168.95, max: 2732.53, avg: 2373.16
CPU INFO: max: 15.9003&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;200热词剪纸前&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;音频统计信息:
首片数量: 640
中间片数量: 10905
尾片数量: 640
首片时长: 128000
中间片时长: 2.181e+06
尾片时长: 63502.2&lt;/p&gt;
&lt;p&gt;测试结果:&lt;/p&gt;
&lt;p&gt;首片超时数量: 0
中间片超时数量: 22
尾片超时数量: 24&lt;/p&gt;
&lt;p&gt;首片超时率: 0 中间片超时率: 0.00201742 尾片超时率:0.0375&lt;/p&gt;
&lt;p&gt;首片rtf: 6.25e-05 中间片rtf: 0.145072 尾片rtf: 1.48691&lt;/p&gt;
&lt;p&gt;首片平均耗时: 0ms 中间片平均耗时: 29ms 尾片平均耗时: 147ms&lt;/p&gt;
&lt;p&gt;首片最大耗时: 3ms 中间片最大耗时: 487ms 尾片最大耗时: 631ms&lt;/p&gt;
&lt;p&gt;总超时率: 0.00377513
总rtf: 0.173164
计算耗时分布: 0.173164
&amp;lt; 100ms: 179个, 占比0.279687
&amp;lt; 200ms: 338个, 占比0.528125
&amp;lt; 300ms: 99个, 占比0.154687
&amp;lt; 400ms: 22个, 占比0.034375
&amp;lt; 500ms: 1个, 占比0.0015625
&amp;lt; 600ms: 0个, 占比0
&amp;lt; 700ms: 1个, 占比0.0015625
&amp;lt; 800ms: 0个, 占比0
MEM INFO: min: 1174.65, max: 2716.46, avg: 2388.27
CPU INFO: max: 16
root@c82ccabd2623:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1000热词剪枝前&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;音频统计信息:
首片数量: 640
中间片数量: 10905
尾片数量: 640
首片时长: 128000
中间片时长: 2.181e+06
尾片时长: 63502.2&lt;/p&gt;
&lt;p&gt;测试结果:&lt;/p&gt;
&lt;p&gt;首片超时数量: 0
中间片超时数量: 27
尾片超时数量: 31&lt;/p&gt;
&lt;p&gt;首片超时率: 0 中间片超时率: 0.00247593 尾片超时率:0.0484375&lt;/p&gt;
&lt;p&gt;首片rtf: 7.8125e-06 中间片rtf: 0.142577 尾片rtf: 1.55695&lt;/p&gt;
&lt;p&gt;首片平均耗时: 0ms 中间片平均耗时: 28ms 尾片平均耗时: 154ms&lt;/p&gt;
&lt;p&gt;首片最大耗时: 1ms 中间片最大耗时: 627ms 尾片最大耗时: 804ms&lt;/p&gt;
&lt;p&gt;总超时率: 0.00475995
总rtf: 0.172743
计算耗时分布: 0.172743
&amp;lt; 100ms: 179个, 占比0.279687
&amp;lt; 200ms: 308个, 占比0.48125
&amp;lt; 300ms: 122个, 占比0.190625
&amp;lt; 400ms: 21个, 占比0.0328125
&amp;lt; 500ms: 9个, 占比0.0140625
&amp;lt; 600ms: 0个, 占比0
&amp;lt; 700ms: 0个, 占比0
&amp;lt; 800ms: 1个, 占比0.0015625
CPU: 100, MEM: 3253.16M
MEM INFO: min: 1371.62, max: 4699.66, avg: 4179.12
CPU INFO: max: 15.7538&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;500热词剪枝hou&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;音频统计信息:
首片数量: 640
中间片数量: 10905
尾片数量: 640
首片时长: 128000
中间片时长: 2.181e+06
尾片时长: 63502.2&lt;/p&gt;
&lt;p&gt;测试结果:&lt;/p&gt;
&lt;p&gt;首片超时数量: 0
中间片超时数量: 14
尾片超时数量: 19&lt;/p&gt;
&lt;p&gt;首片超时率: 0 中间片超时率: 0.00128381 尾片超时率:0.0296875&lt;/p&gt;
&lt;p&gt;首片rtf: 2.34375e-05 中间片rtf: 0.134193 尾片rtf: 1.41811&lt;/p&gt;
&lt;p&gt;首片平均耗时: 0ms 中间片平均耗时: 26ms 尾片平均耗时: 140ms&lt;/p&gt;
&lt;p&gt;首片最大耗时: 2ms 中间片最大耗时: 525ms 尾片最大耗时: 612ms&lt;/p&gt;
&lt;p&gt;总超时率: 0.00270825
总rtf: 0.16132
计算耗时分布: 0.16132
&amp;lt; 100ms: 214个, 占比0.334375
&amp;lt; 200ms: 314个, 占比0.490625
&amp;lt; 300ms: 93个, 占比0.145313
&amp;lt; 400ms: 18个, 占比0.028125
&amp;lt; 500ms: 0个, 占比0
&amp;lt; 600ms: 0个, 占比0
&amp;lt; 700ms: 1个, 占比0.0015625
&amp;lt; 800ms: 0个, 占比0
MEM INFO: min: 1191.07, max: 2855.69, avg: 2380.81
CPU INFO: max: 16&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;200热词剪枝后&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;音频统计信息:
首片数量: 640
中间片数量: 10905
尾片数量: 640
首片时长: 128000
中间片时长: 2.181e+06
尾片时长: 63502.2&lt;/p&gt;
&lt;p&gt;测试结果:&lt;/p&gt;
&lt;p&gt;首片超时数量: 0
中间片超时数量: 9
尾片超时数量: 17&lt;/p&gt;
&lt;p&gt;首片超时率: 0 中间片超时率: 0.000825309 尾片超时率:0.0265625&lt;/p&gt;
&lt;p&gt;首片rtf: 4.6875e-05 中间片rtf: 0.131058 尾片rtf: 1.40638&lt;/p&gt;
&lt;p&gt;首片平均耗时: 0ms 中间片平均耗时: 26ms 尾片平均耗时: 139ms&lt;/p&gt;
&lt;p&gt;首片最大耗时: 3ms 中间片最大耗时: 492ms 尾片最大耗时: 614ms&lt;/p&gt;
&lt;p&gt;总超时率: 0.00213377
总rtf: 0.158125
计算耗时分布: 0.158125
&amp;lt; 100ms: 215个, 占比0.335938
&amp;lt; 200ms: 309个, 占比0.482812
&amp;lt; 300ms: 99个, 占比0.154687
&amp;lt; 400ms: 16个, 占比0.025
&amp;lt; 500ms: 0个, 占比0
&amp;lt; 600ms: 0个, 占比0
&amp;lt; 700ms: 1个, 占比0.0015625
&amp;lt; 800ms: 0个, 占比0
MEM INFO: min: 1195.12, max: 2697.07, avg: 2394.24
CPU INFO: max: 15.75&lt;/p&gt;
&lt;p&gt;首片数量: 640
中间片数量: 10905
尾片数量: 640
首片时长: 128000
中间片时长: 2.181e+06
尾片时长: 63502.2&lt;/p&gt;
&lt;p&gt;测试结果:&lt;/p&gt;
&lt;p&gt;首片超时数量: 0
中间片超时数量: 62
尾片超时数量: 53&lt;/p&gt;
&lt;p&gt;首片超时率: 0 中间片超时率: 0.00568547 尾片超时率:0.0828125&lt;/p&gt;
&lt;p&gt;首片rtf: 0 中间片rtf: 0.175417 尾片rtf: 1.75534&lt;/p&gt;
&lt;p&gt;首片平均耗时: 0ms 中间片平均耗时: 35ms 尾片平均耗时: 174ms&lt;/p&gt;
&lt;p&gt;首片最大耗时: 0ms 中间片最大耗时: 675ms 尾片最大耗时: 809ms&lt;/p&gt;
&lt;p&gt;总超时率: 0.00943783
总rtf: 0.208241
计算耗时分布: 0.208241
&amp;lt; 100ms: 134个, 占比0.209375
&amp;lt; 200ms: 301个, 占比0.470313
&amp;lt; 300ms: 152个, 占比0.2375
&amp;lt; 400ms: 36个, 占比0.05625
&amp;lt; 500ms: 15个, 占比0.0234375
&amp;lt; 600ms: 1个, 占比0.0015625
&amp;lt; 700ms: 0个, 占比0
&amp;lt; 800ms: 1个, 占比0.0015625
CPU: 100, MEM: 3195.71M
MEM INFO: min: 1429.28, max: 4806.31, avg: 4111.38
CPU INFO: max: 15.8495&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;编号&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;th&gt;OS&lt;/th&gt;
&lt;th&gt;CPU型号&lt;/th&gt;
&lt;th&gt;逻辑核数&lt;/th&gt;
&lt;th&gt;逻辑核数内存&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;编号&lt;/th&gt;
&lt;th&gt;测试集&lt;/th&gt;
&lt;th&gt;首帧延迟（avg|max）&lt;/th&gt;
&lt;th&gt;尾帧延迟（avg|max）&lt;/th&gt;
&lt;th&gt;超时率&lt;/th&gt;
&lt;th&gt;超时分布&lt;/th&gt;
&lt;th&gt;CPU消耗&lt;/th&gt;
&lt;th&gt;内存消耗&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;编号&lt;/th&gt;
&lt;th&gt;算法库&lt;/th&gt;
&lt;th&gt;模型&lt;/th&gt;
&lt;th&gt;推理引擎&lt;/th&gt;
&lt;th&gt;测试环境&lt;/th&gt;
&lt;th&gt;核数/路数&lt;/th&gt;
&lt;th&gt;malloc&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/asr%E6%AF%8F%E5%91%A8%E5%B7%A5%E4%BD%9C%E5%8A%A8%E6%80%81/wenet%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/asr%E6%AF%8F%E5%91%A8%E5%B7%A5%E4%BD%9C%E5%8A%A8%E6%80%81/wenet%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83/</guid>
        <description>&lt;h1 id=&#34;端到端支持计划&#34;&gt;端到端支持计划&lt;/h1&gt;
&lt;h2 id=&#34;1-功能支持&#34;&gt;1. 功能支持&lt;/h2&gt;
&lt;h3 id=&#34;11-gpu解码&#34;&gt;1.1 GPU解码&lt;/h3&gt;
&lt;h3 id=&#34;12-热词机制&#34;&gt;1.2 热词机制&lt;/h3&gt;
&lt;h4 id=&#34;kaldi-grammar-fst热词&#34;&gt;kaldi grammar fst热词&lt;/h4&gt;
&lt;h4 id=&#34;热词条件概率&#34;&gt;热词条件概率&lt;/h4&gt;
&lt;h4 id=&#34;结合声学分数&#34;&gt;结合声学分数&lt;/h4&gt;
&lt;h4 id=&#34;wenet-在剪枝前做热词增强&#34;&gt;wenet 在剪枝前做热词增强&lt;/h4&gt;
&lt;h3 id=&#34;13-场景调优&#34;&gt;1.3 场景调优&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;TTS音频合成训练&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;TLG语言模型调优&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;声学模型调优&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;热词调优&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;14-方言及英文模型支持&#34;&gt;1.4 方言及英文模型支持&lt;/h3&gt;
&lt;h3 id=&#34;15-预训练模型&#34;&gt;1.5 预训练模型&lt;/h3&gt;
&lt;h2 id=&#34;2-模型效果&#34;&gt;2. 模型效果&lt;/h2&gt;
&lt;h3 id=&#34;21-模型训练&#34;&gt;2.1 模型训练&lt;/h3&gt;
&lt;h4 id=&#34;中文模型&#34;&gt;中文模型&lt;/h4&gt;
&lt;h4 id=&#34;训练数据&#34;&gt;训练数据&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;加入wenet 1w小时开源数据&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;词典{}检查&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;流式效果优化&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;padding 静音数据训练&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;去掉超短句&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;调整学习率&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;非流式模型效果优化&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;英文使用CHAR建模实验&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;增大学习率&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;增大epoch&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;尝试BPE分词效果&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;模型结构&#34;&gt;模型结构&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;U2++模型&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;加大模型规模&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;热词增强方案&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;22-解码参数&#34;&gt;2.2 解码参数&lt;/h3&gt;
&lt;h4 id=&#34;acoustic-scale&#34;&gt;acoustic-scale&lt;/h4&gt;
&lt;h4 id=&#34;blank_skip_thresh&#34;&gt;blank_skip_thresh&lt;/h4&gt;
&lt;h2 id=&#34;3-性能优化&#34;&gt;3. 性能优化&lt;/h2&gt;
&lt;h3 id=&#34;31-const-fst解码图&#34;&gt;3.1 Const Fst解码图&lt;/h3&gt;
&lt;h3 id=&#34;32-tcmalloc和jemalloc&#34;&gt;3.2 TCMalloc和JeMalloc&lt;/h3&gt;
&lt;h3 id=&#34;33-语言模型裁剪&#34;&gt;3.3 语言模型裁剪&lt;/h3&gt;
&lt;h4 id=&#34;34-解码参数调整&#34;&gt;3.4 解码参数调整&lt;/h4&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/asr%E6%AF%8F%E5%91%A8%E5%B7%A5%E4%BD%9C%E5%8A%A8%E6%80%81/%E5%AE%9E%E9%AA%8C%E8%AE%B0%E5%BD%95/%E7%AE%97%E6%B3%95%E5%BA%93%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/asr%E6%AF%8F%E5%91%A8%E5%B7%A5%E4%BD%9C%E5%8A%A8%E6%80%81/%E5%AE%9E%E9%AA%8C%E8%AE%B0%E5%BD%95/%E7%AE%97%E6%B3%95%E5%BA%93%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/</guid>
        <description></description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/asr%E6%AF%8F%E5%91%A8%E5%B7%A5%E4%BD%9C%E5%8A%A8%E6%80%81/%E5%AE%9E%E9%AA%8C%E8%AE%B0%E5%BD%95/%E7%BC%93%E5%AD%98%E6%A8%A1%E5%9E%8B%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/asr%E6%AF%8F%E5%91%A8%E5%B7%A5%E4%BD%9C%E5%8A%A8%E6%80%81/%E5%AE%9E%E9%AA%8C%E8%AE%B0%E5%BD%95/%E7%BC%93%E5%AD%98%E6%A8%A1%E5%9E%8B%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5/</guid>
        <description>&lt;h1 id=&#34;缓存模型性能问题排查&#34;&gt;缓存模型性能问题排查&lt;/h1&gt;
&lt;h2 id=&#34;1-相关因素&#34;&gt;1. 相关因素&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;模型版本&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;asr_model_v3.5.0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;asr_model_v3.9.0&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;算法库版本&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;asr_yispeech_v2.7.0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;asr_yispeech_v2.8.0&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;接口类型&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;tensorflow 接口&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;openvino 非缓存版本&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;openvino 缓存版本&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;压测脚本&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;tbb版本&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;thread版本&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;压测路数&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;1核1路&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;16核16路&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;16核64路&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-压测记录&#34;&gt;2. 压测记录&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;asr_yispeech_v2.7.0 + asr_model_v3.5.0 + 16核16路&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;中间片RTF&lt;/th&gt;
&lt;th&gt;尾片RTF&lt;/th&gt;
&lt;th&gt;中间片超时率&lt;/th&gt;
&lt;th&gt;尾片超时率&lt;/th&gt;
&lt;th&gt;中间片平均值&lt;/th&gt;
&lt;th&gt;中间片最大值&lt;/th&gt;
&lt;th&gt;尾片平均值&lt;/th&gt;
&lt;th&gt;尾片最大值&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;openvino&lt;/td&gt;
&lt;td&gt;0.263108&lt;/td&gt;
&lt;td&gt;3.20696&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0.0333333&lt;/td&gt;
&lt;td&gt;52&lt;/td&gt;
&lt;td&gt;213&lt;/td&gt;
&lt;td&gt;174&lt;/td&gt;
&lt;td&gt;453&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tensorflow&lt;/td&gt;
&lt;td&gt;0.23178&lt;/td&gt;
&lt;td&gt;3.12938&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0.0583333&lt;/td&gt;
&lt;td&gt;46&lt;/td&gt;
&lt;td&gt;210&lt;/td&gt;
&lt;td&gt;170&lt;/td&gt;
&lt;td&gt;527&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;asr_yispeech_v2.8.0 + asr_model_v3.5.0 + 16核16路&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;M-RTF&lt;/th&gt;
&lt;th&gt;E-RTF&lt;/th&gt;
&lt;th&gt;M-TimeOut&lt;/th&gt;
&lt;th&gt;E-超时率&lt;/th&gt;
&lt;th&gt;中间片平均值&lt;/th&gt;
&lt;th&gt;中间片最大值&lt;/th&gt;
&lt;th&gt;尾片平均值&lt;/th&gt;
&lt;th&gt;尾片最大值&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;openvino&lt;/td&gt;
&lt;td&gt;0.260439&lt;/td&gt;
&lt;td&gt;5.13632&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0.466667&lt;/td&gt;
&lt;td&gt;52&lt;/td&gt;
&lt;td&gt;181&lt;/td&gt;
&lt;td&gt;279&lt;/td&gt;
&lt;td&gt;640&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;openvino cache&lt;/td&gt;
&lt;td&gt;0.162393&lt;/td&gt;
&lt;td&gt;2.65609&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0.0083&lt;/td&gt;
&lt;td&gt;32&lt;/td&gt;
&lt;td&gt;152&lt;/td&gt;
&lt;td&gt;144&lt;/td&gt;
&lt;td&gt;428&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tensorflow&lt;/td&gt;
&lt;td&gt;0.238292&lt;/td&gt;
&lt;td&gt;3.17369&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0.0666667&lt;/td&gt;
&lt;td&gt;47&lt;/td&gt;
&lt;td&gt;255&lt;/td&gt;
&lt;td&gt;172&lt;/td&gt;
&lt;td&gt;467&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;asr_yispeech_v2.7.0 + asr_model_v3.5.0 + 1核1路&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;M-RTF&lt;/th&gt;
&lt;th&gt;E-RTF&lt;/th&gt;
&lt;th&gt;M-TimeOut&lt;/th&gt;
&lt;th&gt;E-超时率&lt;/th&gt;
&lt;th&gt;中间片平均值&lt;/th&gt;
&lt;th&gt;中间片最大值&lt;/th&gt;
&lt;th&gt;尾片平均值&lt;/th&gt;
&lt;th&gt;尾片最大值&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;openvino&lt;/td&gt;
&lt;td&gt;0.411834&lt;/td&gt;
&lt;td&gt;7.69536&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0.858333&lt;/td&gt;
&lt;td&gt;82&lt;/td&gt;
&lt;td&gt;211&lt;/td&gt;
&lt;td&gt;418&lt;/td&gt;
&lt;td&gt;723&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;asr_yispeech_v2.8.0 + asr_model_v3.5.0 + 1核1路&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;M-RTF&lt;/th&gt;
&lt;th&gt;E-RTF&lt;/th&gt;
&lt;th&gt;M-TimeOut&lt;/th&gt;
&lt;th&gt;E-超时率&lt;/th&gt;
&lt;th&gt;中间片平均值&lt;/th&gt;
&lt;th&gt;中间片最大值&lt;/th&gt;
&lt;th&gt;尾片平均值&lt;/th&gt;
&lt;th&gt;尾片最大值&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;openvino&lt;/td&gt;
&lt;td&gt;0.415679&lt;/td&gt;
&lt;td&gt;7.75408&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0.858333&lt;/td&gt;
&lt;td&gt;83&lt;/td&gt;
&lt;td&gt;213&lt;/td&gt;
&lt;td&gt;421&lt;/td&gt;
&lt;td&gt;736&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tensorflow&lt;/td&gt;
&lt;td&gt;0.163252&lt;/td&gt;
&lt;td&gt;2.21836&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0.00833333&lt;/td&gt;
&lt;td&gt;32&lt;/td&gt;
&lt;td&gt;95&lt;/td&gt;
&lt;td&gt;120&lt;/td&gt;
&lt;td&gt;343&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;asr_yispeech_v2.7.0 + asr_model_v3.9.0 + 16核16路&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;asr_yispeech_v2.8.0 + asr_model_v3.9.0 + 16核16路&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;M-RTF&lt;/th&gt;
&lt;th&gt;E-RTF&lt;/th&gt;
&lt;th&gt;M-超时率&lt;/th&gt;
&lt;th&gt;E-超时率&lt;/th&gt;
&lt;th&gt;中间片平均值&lt;/th&gt;
&lt;th&gt;中间片最大值&lt;/th&gt;
&lt;th&gt;尾片平均值&lt;/th&gt;
&lt;th&gt;尾片最大值&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;openvino&lt;/td&gt;
&lt;td&gt;0.122759&lt;/td&gt;
&lt;td&gt;2.29947&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0.00833333&lt;/td&gt;
&lt;td&gt;24&lt;/td&gt;
&lt;td&gt;95&lt;/td&gt;
&lt;td&gt;124&lt;/td&gt;
&lt;td&gt;453&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;openvino cache&lt;/td&gt;
&lt;td&gt;0.10302&lt;/td&gt;
&lt;td&gt;1.82878&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0.00833333&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;80&lt;/td&gt;
&lt;td&gt;99&lt;/td&gt;
&lt;td&gt;455&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tensorflow&lt;/td&gt;
&lt;td&gt;0.107496&lt;/td&gt;
&lt;td&gt;1.93518&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0.00833333&lt;/td&gt;
&lt;td&gt;21&lt;/td&gt;
&lt;td&gt;115&lt;/td&gt;
&lt;td&gt;105&lt;/td&gt;
&lt;td&gt;527&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;asr_yispeech_v2.8.0 + asr_model_v3.9.0 + 16核64路&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;M-RTF&lt;/th&gt;
&lt;th&gt;E-RTF&lt;/th&gt;
&lt;th&gt;M-超时率&lt;/th&gt;
&lt;th&gt;E-超时率&lt;/th&gt;
&lt;th&gt;中间片平均值&lt;/th&gt;
&lt;th&gt;中间片最大值&lt;/th&gt;
&lt;th&gt;尾片平均值&lt;/th&gt;
&lt;th&gt;尾片最大值&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;openvino&lt;/td&gt;
&lt;td&gt;0.156&lt;/td&gt;
&lt;td&gt;3.234&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0.075&lt;/td&gt;
&lt;td&gt;31&lt;/td&gt;
&lt;td&gt;204&lt;/td&gt;
&lt;td&gt;175&lt;/td&gt;
&lt;td&gt;606&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;openvino cache&lt;/td&gt;
&lt;td&gt;0.127&lt;/td&gt;
&lt;td&gt;2.487&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0.033&lt;/td&gt;
&lt;td&gt;25&lt;/td&gt;
&lt;td&gt;191&lt;/td&gt;
&lt;td&gt;135&lt;/td&gt;
&lt;td&gt;537&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tensorflow&lt;/td&gt;
&lt;td&gt;0.186&lt;/td&gt;
&lt;td&gt;3.265&lt;/td&gt;
&lt;td&gt;0.0002&lt;/td&gt;
&lt;td&gt;0.1&lt;/td&gt;
&lt;td&gt;37&lt;/td&gt;
&lt;td&gt;326&lt;/td&gt;
&lt;td&gt;177&lt;/td&gt;
&lt;td&gt;732&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;备注：&lt;/p&gt;
&lt;p&gt;模型大导致尾片分chunk推理不是最佳方式？&lt;/p&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/bpo%E6%94%AF%E6%8C%81/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/bpo%E6%94%AF%E6%8C%81/</guid>
        <description>&lt;h1 id=&#34;bpo支持&#34;&gt;BPO支持&lt;/h1&gt;
&lt;h2 id=&#34;1-测试数据与指标&#34;&gt;1. 测试数据与指标&lt;/h2&gt;
&lt;h3 id=&#34;测试数据&#34;&gt;测试数据&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;以业务为单位，分别创建测试集，并根据BPO情况动态调整(增加)。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;综合一个测试集，根据BPO情况动态调整(增加)。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;指标&#34;&gt;指标&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;vad-asr全流程指标&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;asr指标&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;2-优化计划&#34;&gt;2. 优化计划&lt;/h2&gt;
&lt;h3 id=&#34;针对噪声&#34;&gt;针对噪声&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;置信度&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;声学模型训练&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;数据不在区分具体业务&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/</guid>
        <description>&lt;h1 id=&#34;heading&#34;&gt;&lt;/h1&gt;
&lt;h2 id=&#34;20220805&#34;&gt;20220805&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;四川话测试&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;test_sichuanhua&lt;/th&gt;
&lt;th&gt;test_sichuanhua_datatang&lt;/th&gt;
&lt;th&gt;test_sichuanhua200h&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;kaldi&lt;/td&gt;
&lt;td&gt;55.831&lt;/td&gt;
&lt;td&gt;45.437&lt;/td&gt;
&lt;td&gt;55.207&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;26.708&lt;/td&gt;
&lt;td&gt;14.484&lt;/td&gt;
&lt;td&gt;16.494&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;wenet&lt;/td&gt;
&lt;td&gt;52.51&lt;/td&gt;
&lt;td&gt;43.35&lt;/td&gt;
&lt;td&gt;52.33&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;wenet + TLG&lt;/td&gt;
&lt;td&gt;48.76&lt;/td&gt;
&lt;td&gt;37.30&lt;/td&gt;
&lt;td&gt;46.58&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;opt am&lt;/td&gt;
&lt;td&gt;25.34&lt;/td&gt;
&lt;td&gt;17.31&lt;/td&gt;
&lt;td&gt;26.18&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;opt am + TLG&lt;/td&gt;
&lt;td&gt;25.27&lt;/td&gt;
&lt;td&gt;16.27&lt;/td&gt;
&lt;td&gt;25.17&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;opt TLG&lt;/td&gt;
&lt;td&gt;25.25&lt;/td&gt;
&lt;td&gt;16.37&lt;/td&gt;
&lt;td&gt;23.72&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Starting display the statistics for ./data/fbank/cuts_TRAIN.jsonl.gz
Cuts count: 33302487
Total duration (hh:mm:ss): 18065:43:01
Speech duration (hh:mm:ss): 18065:43:01 (100.0%)
Duration statistics (seconds):
mean    2.0
std     1.9
min     0.1
25%     0.7
50%     1.4
75%     2.6
99%     8.6
99.5%   10.2
99.9%   15.4
max     216.5
Recordings available: 33302487
Features available: 33302487
Supervisions available: 33302487&lt;/p&gt;
&lt;p&gt;wget &amp;ndash;header &amp;lsquo;Authorization: Basic c3BlZWNoOlY2eUxUVXFjQ01HNA==&amp;rsquo; http://172.16.30.15/repository/speech/yitts_frontend/model/1.5.0/yitts_frontend_model.tar.gz&lt;/p&gt;
&lt;p&gt;语言模型地址问题确认&lt;/p&gt;
&lt;p&gt;wenet lm.sh :export CUDA_VISIBLE_DEVICES=$gpus&lt;/p&gt;
&lt;p&gt;padding时长参数&lt;/p&gt;
&lt;p&gt;wenet attention 训练&lt;/p&gt;
&lt;p&gt;wenet 算法库：bool to_numeric = 0&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://awnihannun.com/index.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://awnihannun.com/index.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;VAD 偏移量设置问题&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;speech_feature 支持音量等特征&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;粤语标点预测&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;数据堂数据&lt;/strong&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/2022-11-24/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/2022-11-24/</guid>
        <description>&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;libtorch 非流式效果对比测试&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;onnx，onnx 位置编码优化版本，onnx量化版本效果对比测试&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;onnx模型离线在线问题&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ASR内部工作概览&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;POI效果优化论文&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;wenet triton合并主分支&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;流水线问题定位&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/2022-11-30/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/2022-11-30/</guid>
        <description>&lt;ol&gt;
&lt;li&gt;更新libtorch版本
&lt;ol&gt;
&lt;li&gt;libtorch 1.12.1
&lt;ul&gt;
&lt;li&gt;性能测试&lt;/li&gt;
&lt;li&gt;效果测试&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;算法库 v4.0.0 确定&lt;/li&gt;
&lt;li&gt;asr_model_v4.1.0 模型确定&lt;/li&gt;
&lt;li&gt;流水线环境问题&lt;/li&gt;
&lt;li&gt;YiSpeech算法库发版&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;num_left_chunks&lt;/th&gt;
&lt;th&gt;offset&lt;/th&gt;
&lt;th&gt;quant&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;M avg | max&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;L avg | max&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;L - timeout&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;RTF&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;100 | 200 | 300 | 400 |500 | 600&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1.12.1&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;26|608&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;161|1631&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1501&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1546&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;26|448&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;164|1943&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1377&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1544&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;25|658&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;157|1889&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1147&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;25|757&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;154|1506&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1198&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1483&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1.8.2&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;27|581&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;170|1937&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1454&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1603&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;27|528&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;170|1594&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1607&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1625&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;27|410&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;160|1791&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1224&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1617&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;27|474&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;165|1545&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1275&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1616&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1.10.0&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;26|573&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;159|1578&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1173&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1562&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;27|562&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;161ms|1886&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.125&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1588&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/2022-12-02/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/2022-12-02/</guid>
        <description>&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;YiSpeech：decode_config.num_left_chunks = -1&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;修复仓库2.9.0算法库&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;libtorch 1.12：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;libtorch&amp;#34;&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;not&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;native&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;existing_rules&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;http_archive&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;libtorch&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;# urls = [&amp;#34;https://download.pytorch.org/libtorch/cpu/libtorch-cxx11-abi-shared-with-deps-1.13.0%2Bcpu.zip&amp;#34;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;# sha256 = &amp;#34;d52f63577a07adb0bfd6d77c90f7da21896e94f71eb7dcd55ed7835ccb3b2b59&amp;#34;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;# urls = [&amp;#34;https://download.pytorch.org/libtorch/cpu/libtorch-cxx11-abi-shared-with-deps-1.12.1%2Bcpu.zip&amp;#34;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;# sha256 = &amp;#34;82c7be80860f2aa7963f8700004a40af8205e1d721298f2e09b700e766a9d283&amp;#34;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;# urls = [&amp;#34;https://download.pytorch.org/libtorch/lts/1.8/cpu/libtorch-cxx11-abi-shared-with-deps-1.8.2%2Bcpu.zip&amp;#34;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;# sha256 = &amp;#34;b76d6dd4380e2233ce6f7654e672e13aae7c871231d223a4267ef018dcbfb616&amp;#34;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;urls&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;https://download.pytorch.org/libtorch/cpu/libtorch-cxx11-abi-shared-with-deps-1.10.1%2Bcpu.zip&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;sha256&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;f00b89b5e9ca7b10ea55353526958ab32446b763c249baaf8855206ad85f128b&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;build_file&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;@dependency_rules//:libtorch.BUILD&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;strip_prefix&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;libtorch&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;cc_library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;torch_cpu&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;srcs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;lib/libtorch_cpu.so&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;lib/libtorch.so&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;lib/libc10.so&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;lib/libgomp-52f2fd74.so.1&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;# &amp;#34;lib/libgomp-75eea7e8.so.1&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;hdrs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;glob&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;include/**/*.h&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;includes&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;include&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;include/torch/csrc/api/include&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;include/THC&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;include/TH&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;copts&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;-D_GLIBCXX_USE_CXX11_ABI=1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;visibility&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;//visibility:public&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;
&lt;p&gt;onnnx支持量化模型&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;load&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;@bazel_tools//tools/build_defs/repo:http.bzl&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;http_archive&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;onnx_deps&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;onnx&amp;#34;&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;not&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;native&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;existing_rules&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;http_archive&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;onnx&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;urls&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;https://github.com/microsoft/onnxruntime/releases/download/v1.12.1/onnxruntime-linux-x64-1.12.1.tgz&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;sha256&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;8f6eb9e2da9cf74e7905bf3fc687ef52e34cc566af7af2f92dafe5a5d106aa3d&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;build_file&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;@dependency_rules//:onnx.BUILD&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;n&#34;&gt;strip_prefix&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;onnxruntime-linux-x64-1.12.1&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;dependency_rules项目流水线&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;wenet TLG热词问题： &lt;a class=&#34;link&#34; href=&#34;https://github.com/wenet-e2e/wenet/pull/986&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/wenet-e2e/wenet/pull/986&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Yispeech 代码问题：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yispeech/utils/openvino/pipelines/ovinferrequestsqueue.cpp: In member &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;std::future&amp;lt;int&amp;gt; yispeech::OpenvinoInferRequestsQueue::getIdleStream(int)&amp;#39;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yispeech/utils/openvino/pipelines/ovinferrequestsqueue.cpp:48:19: warning: moving a &lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; object in a &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; statement prevents copy elision &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-Wpessimizing-move&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;m&#34;&gt;48&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;   &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; std::move&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;idleStreamFuture&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;          ~~~~~~~~~^~~~~~~~~~~~~~~~~~
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yispeech/utils/openvino/pipelines/ovinferrequestsqueue.cpp:48:19: note: remove &lt;span class=&#34;s1&#34;&gt;&amp;#39;std::move&amp;#39;&lt;/span&gt; call
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;perfermence test
&lt;ul&gt;
&lt;li&gt;去掉memory头文件&lt;/li&gt;
&lt;li&gt;cmake boos版本&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;8&#34;&gt;
&lt;li&gt;
&lt;p&gt;YiSpeech 4.0.0 支持热词设置incremental score.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;置信度测试？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;embeding postion&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;isinstance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;offset&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;x1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_len&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;x2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;repeats&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ceil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x2&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;pos_emb&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;repeat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;repeats&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)[:,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;elif&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;isinstance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;offset&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Tensor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;and&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;offset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dim&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# scalar&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;x1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_len&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;x2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;repeats&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ceil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x2&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;pos_emb&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;repeat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;repeats&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)[:,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;gpu 成本&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;RTX3090  12000 元&lt;/p&gt;
&lt;p&gt;cpu 12/24：8900&lt;/p&gt;
&lt;p&gt;(12000 + 8900 / 2)  /  200 = 82.25&lt;/p&gt;
&lt;p&gt;(12000 + 8900) / 400 = 52.25&lt;/p&gt;
&lt;p&gt;8900 / 48 = 185&lt;/p&gt;
&lt;p&gt;GPU 成本&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;设备&lt;/th&gt;
&lt;th&gt;价格&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Intel(R) Xeon(R) Gold 5118   12核24线程&lt;/td&gt;
&lt;td&gt;8900 元&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;RTX 3090&lt;/td&gt;
&lt;td&gt;12000 元&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;并发路数&lt;/th&gt;
&lt;th&gt;超时率&lt;/th&gt;
&lt;th&gt;cpu核数&lt;/th&gt;
&lt;th&gt;GPU 单路成本&lt;/th&gt;
&lt;th&gt;CPU 单路成本（按1核2路计算）&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;200&lt;/td&gt;
&lt;td&gt;0.3%&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;td&gt;(12000 + 8900 / 2)  /  200 = 82.25 元&lt;/td&gt;
&lt;td&gt;8900 / 48 = 185 元&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;400 （20% 比例静音）&lt;/td&gt;
&lt;td&gt;0.3%&lt;/td&gt;
&lt;td&gt;25&lt;/td&gt;
&lt;td&gt;(12000 + 8900) / 400 = 52.25 元&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;真实成本需要考虑，内存，硬盘，机箱等成本。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;GPU需要考虑单卡，多卡成本。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;标点预测&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;编号&lt;/th&gt;
&lt;th&gt;模型&lt;/th&gt;
&lt;th&gt;单核10000次请求&lt;/th&gt;
&lt;th&gt;平均每次请求&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;basic_cnn&lt;/td&gt;
&lt;td&gt;00:07&lt;/td&gt;
&lt;td&gt;&amp;lt; 1ms&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;rbt2-h312&lt;/td&gt;
&lt;td&gt;03:16&lt;/td&gt;
&lt;td&gt;19.6ms&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;minirbt2-h256&lt;/td&gt;
&lt;td&gt;01:16&lt;/td&gt;
&lt;td&gt;7.6ms&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;roberta-l2-h156-a6&lt;/td&gt;
&lt;td&gt;00:58&lt;/td&gt;
&lt;td&gt;5.8ms&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;效果 2，3 好于 4&lt;/p&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/2022-12-05/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/2022-12-05/</guid>
        <description>&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;流水线环境&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;YiSpeech&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;vad 最大长度&lt;/li&gt;
&lt;li&gt;热词问题&lt;/li&gt;
&lt;li&gt;后处理&lt;/li&gt;
&lt;li&gt;粤语标点预测
&lt;ol&gt;
&lt;li&gt;# CJK(China Japan Korea) unicode range is [U+4E00, U+9FFF], ref:&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;对外文档恢复&lt;/li&gt;
&lt;li&gt;share下gitlab源码恢复&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;测试英文空格问题&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SqueezeFormer&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;模型空格问题&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;分词格式：trans_type&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;char&lt;/li&gt;
&lt;li&gt;phn&lt;/li&gt;
&lt;li&gt;cn_char_en_bpe&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;文本处理&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;空格保留&lt;/li&gt;
&lt;li&gt;空格替换&amp;quot;_&amp;quot; （bpe生成的词表可处理）&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;text2token生成词表&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;空格替换： 默认&lt;!-- raw HTML omitted --&gt;, 可指定 &amp;ldquo;_&amp;rdquo;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;指定 trans_type&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;cn_char_en_bpe
&lt;ul&gt;
&lt;li&gt;split(&amp;ldquo;▁&amp;rdquo;)&lt;/li&gt;
&lt;li&gt;bpe模型&lt;/li&gt;
&lt;li&gt;需要数据先替换&amp;quot;▁&amp;quot;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;额外的token：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;lt;blank&amp;gt; 0&amp;#34;&lt;/span&gt; &amp;gt; &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;dict&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# 0 will be used for &amp;#34;blank&amp;#34; in CTC&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;lt;unk&amp;gt; 1&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;dict&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# &amp;lt;unk&amp;gt; must be 1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;▁ 2&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;dict&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;   &lt;span class=&#34;c1&#34;&gt;# ▁ is for space&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;训练时的处理&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;text4dict 与训练时text的不同&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;解码及解码后处理&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;代码review&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;speech_corpus测试问题&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;2.x版本YiSpeech nstream 等于nthreads时导致的异常&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;提供按话者分离计算cer&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;YiSpeech python存档&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;编号&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;num_left_chunks&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;offset&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;quant&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test1&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test2&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test3&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test4&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test5&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test6&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test7&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test8&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;avg&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1（v4.0.0）&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.671%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.822%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.428%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.424%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.741%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.554%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.570%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.818%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.628&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.540%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.867%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.253%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.039%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.276%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.326%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.159%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.649%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.388&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.744%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.074%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.288%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.153%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.350%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.482%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.257%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.887%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.529&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;infinite&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.540%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.867%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.253%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.039%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.276%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.326%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.159%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.649%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.388&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.588%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.800%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.293%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.004%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.284%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.286%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.171%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.624%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.381&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;infinite&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.588%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.800%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.784%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.118%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;8&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.703%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.985%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.295%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.310%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.504%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.478%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.410%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.774%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.557&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.679%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.029%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.293%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.168%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.350%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.496%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.289%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.799%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.512&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;15&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.756%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.000%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.353%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.467%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.429%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.594%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.356%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.956%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;性能测试&#34;&gt;性能测试&lt;/h3&gt;
&lt;p&gt;fix htw：&lt;/p&gt;
&lt;h4 id=&#34;14--热词&#34;&gt;1/4 + 热词&lt;/h4&gt;
&lt;p&gt;音频统计信息:
首片数量: 80
中间片数量: 2716
尾片数量: 98
首片时长: 16000
中间片时长: 543200
尾片时长: 4592.88&lt;/p&gt;
&lt;p&gt;测试结果:&lt;/p&gt;
&lt;p&gt;首片超时数量: 0
中间片超时数量: 40
尾片超时数量: 14&lt;/p&gt;
&lt;p&gt;首片超时率: 0 中间片超时率: 0.0147275 尾片超时率:0.142857&lt;/p&gt;
&lt;p&gt;首片rtf: 0 中间片rtf: 0.191117 尾片rtf: 4.14555&lt;/p&gt;
&lt;p&gt;首片平均耗时: 0ms 中间片平均耗时: 38ms 尾片平均耗时: 194ms&lt;/p&gt;
&lt;p&gt;首片最大耗时: 0ms 中间片最大耗时: 714ms 尾片最大耗时: 2110ms&lt;/p&gt;
&lt;p&gt;总超时率: 0.0186593
总rtf: 0.217908
计算耗时分布: 0.217908
&amp;lt; 100ms: 38个, 占比0.387755
&amp;lt; 200ms: 33个, 占比0.336735
&amp;lt; 300ms: 13个, 占比0.132653
&amp;lt; 400ms: 5个, 占比0.0510204
&amp;lt; 500ms: 5个, 占比0.0510204
&amp;lt; 600ms: 1个, 占比0.0102041
&amp;lt; 700ms: 0个, 占比0
&amp;lt; 800ms: 3个, 占比0.0306122
MEM INFO: min: 1331.87, max: 1720.77, avg: 1634.32
CPU INFO: max: 1.05&lt;/p&gt;
&lt;h4 id=&#34;12--热词&#34;&gt;1/2 + 热词&lt;/h4&gt;
&lt;p&gt;音频统计信息:
首片数量: 80
中间片数量: 2716
尾片数量: 98
首片时长: 16000
中间片时长: 543200
尾片时长: 4592.88&lt;/p&gt;
&lt;p&gt;测试结果:&lt;/p&gt;
&lt;p&gt;首片超时数量: 0
中间片超时数量: 5
尾片超时数量: 8&lt;/p&gt;
&lt;p&gt;首片超时率: 0 中间片超时率: 0.00184094 尾片超时率:0.0816327&lt;/p&gt;
&lt;p&gt;首片rtf: 0.0004375 中间片rtf: 0.144775 尾片rtf: 3.14923&lt;/p&gt;
&lt;p&gt;首片平均耗时: 0ms 中间片平均耗时: 28ms 尾片平均耗时: 147ms&lt;/p&gt;
&lt;p&gt;首片最大耗时: 7ms 中间片最大耗时: 421ms 尾片最大耗时: 845ms&lt;/p&gt;
&lt;p&gt;总超时率: 0.00449205
总rtf: 0.165155
计算耗时分布: 0.165155
&amp;lt; 100ms: 46个, 占比0.469388
&amp;lt; 200ms: 29个, 占比0.295918
&amp;lt; 300ms: 15个, 占比0.153061
&amp;lt; 400ms: 4个, 占比0.0408163
&amp;lt; 500ms: 2个, 占比0.0204082
&amp;lt; 600ms: 0个, 占比0
&amp;lt; 700ms: 1个, 占比0.0102041
&amp;lt; 800ms: 1个, 占比0.0102041
MEM INFO: min: 1347.9, max: 1644.54, avg: 1529.91
CPU INFO: max: 1.05&lt;/p&gt;
&lt;p&gt;std:&lt;/p&gt;
&lt;h4 id=&#34;14--htw&#34;&gt;1/4 + htw&lt;/h4&gt;
&lt;p&gt;音频统计信息:
首片数量: 80
中间片数量: 2716
尾片数量: 98
首片时长: 16000
中间片时长: 543200
尾片时长: 4592.88&lt;/p&gt;
&lt;p&gt;测试结果:&lt;/p&gt;
&lt;p&gt;首片超时数量: 0
中间片超时数量: 12
尾片超时数量: 18&lt;/p&gt;
&lt;p&gt;首片超时率: 0 中间片超时率: 0.00441826 尾片超时率:0.183673&lt;/p&gt;
&lt;p&gt;首片rtf: 0 中间片rtf: 0.153991 尾片rtf: 3.96789&lt;/p&gt;
&lt;p&gt;首片平均耗时: 0ms 中间片平均耗时: 30ms 尾片平均耗时: 185ms&lt;/p&gt;
&lt;p&gt;首片最大耗时: 0ms 中间片最大耗时: 536ms 尾片最大耗时: 1606ms&lt;/p&gt;
&lt;p&gt;总超时率: 0.0103663
总rtf: 0.18069
计算耗时分布: 0.18069
&amp;lt; 100ms: 43个, 占比0.438776
&amp;lt; 200ms: 23个, 占比0.234694
&amp;lt; 300ms: 14个, 占比0.142857
&amp;lt; 400ms: 10个, 占比0.102041
&amp;lt; 500ms: 5个, 占比0.0510204
&amp;lt; 600ms: 1个, 占比0.0102041
&amp;lt; 700ms: 0个, 占比0
&amp;lt; 800ms: 2个, 占比0.0204082
MEM INFO: min: 1333.66, max: 1722.68, avg: 1631.56
CPU INFO: max: 1.04891&lt;/p&gt;
&lt;h4 id=&#34;12--htw&#34;&gt;1/2 + htw&lt;/h4&gt;
&lt;p&gt;音频统计信息:
首片数量: 80
中间片数量: 2716
尾片数量: 98
首片时长: 16000
中间片时长: 543200
尾片时长: 4592.88&lt;/p&gt;
&lt;p&gt;测试结果:&lt;/p&gt;
&lt;p&gt;首片超时数量: 0
中间片超时数量: 2
尾片超时数量: 9&lt;/p&gt;
&lt;p&gt;首片超时率: 0 中间片超时率: 0.000736377 尾片超时率:0.0918367&lt;/p&gt;
&lt;p&gt;首片rtf: 0 中间片rtf: 0.123019 尾片rtf: 2.84876&lt;/p&gt;
&lt;p&gt;首片平均耗时: 0ms 中间片平均耗时: 24ms 尾片平均耗时: 133ms&lt;/p&gt;
&lt;p&gt;首片最大耗时: 0ms 中间片最大耗时: 346ms 尾片最大耗时: 846ms&lt;/p&gt;
&lt;p&gt;总超时率: 0.00380097
总rtf: 0.141733
计算耗时分布: 0.141733
&amp;lt; 100ms: 53个, 占比0.540816
&amp;lt; 200ms: 28个, 占比0.285714
&amp;lt; 300ms: 8个, 占比0.0816327
&amp;lt; 400ms: 4个, 占比0.0408163
&amp;lt; 500ms: 2个, 占比0.0204082
&amp;lt; 600ms: 1个, 占比0.0102041
&amp;lt; 700ms: 1个, 占比0.0102041
&amp;lt; 800ms: 1个, 占比0.0102041
MEM INFO: min: 963.461, max: 1611.82, avg: 1520.02
CPU INFO: max: 1.05&lt;/p&gt;
&lt;h4 id=&#34;不开热词&#34;&gt;不开热词&lt;/h4&gt;
&lt;h5 id=&#34;12&#34;&gt;1/2&lt;/h5&gt;
&lt;p&gt;音频统计信息:
首片数量: 80
中间片数量: 2716
尾片数量: 98
首片时长: 16000
中间片时长: 543200
尾片时长: 4592.88&lt;/p&gt;
&lt;p&gt;测试结果:&lt;/p&gt;
&lt;p&gt;首片超时数量: 0
中间片超时数量: 0
尾片超时数量: 9&lt;/p&gt;
&lt;p&gt;首片超时率: 0 中间片超时率: 0 尾片超时率:0.0918367&lt;/p&gt;
&lt;p&gt;首片rtf: 0.0001875 中间片rtf: 0.116158 尾片rtf: 2.85747&lt;/p&gt;
&lt;p&gt;首片平均耗时: 0ms 中间片平均耗时: 23ms 尾片平均耗时: 133ms&lt;/p&gt;
&lt;p&gt;首片最大耗时: 3ms 中间片最大耗时: 266ms 尾片最大耗时: 774ms&lt;/p&gt;
&lt;p&gt;总超时率: 0.00310988
总rtf: 0.135199
计算耗时分布: 0.135199
&amp;lt; 100ms: 52个, 占比0.530612
&amp;lt; 200ms: 30个, 占比0.306122
&amp;lt; 300ms: 7个, 占比0.0714286
&amp;lt; 400ms: 6个, 占比0.0612245
&amp;lt; 500ms: 1个, 占比0.0102041
&amp;lt; 600ms: 0个, 占比0
&amp;lt; 700ms: 1个, 占比0.0102041
&amp;lt; 800ms: 1个, 占比0.0102041
MEM INFO: min: 1380.3, max: 1639.95, avg: 1532.41
CPU INFO: max: 1.05&lt;/p&gt;
&lt;h5 id=&#34;14&#34;&gt;1/4&lt;/h5&gt;
&lt;p&gt;音频统计信息:
首片数量: 80
中间片数量: 2716
尾片数量: 98
首片时长: 16000
中间片时长: 543200
尾片时长: 4592.88&lt;/p&gt;
&lt;p&gt;测试结果:&lt;/p&gt;
&lt;p&gt;首片超时数量: 0
中间片超时数量: 8
尾片超时数量: 13&lt;/p&gt;
&lt;p&gt;首片超时率: 0 中间片超时率: 0.00294551 尾片超时率:0.132653&lt;/p&gt;
&lt;p&gt;首片rtf: 0 中间片rtf: 0.149278 尾片rtf: 3.7802&lt;/p&gt;
&lt;p&gt;首片平均耗时: 0ms 中间片平均耗时: 29ms 尾片平均耗时: 177ms&lt;/p&gt;
&lt;p&gt;首片最大耗时: 0ms 中间片最大耗时: 572ms 尾片最大耗时: 1666ms&lt;/p&gt;
&lt;p&gt;总超时率: 0.00725639
总rtf: 0.174621
计算耗时分布: 0.174621
&amp;lt; 100ms: 45个, 占比0.459184
&amp;lt; 200ms: 25个, 占比0.255102
&amp;lt; 300ms: 15个, 占比0.153061
&amp;lt; 400ms: 4个, 占比0.0408163
&amp;lt; 500ms: 5个, 占比0.0510204
&amp;lt; 600ms: 1个, 占比0.0102041
&amp;lt; 700ms: 1个, 占比0.0102041
&amp;lt; 800ms: 2个, 占比0.0204082
MEM INFO: min: 1331.35, max: 1804.96, avg: 1674.28
CPU INFO: max: 1.05109&lt;/p&gt;
&lt;p&gt;热词效果测试&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;编号&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;热词测试集&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;不开热词&lt;/td&gt;
&lt;td&gt;19.489%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;标准热词方案&lt;/td&gt;
&lt;td&gt;19.123%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;增强热词方案&lt;/td&gt;
&lt;td&gt;18.497%&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;热词性能测试&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;编号&lt;/th&gt;
&lt;th&gt;设置&lt;/th&gt;
&lt;th&gt;路数&lt;/th&gt;
&lt;th&gt;实时率&lt;/th&gt;
&lt;th&gt;平均值&lt;/th&gt;
&lt;th&gt;最大值&lt;/th&gt;
&lt;th&gt;超时率&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;不开热词&lt;/td&gt;
&lt;td&gt;1核2路&lt;/td&gt;
&lt;td&gt;0.1351&lt;/td&gt;
&lt;td&gt;133&lt;/td&gt;
&lt;td&gt;744&lt;/td&gt;
&lt;td&gt;9.18%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;标准热词方案&lt;/td&gt;
&lt;td&gt;1核2路&lt;/td&gt;
&lt;td&gt;0.1417&lt;/td&gt;
&lt;td&gt;133&lt;/td&gt;
&lt;td&gt;846&lt;/td&gt;
&lt;td&gt;9.18%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;增强热词方案&lt;/td&gt;
&lt;td&gt;1核2路&lt;/td&gt;
&lt;td&gt;0.1651&lt;/td&gt;
&lt;td&gt;147&lt;/td&gt;
&lt;td&gt;845&lt;/td&gt;
&lt;td&gt;8.16%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;不开热词&lt;/td&gt;
&lt;td&gt;1核4路&lt;/td&gt;
&lt;td&gt;0.1746&lt;/td&gt;
&lt;td&gt;177&lt;/td&gt;
&lt;td&gt;1666&lt;/td&gt;
&lt;td&gt;13.26%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;标准热词方案&lt;/td&gt;
&lt;td&gt;1核4路&lt;/td&gt;
&lt;td&gt;0.1809&lt;/td&gt;
&lt;td&gt;185&lt;/td&gt;
&lt;td&gt;1606&lt;/td&gt;
&lt;td&gt;18.36%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;增强热词方案&lt;/td&gt;
&lt;td&gt;1核4路&lt;/td&gt;
&lt;td&gt;0.2179&lt;/td&gt;
&lt;td&gt;194&lt;/td&gt;
&lt;td&gt;2110&lt;/td&gt;
&lt;td&gt;14.28%&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/2022-12-12/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/2022-12-12/</guid>
        <description>&lt;ol&gt;
&lt;li&gt;模型，算法库发版&lt;/li&gt;
&lt;li&gt;vad最大长度限制工程化，测试&lt;/li&gt;
&lt;li&gt;热词方案合并主分支&lt;/li&gt;
&lt;li&gt;实验页面发布&lt;/li&gt;
&lt;li&gt;预训练模型&lt;/li&gt;
&lt;li&gt;/data1/yuanding/local/gitlab/YiSpeech/bazel-bin/_solib_k8/_U@IE_UUBUNTU_S_S_CIE___UIE_UUBUNTU_Slib_Sintel64:/data1/yuanding/local/gitlab/YiSpeech/bazel-bin/_solib_k8/_U@IE_UUBUNTU_S_S_Cngraph___UIE_UUBUNTU_Sthird_Uparty_Sngraph_Slib:/data1/yuanding/local/gitlab/YiSpeech/bazel-bin/_solib_k8/_U@IE_UUBUNTU_S_S_Ctbb___UIE_UUBUNTU_Sthird_Uparty_Stbb_Slib:/data1/yuanding/local/gitlab/YiSpeech/bazel-bin/_solib_k8/_U@libtorch_S_S_Ctorch_Ucpu___Ulibtorch_Slib:/data1/yuanding/local/gitlab/YiSpeech/bazel-bin/_solib_k8/_U@mkl_S_S_Cmkl___Umkl_Slib_Sintel64:/data1/yuanding/local/gitlab/YiSpeech/bazel-bin/_solib_k8/_U@onnx_S_S_Connx___Uonnx_Slib:/data1/yuanding/local/gitlab/YiSpeech/bazel-bin/_solib_k8/_U@speech_Ufeature_S_S_Cfeature_Ucpp___Uspeech_Ufeature:/data1/yuanding/local/gitlab/YiSpeech/bazel-bin/_solib_k8/_U@speech_Ufeature_S_S_Cfeature_Ucpp___Uspeech_Ufeature_Slib&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/2022-12-19/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/2022-12-19/</guid>
        <description>&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;第三方评测&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;预训练模型量化蒸馏&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;vad优化发版&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;资料整理&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;简化&lt;/li&gt;
&lt;li&gt;补充&lt;/li&gt;
&lt;li&gt;对外&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;算法库 v3.3.0发版&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ASR 效果测试&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;标准TLG解码&lt;/li&gt;
&lt;li&gt;热词解码&lt;/li&gt;
&lt;li&gt;热词性能测试&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;VAD效果测试&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;标准测试集测试&lt;/li&gt;
&lt;li&gt;超长句测试&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;招商证券问题：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;首字过快：声学模型调优，热词&lt;/li&gt;
&lt;li&gt;热词效果问题，不确定性问题&lt;/li&gt;
&lt;li&gt;话者分离问题&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;模型命名&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;语种：普通话，方言，英语，混合模型&lt;/li&gt;
&lt;li&gt;版本号管理&lt;/li&gt;
&lt;li&gt;兼容性关系&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;fst :https://awnihannun.com/index.html&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;YiSpeech发版测试&lt;/p&gt;
&lt;p&gt;Asr_model_v4.1.0 onnx 模型&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test1&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test2&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test3&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test4&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test5&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test6&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test7&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test8&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test_热词&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;均值&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;不开启热词&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.422%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.214%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.321%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.932%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.197%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.353%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.995%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.429%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;19.410%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;14.030%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;YiSpeech_v3.2.0 + 热词&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.521%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.318%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.410%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.968%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.355%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.464%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.138%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.567%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;19.149%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;14.098%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;YiSpeech_v3.3.0 + 热词&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.445%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.258%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.312%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.890%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.284%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.455%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.079%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.523%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;18.602%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.983%&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;YiSpeech:&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;![image-20221223154124994](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20221223154124994.png)
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;11&#34;&gt;
&lt;li&gt;wenet 处理空格问题， 字母和汉字之间是否需要保留空格？不需要&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/2022-12-26/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/2022-12-26/</guid>
        <description>&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;预训练模型量化蒸馏训练&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;onnx 模型num_left_chunks 问题debug&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;模型发版&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;k2&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;外置语言模型&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ngram&lt;/li&gt;
&lt;li&gt;rnnlm&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;热词&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;beamserch + context_graph&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;工程化&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Squeezeformer训练内存问题&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;编号&lt;/th&gt;
&lt;th&gt;实验人&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;时间&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;asr配置&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test_en_htw&lt;/th&gt;
&lt;th&gt;test_en_1&lt;/th&gt;
&lt;th&gt;test_eval2k&lt;/th&gt;
&lt;th&gt;test_en_wsj&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test_en_16k_librispeech&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;1&lt;/td&gt;
&lt;td&gt;@jinhao&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;2021.07.08&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yispeech2.5.0/asr v3.4.0-english&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;75热词&lt;!-- raw HTML omitted --&gt;24.128&lt;!-- raw HTML omitted --&gt;18.750&lt;/td&gt;
&lt;td&gt;75热词&lt;!-- raw HTML omitted --&gt;9.146&lt;!-- raw HTML omitted --&gt;10.285&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;2&lt;/td&gt;
&lt;td&gt;@jinhao&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;2021.07.08&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yispeech2.5.0/asr v3.5.0-english&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;75热词&lt;!-- raw HTML omitted --&gt;24.128&lt;!-- raw HTML omitted --&gt;17.006&lt;/td&gt;
&lt;td&gt;75热词&lt;!-- raw HTML omitted --&gt;9.146&lt;!-- raw HTML omitted --&gt;8.952&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;4&lt;/td&gt;
&lt;td&gt;@cuidc&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;2021.10.08&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yispeech2.5.0/asr v3.6.0-english&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;75热词&lt;!-- raw HTML omitted --&gt;20.349&lt;!-- raw HTML omitted --&gt;16.570&lt;/td&gt;
&lt;td&gt;构造热词&lt;!-- raw HTML omitted --&gt;8.525&lt;!-- raw HTML omitted --&gt;8.649&lt;/td&gt;
&lt;td&gt;构造热词&lt;!-- raw HTML omitted --&gt;16.125&lt;!-- raw HTML omitted --&gt;16.144&lt;/td&gt;
&lt;td&gt;构造热词&lt;!-- raw HTML omitted --&gt;5.798&lt;!-- raw HTML omitted --&gt;5.749&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;构造热词&lt;!-- raw HTML omitted --&gt;9.622&lt;!-- raw HTML omitted --&gt;9.640&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td&gt;@cuidc&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;2022.3.28&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yispeech2.8.0/asr v3.7.0-english&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;75热词&lt;!-- raw HTML omitted --&gt;17.587%&lt;!-- raw HTML omitted --&gt;15.262%&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/2023-01-03/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/2023-01-03/</guid>
        <description>&lt;ol&gt;
&lt;li&gt;实验文档
&lt;ol&gt;
&lt;li&gt;完善各个模型更新日志&lt;/li&gt;
&lt;li&gt;roadmap&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;预训练代码&lt;/li&gt;
&lt;li&gt;Squeezeformer学习率策略&lt;/li&gt;
&lt;li&gt;rnnt和k2解码&lt;/li&gt;
&lt;li&gt;基于神经网络的context 和 热词论文&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/2023-01-09/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/2023-01-09/</guid>
        <description>&lt;p&gt;不同机器效果测试对比 ：YiSpeech_v2.9.0 + asr_model_v3.6.0&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;test1&lt;/th&gt;
&lt;th&gt;test2&lt;/th&gt;
&lt;th&gt;test3&lt;/th&gt;
&lt;th&gt;test4&lt;/th&gt;
&lt;th&gt;test5&lt;/th&gt;
&lt;th&gt;test6&lt;/th&gt;
&lt;th&gt;test7&lt;/th&gt;
&lt;th&gt;test8&lt;/th&gt;
&lt;th&gt;平均值&lt;/th&gt;
&lt;th&gt;最大差值&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;172.16.100.6&lt;/td&gt;
&lt;td&gt;11.726&lt;/td&gt;
&lt;td&gt;13.421&lt;/td&gt;
&lt;td&gt;12.785&lt;/td&gt;
&lt;td&gt;14.570&lt;/td&gt;
&lt;td&gt;11.816&lt;/td&gt;
&lt;td&gt;18.228&lt;/td&gt;
&lt;td&gt;13.750&lt;/td&gt;
&lt;td&gt;23.617&lt;/td&gt;
&lt;td&gt;14.989&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;172.18.159.3&lt;/td&gt;
&lt;td&gt;11.676&lt;/td&gt;
&lt;td&gt;13.155&lt;/td&gt;
&lt;td&gt;12.823&lt;/td&gt;
&lt;td&gt;14.313&lt;/td&gt;
&lt;td&gt;11.540&lt;/td&gt;
&lt;td&gt;18.147&lt;/td&gt;
&lt;td&gt;13.597&lt;/td&gt;
&lt;td&gt;23.529&lt;/td&gt;
&lt;td&gt;14.847&lt;/td&gt;
&lt;td&gt;0.276&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;th&gt;4&lt;/th&gt;
&lt;th&gt;5&lt;/th&gt;
&lt;th&gt;6&lt;/th&gt;
&lt;th&gt;7&lt;/th&gt;
&lt;th&gt;8&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;10.422%&lt;/td&gt;
&lt;td&gt;13.214%&lt;/td&gt;
&lt;td&gt;11.321%&lt;/td&gt;
&lt;td&gt;11.932%&lt;/td&gt;
&lt;td&gt;10.197%&lt;/td&gt;
&lt;td&gt;17.353%&lt;/td&gt;
&lt;td&gt;11.995%&lt;/td&gt;
&lt;td&gt;20.429%&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;03gpu&lt;/td&gt;
&lt;td&gt;11.676&lt;/td&gt;
&lt;td&gt;13.214&lt;/td&gt;
&lt;td&gt;12.823&lt;/td&gt;
&lt;td&gt;14.313&lt;/td&gt;
&lt;td&gt;11.540&lt;/td&gt;
&lt;td&gt;18.147&lt;/td&gt;
&lt;td&gt;13.597&lt;/td&gt;
&lt;td&gt;23.529&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;实验文档&lt;/p&gt;
&lt;p&gt;目的：&lt;/p&gt;
&lt;p&gt;适应新的技术路线，提高对实验进行记录的可操作性，降低维护难度，提高整个实验文档的可读性。&lt;/p&gt;
&lt;p&gt;增加对工程和产品的数据提供，如算法库和各模型的兼容性关系，性能测试数据，对外演示测试数据信息等。&lt;/p&gt;
&lt;p&gt;此项目作为算法库数据记录和对外数据提供的唯一来源，保证数据准确性，结果可对齐，可复现。&lt;/p&gt;
&lt;p&gt;有些数据没有记录，需要做对比的时候需要反复测试。&lt;/p&gt;
&lt;p&gt;引用了错误的数据，导致错误的结论，后续纠错的时间。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;调整结构：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;kaldi调整为ASR目录的子模块，增加wenet和k2实验模块.&lt;/li&gt;
&lt;li&gt;新增算法库，各个模型兼容关系表&lt;/li&gt;
&lt;li&gt;新增roadmap&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;内容调整：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;调整部分记录，去掉不再使用且很久未更新的记录项.&lt;/li&gt;
&lt;li&gt;补充实验记录，算法库和模型版本记录.&lt;/li&gt;
&lt;li&gt;完善各个模型更新日志&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;效果测试记录：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;算法库版本 + 模型版本&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;机器信息&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;模型和推理引擎&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;2.x版本：tensorflow， openvino&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;3.x版本：libtorch，onnx&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;kaldi大语言模型&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ol&gt;
&lt;li&gt;the standard way to incorporate large LM in Kaldi: use a small LM to build HLCG for lattice generation, and then rescore it with large LM.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;if your application is limited to one-pass decoding, Nickolay Shmyrev contributed lookahead-composition solution(one-pass decoding), search &amp;ldquo;On-the-fly composition in Kaldi&amp;rdquo; in mailing list.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;What is &amp;ldquo;large LM&amp;rdquo;, in general, if you have arpa that is larger than 1G, you should start to consider lattice rescoring / lookahead composition approaches.&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/kaldi-asr/kaldi/blob/master/egs/wsj/s5/utils/mkgraph_lookahead.sh&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/kaldi-asr/kaldi/blob/master/egs/wsj/s5/utils/mkgraph_lookahead.sh&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/ctc%E5%92%8Ctlg%E8%A7%A3%E7%A0%81%E5%AF%B9%E6%AF%94/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/ctc%E5%92%8Ctlg%E8%A7%A3%E7%A0%81%E5%AF%B9%E6%AF%94/</guid>
        <description>&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;编号&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;num_left_chunks&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;offset&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;quant&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test1&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test2&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test3&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test4&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test5&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test6&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test7&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test8&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;avg&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1（v4.0.0）&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.671%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.822%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.428%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.424%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.741%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.554%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.570%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.818%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.628&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;wenet-tlg&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.47&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.09&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.32&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.73&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.24&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.50&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.03&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.59&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.371&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;wenet-ctc&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.68&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.83&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.47&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.43&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.74&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.56&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.59&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.79&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.636&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;exp-ctc&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.73&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.52&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.52&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.42&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.47&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;18.00&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.40&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.57&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.703&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;exp-tlg&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.43&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.34&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.25&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.70&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.22&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.66&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.01&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.18&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.348&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;exp-yispeech-tlg&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.50&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.14&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.32&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.79&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.19&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.50&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.04&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.54&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.377&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yispeech-ctc&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.671&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.882&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.332&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.997&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.267&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.424&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.176&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.724&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.434&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yispeech-tlg&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.493&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.177&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.355&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.797&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.219&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.527&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.012&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.530&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.388&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/tmp/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/tmp/</guid>
        <description>&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;k2实验&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;wenet rnnlm 重打分实验&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;列顺序&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;描述的位置&lt;/li&gt;
&lt;li&gt;性能测试中不同模块列的顺序&lt;/li&gt;
&lt;li&gt;内容表述格式&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;wenet模型中英文评测放到YiSpeech中的对应位置&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;描述或备注太长的话，单独做个表格进行记录&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;model.md中 4.3 英文ASR Model&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;性能测试&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;只按模块划分，不按语种&lt;/li&gt;
&lt;li&gt;加粗，斜体表示&lt;/li&gt;
&lt;li&gt;cpu消耗表示&lt;/li&gt;
&lt;li&gt;最大和平均指标的表示&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;中文&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;模型&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test1&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test2&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test3&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test4&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test5&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test6&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test7&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test8&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;asr_model_v4.1.0&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.422&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.214&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.321&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.932&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.197&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.353&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.995&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.429&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;asr_model_v4.2.0&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.348&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.029&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.293&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.904&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.083&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.223&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.081&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.448&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;模型&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test1&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test_switchboard&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test_librispeech&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test_wsj&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test_manulife&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test_shangrilahotel&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;asr_english_model_v3.7.0&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;7.536&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;16.956&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;7.434&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5.041&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;55.782&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;45.907&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;asr_english_model_v4.0.0&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;7.146&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;16.833&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;6.089&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;3.234&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;56.299&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;37.364&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/tts/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/daily/tts/</guid>
        <description>&lt;h1 id=&#34;tts&#34;&gt;TTS&lt;/h1&gt;
&lt;h2 id=&#34;heading&#34;&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;主分支时dev还是master，有用的分支（有哪些工作是还没合到主分支的）&lt;/li&gt;
&lt;li&gt;1.0中业务词典的位置，2.0中1.0tts中的位置&lt;/li&gt;
&lt;li&gt;前端2.0中的fix,1.0是否存在，2.0的so打包是否可以替代1.0&lt;/li&gt;
&lt;li&gt;triton在线缓存问题&lt;/li&gt;
&lt;li&gt;服务长期运行中，内存会缓慢增加&lt;/li&gt;
&lt;li&gt;tts日志&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;算法库&#34;&gt;算法库&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;算法库与模型兼容关系&lt;/li&gt;
&lt;li&gt;TTS中的v2.0和TTS2.0关系&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;模型&#34;&gt;模型&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;音色数量&lt;/li&gt;
&lt;li&gt;模型数量&lt;/li&gt;
&lt;li&gt;更新日志 | 发版记录&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;模型训练&#34;&gt;模型训练&lt;/h3&gt;
&lt;h4 id=&#34;tactron2&#34;&gt;Tactron2&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;配置文件&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Nexus上模型版本&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;最新模型的配置，数据和训练&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;TTS测试客户端 &amp;amp; 镜像&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;tritonclient.utils.InferenceServerException: HTTP end point doesn&amp;rsquo;t support models with decoupled transaction policy&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;triton server&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;单独调用前端&lt;/li&gt;
&lt;li&gt;单独调用后端
&lt;ol&gt;
&lt;li&gt;subtitle字幕&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;不支持batch
&lt;ol&gt;
&lt;li&gt;batch：https://github.com/wenet-e2e/wetts/blob/main/runtime/gpu_triton/model_repo/tts/1/model.py&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;中英混&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;前端问题较多，英文&lt;/li&gt;
&lt;li&gt;英文效果不好
&lt;ol&gt;
&lt;li&gt;数据问题
&lt;ol&gt;
&lt;li&gt;缺少同音色中英混数据，却标注（实习生三语数据）&lt;/li&gt;
&lt;li&gt;现在中文 + 英文（阿里合成， 6h真人）&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;评测
&lt;ol&gt;
&lt;li&gt;指标
&lt;ol&gt;
&lt;li&gt;句级别&lt;/li&gt;
&lt;li&gt;词级别&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;纯英文&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;前端问题
&lt;ol&gt;
&lt;li&gt;TN&lt;/li&gt;
&lt;li&gt;G2P&lt;/li&gt;
&lt;li&gt;韵律&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;粤语&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;数据
&lt;ol&gt;
&lt;li&gt;标注问题&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;前端
&lt;ol&gt;
&lt;li&gt;前端多音字预测问题（标注问题），发音错误率较高&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;声音克隆&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;定制&lt;/p&gt;
&lt;p&gt;数据量较多&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;闲置id&lt;/li&gt;
&lt;li&gt;新音色0.5-1h&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;克隆&lt;/p&gt;
&lt;p&gt;数据量较少&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;使用声纹&lt;/li&gt;
&lt;li&gt;基础模型使用更多人数据（aishell3）&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;换声&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;批处理支持&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;流式 &amp;amp; GPU支持&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;export_jit_vocoder： http://172.18.159.1:6021/g2p&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1.0模型转2.0脚本&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;2.0模型导出需要pytorch1.11.0模型&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;原1.0中sleep的位置&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;split_pb.py在tactron2的dev分支中，master和dev2都没有&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;自学习平台&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1.0模型各个音色配置相同吗&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;路径修改：/data1/yuanding/local/gitlab/Tacotron2/tacotron/text/speaker.py  speaker_list = list(open(&amp;quot;/data1/tts_data/training_data/speaker.csv&amp;quot;, &amp;ldquo;r&amp;rdquo;))&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1.0 声学模型转2.0：model.graphdef&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1.0 tactron转pb编码问题&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1.0 模型推理测试，不使用ckpt, 使用pb时报错&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cAdministrator%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20230130203118816.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20230130203118816&#34;
	
	
&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;声码器：数据预处理（同声学模型）使用声学模型预处理数据是指？&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;全部女生和全部男生分别训练声码器 (发版)&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;声码器&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;采样率需要和声学模型保持一致&lt;/li&gt;
&lt;li&gt;dev.txt需要足够的数据（1k+），否则报错&lt;/li&gt;
&lt;li&gt;upsample_scales * 4 = hop_size&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1.0 前端后端算法库打包使用的镜像&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1.0 声学模型和声码器导出模型使用的tf版本不一致？&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;后端&#34;&gt;后端&lt;/h2&gt;
&lt;h3 id=&#34;tts10&#34;&gt;TTS1.0&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;1.0算法库打包使用的镜像&lt;/li&gt;
&lt;li&gt;原1.0中sleep的位置&lt;/li&gt;
&lt;li&gt;声码器说明文件&lt;/li&gt;
&lt;li&gt;时间戳&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;模型-1&#34;&gt;模型&lt;/h4&gt;
&lt;h5 id=&#34;tactron&#34;&gt;Tactron&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;symbol_type: &amp;lsquo;old-split-pitch&amp;rsquo;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1.0模型 训练及导出模型&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;训练及导出1.0模型，该行代码可加不可加&lt;/li&gt;
&lt;li&gt;导出2.0模型（Triton），需要加该行代码。训练时可不加，split_pb时需要加上，会根据代码调整模型，适配triton。&lt;/li&gt;
&lt;li&gt;训练多人模型时，需要参考此处的代码进行修改。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cAdministrator%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20230131163503324.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20230131163503324&#34;
	
	
&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;hifigan&#34;&gt;HIFIGAN&lt;/h5&gt;
&lt;p&gt;/data1/zio/vocoder_model
101 女声16k
102 男声16k&lt;/p&gt;
&lt;p&gt;93 男声8k
92 女声8k&lt;/p&gt;
&lt;h3 id=&#34;tts20&#34;&gt;TTS2.0&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;1.0 声学模型转2.0：model.graphdef&lt;/li&gt;
&lt;li&gt;内存缓慢增长&lt;/li&gt;
&lt;li&gt;cpu 100%无响应&lt;/li&gt;
&lt;li&gt;Triton 代码中默认加载路径: &amp;ldquo;/models:&amp;rdquo;&lt;/li&gt;
&lt;li&gt;nuitka 加密model.py: &lt;a class=&#34;link&#34; href=&#34;https://code.in.wezhuiyi.com/speechAI/tts/tts/-/blob/master/runtime/release_triton/release.py#L91&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://code.in.wezhuiyi.com/speechAI/tts/tts/-/blob/master/runtime/release_triton/release.py#L91&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;前端&#34;&gt;前端&lt;/h2&gt;
&lt;h3 id=&#34;tts-10&#34;&gt;TTS 1.0&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;模块&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;pyFrontend&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;tts-frontend&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;算法库&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;接口调用流程&lt;/li&gt;
&lt;li&gt;单元测试&lt;/li&gt;
&lt;li&gt;编译打包动态库
&lt;ol&gt;
&lt;li&gt;pyFrontend和tts-frontend具体模块具体分析&lt;/li&gt;
&lt;li&gt;打包发版机器环境信息&lt;/li&gt;
&lt;li&gt;打包发版脚本&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;模型&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;模型资源构成
&lt;ol&gt;
&lt;li&gt;pyFrontend和tts-frontend之间关系&lt;/li&gt;
&lt;li&gt;模型中各个部分作用，组成，形式&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;模型打包发布&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;业务字典&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;构成&lt;/li&gt;
&lt;li&gt;如何配置&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;tts-20&#34;&gt;TTS 2.0&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;模块：pyFrontend v2.0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;算法库&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;接口调用流程&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;单元测试&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;编译打包动态库：生成triton可用的model repo&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/gpu/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/gpu/</guid>
        <description>&lt;p&gt;架构系列&lt;/p&gt;
&lt;p&gt; This corresponds to GPUs in the NVIDIA Pascal, NVIDIA Volta™, NVIDIA Turing™, and NVIDIA Ampere Architecture GPU families&lt;/p&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/gpu%E6%9C%8D%E5%8A%A1/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/gpu%E6%9C%8D%E5%8A%A1/</guid>
        <description>&lt;h1 id=&#34;asr-gpu服务&#34;&gt;ASR GPU服务&lt;/h1&gt;
&lt;h2 id=&#34;问题记录&#34;&gt;问题记录&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;短音频首片需要满足足够长度。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;推理过程中对hist_enc_len为0情况的处理。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用WFST解码时指定words.txt作为units.txt文件。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用WFST解码时指定对应的ONNX模型。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;启动triton服务时，如果指定&amp;ndash;model-control-mode=explicit，在客户端loda streaming_wenet模块时，要单独load decoder模块。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;中间片使用search outputs，重打分使用inputs，并根据outputs给出结果。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果一遍解码nbest数量小于等于1，则不进行重打分。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;修改export_onnx_gpu代码，返回ctc_log_probs。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;encoder 等模块config.pbtxt中output name: &amp;ldquo;log_ctc_probs&amp;rdquo; 维度修改5298。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;encoder等模块需要去掉log_probs_idx节点信息。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;启动server的目录，不能在model目录内，否则加载model会有异常&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;推理实例个数对debug时的影响，两个实例固定轮流推理，相同的idx会出现两次&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;watch nvidia-smi 对triton server造成影响，变得启动和推理都很卡顿&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;音频不足一个chunk时，推理长度相关参数设置，cpu的decoder如何处理？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;效果与cpu服务对齐&#34;&gt;效果与CPU服务对齐&lt;/h2&gt;
&lt;h3 id=&#34;gpu服务使用kenlm语言模型效果变差&#34;&gt;GPU服务使用kenlm语言模型效果变差&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;测试CPU使用和不使用kenlm语言模型的效果。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;测试GPU离线服务使用和不使用语言模型的效果。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;测试GPU服务使用FST解码图的效果。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;gpu服务效果变差&#34;&gt;GPU服务效果变差&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;对比ctc decoder验证Search接口问题。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;验证rescore问题。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;音频padding问题。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;验证GPU离线服务效果。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;保存encoder输出，验证encoder正确性。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;效果测试&#34;&gt;效果测试&lt;/h3&gt;
&lt;p&gt;GPU offline server&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;test1&lt;/th&gt;
&lt;th&gt;test2&lt;/th&gt;
&lt;th&gt;test3&lt;/th&gt;
&lt;th&gt;test4&lt;/th&gt;
&lt;th&gt;test5&lt;/th&gt;
&lt;th&gt;test6&lt;/th&gt;
&lt;th&gt;test7&lt;/th&gt;
&lt;th&gt;test8&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;cpu&lt;/td&gt;
&lt;td&gt;9.85&lt;/td&gt;
&lt;td&gt;12.65&lt;/td&gt;
&lt;td&gt;10.71&lt;/td&gt;
&lt;td&gt;11.21&lt;/td&gt;
&lt;td&gt;9.70&lt;/td&gt;
&lt;td&gt;17.06&lt;/td&gt;
&lt;td&gt;10.86&lt;/td&gt;
&lt;td&gt;18.81&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;triton&lt;/td&gt;
&lt;td&gt;9.61&lt;/td&gt;
&lt;td&gt;11.87&lt;/td&gt;
&lt;td&gt;10.38&lt;/td&gt;
&lt;td&gt;11.10&lt;/td&gt;
&lt;td&gt;9.45&lt;/td&gt;
&lt;td&gt;16.66&lt;/td&gt;
&lt;td&gt;10.72&lt;/td&gt;
&lt;td&gt;19.23&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;GPU online server&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;test1&lt;/th&gt;
&lt;th&gt;test2&lt;/th&gt;
&lt;th&gt;test3&lt;/th&gt;
&lt;th&gt;test4&lt;/th&gt;
&lt;th&gt;test5&lt;/th&gt;
&lt;th&gt;test6&lt;/th&gt;
&lt;th&gt;test7&lt;/th&gt;
&lt;th&gt;test8&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;cpu&lt;/td&gt;
&lt;td&gt;10.43&lt;/td&gt;
&lt;td&gt;13.34&lt;/td&gt;
&lt;td&gt;11.25&lt;/td&gt;
&lt;td&gt;11.70&lt;/td&gt;
&lt;td&gt;10.22&lt;/td&gt;
&lt;td&gt;17.66&lt;/td&gt;
&lt;td&gt;12.01&lt;/td&gt;
&lt;td&gt;20.18&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;triton&lt;/td&gt;
&lt;td&gt;10.45&lt;/td&gt;
&lt;td&gt;17.50&lt;/td&gt;
&lt;td&gt;11.59&lt;/td&gt;
&lt;td&gt;15.01&lt;/td&gt;
&lt;td&gt;10.36&lt;/td&gt;
&lt;td&gt;23.30&lt;/td&gt;
&lt;td&gt;12.33&lt;/td&gt;
&lt;td&gt;20.75&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;triton-fix&lt;/td&gt;
&lt;td&gt;10.35&lt;/td&gt;
&lt;td&gt;12.91&lt;/td&gt;
&lt;td&gt;11.06&lt;/td&gt;
&lt;td&gt;11.70&lt;/td&gt;
&lt;td&gt;10.08&lt;/td&gt;
&lt;td&gt;17.60&lt;/td&gt;
&lt;td&gt;11.89&lt;/td&gt;
&lt;td&gt;20.53&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;no rescore&lt;/td&gt;
&lt;td&gt;10.79&lt;/td&gt;
&lt;td&gt;13.66&lt;/td&gt;
&lt;td&gt;11.59&lt;/td&gt;
&lt;td&gt;11.96&lt;/td&gt;
&lt;td&gt;10.53&lt;/td&gt;
&lt;td&gt;18.33&lt;/td&gt;
&lt;td&gt;12.33&lt;/td&gt;
&lt;td&gt;21.15&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;wfst beam search&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;test1&lt;/th&gt;
&lt;th&gt;test2&lt;/th&gt;
&lt;th&gt;test3&lt;/th&gt;
&lt;th&gt;test4&lt;/th&gt;
&lt;th&gt;test5&lt;/th&gt;
&lt;th&gt;test6&lt;/th&gt;
&lt;th&gt;test7&lt;/th&gt;
&lt;th&gt;test8&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;cpu&lt;/td&gt;
&lt;td&gt;10.43&lt;/td&gt;
&lt;td&gt;13.34&lt;/td&gt;
&lt;td&gt;11.25&lt;/td&gt;
&lt;td&gt;11.70&lt;/td&gt;
&lt;td&gt;10.22&lt;/td&gt;
&lt;td&gt;17.66&lt;/td&gt;
&lt;td&gt;12.01&lt;/td&gt;
&lt;td&gt;20.18&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;no rescore&lt;/td&gt;
&lt;td&gt;10.98&lt;/td&gt;
&lt;td&gt;13.92&lt;/td&gt;
&lt;td&gt;11.76&lt;/td&gt;
&lt;td&gt;11.97&lt;/td&gt;
&lt;td&gt;10.71&lt;/td&gt;
&lt;td&gt;18.36&lt;/td&gt;
&lt;td&gt;12.36&lt;/td&gt;
&lt;td&gt;21.77&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;rescore&lt;/td&gt;
&lt;td&gt;11.84&lt;/td&gt;
&lt;td&gt;15.30&lt;/td&gt;
&lt;td&gt;12.83&lt;/td&gt;
&lt;td&gt;13.06&lt;/td&gt;
&lt;td&gt;11.38&lt;/td&gt;
&lt;td&gt;19.95&lt;/td&gt;
&lt;td&gt;13.06&lt;/td&gt;
&lt;td&gt;23.30&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ctc beam search&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;test1&lt;/th&gt;
&lt;th&gt;test2&lt;/th&gt;
&lt;th&gt;test3&lt;/th&gt;
&lt;th&gt;test4&lt;/th&gt;
&lt;th&gt;test5&lt;/th&gt;
&lt;th&gt;test6&lt;/th&gt;
&lt;th&gt;test7&lt;/th&gt;
&lt;th&gt;test8&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;cpu&lt;/td&gt;
&lt;td&gt;10.43&lt;/td&gt;
&lt;td&gt;13.34&lt;/td&gt;
&lt;td&gt;11.25&lt;/td&gt;
&lt;td&gt;11.70&lt;/td&gt;
&lt;td&gt;10.22&lt;/td&gt;
&lt;td&gt;17.66&lt;/td&gt;
&lt;td&gt;12.01&lt;/td&gt;
&lt;td&gt;20.18&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;no rescore&lt;/td&gt;
&lt;td&gt;11.30&lt;/td&gt;
&lt;td&gt;13.83&lt;/td&gt;
&lt;td&gt;11.86&lt;/td&gt;
&lt;td&gt;12.66&lt;/td&gt;
&lt;td&gt;10.91&lt;/td&gt;
&lt;td&gt;18.59&lt;/td&gt;
&lt;td&gt;12.78&lt;/td&gt;
&lt;td&gt;21.69&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;rescore&lt;/td&gt;
&lt;td&gt;10.63&lt;/td&gt;
&lt;td&gt;13.20&lt;/td&gt;
&lt;td&gt;11.22&lt;/td&gt;
&lt;td&gt;11.90&lt;/td&gt;
&lt;td&gt;10.31&lt;/td&gt;
&lt;td&gt;17.73&lt;/td&gt;
&lt;td&gt;12.18&lt;/td&gt;
&lt;td&gt;20.76&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;heading&#34;&gt;&lt;/h2&gt;
&lt;p&gt;LOG outputs:  ((-1.4181773662567139, (4335, 4671, 59, 4405, 589, 1842, 98, 4671, 59, 87, 878, 639, 878, 87, 108, 878, 761, 4590, 2099, 1019, 1254)), (-1.5133006572723389, (4335, 4671, 59, 4405, 589, 1842, 98, 4671, 59, 87, 878, 639, 878, 87, 108, 878, 761, 4590, 1019, 1254)), (-2.93255877494812, (713, 4671, 59, 4405, 589, 1842, 98, 4671, 59, 87, 878, 639, 878, 87, 108, 878, 761, 4590, 2099, 1019, 1254)), (-3.027660846710205, (713, 4671, 59, 4405, 589, 1842, 98, 4671, 59, 87, 878, 639, 878, 87, 108, 878, 761, 4590, 1019, 1254)), (-3.6665735244750977, (4335, 4671, 59, 4405, 589, 1842, 98, 4671, 59, 87, 500, 639, 878, 87, 108, 878, 761, 4590, 2099, 1019, 1254)), (-6.0131025314331055, (4335, 4671, 59, 4405, 589, 1842, 98, 4671, 59, 87, 878, 639, 878, 87, 108, 878, 761, 4590, 2099, 1019, 1254, 761)), (-6.1082258224487305, (4335, 4671, 59, 4405, 589, 1842, 98, 4671, 59, 87, 878, 639, 878, 87, 108, 878, 761, 4590, 1019, 1254, 761)), (-7.527483940124512, (713, 4671, 59, 4405, 589, 1842, 98, 4671, 59, 87, 878, 639, 878, 87, 108, 878, 761, 4590, 2099, 1019, 1254, 761)), (-7.622586250305176, (713, 4671, 59, 4405, 589, 1842, 98, 4671, 59, 87, 878, 639, 878, 87, 108, 878, 761, 4590, 1019, 1254, 761)), (-8.061248779296875, (4335, 4671, 59, 4405, 589, 1842, 98, 4671, 59, 87, 878, 639, 878, 87, 108, 878, 761, 4590, 2099, 1019)))&lt;/p&gt;
&lt;p&gt;LOG inputs:  ((-1.4181773662567139, (4335, 4671, 59, 4405, 589, 1842, 98, 4671, 59, 87, 878, 639, 878, 87, 108, 878, 761, 4590, 2099, 1019, 1254)), (-1.5133006572723389, (4335, 4671, 59, 4405, 589, 1842, 98, 4671, 59, 87, 878, 639, 878, 87, 108, 878, 761, 4590, 1019, 1254)), (-2.93255877494812, (713, 4671, 59, 4405, 589, 1842, 98, 4671, 59, 87, 878, 639, 878, 87, 108, 878, 761, 4590, 2099, 1019, 1254)), (-3.027660846710205, (713, 4671, 59, 4405, 589, 1842, 98, 4671, 59, 87, 878, 639, 878, 87, 108, 878, 761, 4590, 1019, 1254)), (-3.6665735244750977, (4335, 4671, 59, 4405, 589, 1842, 98, 4671, 59, 87, 500, 639, 878, 87, 108, 878, 761, 4590, 2099, 1019, 1254)), (-6.0131025314331055, (4335, 4671, 59, 4405, 589, 1842, 98, 4671, 59, 87, 878, 639, 878, 87, 108, 878, 761, 4590, 2099, 1019, 1254, 761)), (-6.1082258224487305, (4335, 4671, 59, 4405, 589, 1842, 98, 4671, 59, 87, 878, 639, 878, 87, 108, 878, 761, 4590, 1019, 1254, 761)), (-7.527483940124512, (713, 4671, 59, 4405, 589, 1842, 98, 4671, 59, 87, 878, 639, 878, 87, 108, 878, 761, 4590, 2099, 1019, 1254, 761)), (-7.622586250305176, (713, 4671, 59, 4405, 589, 1842, 98, 4671, 59, 87, 878, 639, 878, 87, 108, 878, 761, 4590, 1019, 1254, 761)), (-8.061248779296875, (4335, 4671, 59, 4405, 589, 1842, 98, 4671, 59, 87, 878, 639, 878, 87, 108, 878, 761, 4590, 2099, 1019)))&lt;/p&gt;
&lt;h2 id=&#34;性能测试&#34;&gt;性能测试&lt;/h2&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/k2/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/k2/</guid>
        <description>&lt;h1 id=&#34;k2-实验&#34;&gt;k2 实验&lt;/h1&gt;
&lt;h2 id=&#34;1-数据准备&#34;&gt;1. 数据准备&lt;/h2&gt;
&lt;h3 id=&#34;11-recordings&#34;&gt;1.1 recordings&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;recordings&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;recording&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Recording&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;audio&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;aid&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;sources&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;AudioSource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nb&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;file&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;channels&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;source&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root_path&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;audio&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;path&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;num_samples&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;compute_num_samples&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;duration&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;audio&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;duration&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sampling_rate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sampling_rate&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;sampling_rate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sampling_rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;duration&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;audio&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;duration&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;recordings&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;recording&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;recording_set&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RecordingSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;from_recordings&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;recordings&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;12-supervisions&#34;&gt;1.2 supervisions&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;supervisions&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;segment&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SupervisionSegment&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;idx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;recording_id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;idx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;duration&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;recording&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;duration&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;channel&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;language&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Chinese&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;speaker&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;speaker&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;strip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;supervisions&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;segment&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;supervision_set&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SupervisionSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;from_segments&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;supervisions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;13-fix-and-validate&#34;&gt;1.3 fix and validate&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;recordings&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;supervisions&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fix_manifests&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;recordings&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;RecordingSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;from_recordings&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;recordings&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;supervisions&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SupervisionSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;from_segments&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;supervisions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;validate_recordings_and_supervisions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;recordings&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;recordings&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;supervisions&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;supervisions&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;2-提取特征&#34;&gt;2. 提取特征&lt;/h2&gt;
&lt;h3 id=&#34;21-生成cutset格式数据&#34;&gt;2.1 生成CutSet格式数据&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;dataset_parts&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;TRAIN&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;DEV&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;TEST&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;manifests&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;read_manifests_if_cached&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;dataset_parts&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dataset_parts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;output_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;src_dir&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;suffix&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;jsonl.gz&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;prefix&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;wenetspeech&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;cut_set&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CutSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;from_manifests&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;recordings&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;recordings&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;supervisions&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;supervisions&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;cut_set&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;cut_set&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cut_set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;perturb_speed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.9&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cut_set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;perturb_speed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;1.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;cut_set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;to_file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;raw_cuts_path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;22-切分&#34;&gt;2.2 切分&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lhotse split &lt;span class=&#34;nv&#34;&gt;$num_splits&lt;/span&gt; ./data/fbank/cuts_&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;subset&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;_raw.jsonl.gz &lt;span class=&#34;nv&#34;&gt;$split_dir&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;23-提取特征&#34;&gt;2.3 提取特征&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;extractor&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;KaldifeatFbank&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;KaldifeatFbankConfig&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;device&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;device&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Loading raw cuts path&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;raw_cuts_path&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;output_dir&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;cuts_&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;subset&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;_raw.&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;idx&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;.jsonl.gz&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;cut_set&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CutSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;from_file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;raw_cuts_path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Splitting cuts into smaller chunks.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;cut_set&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cut_set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;trim_to_supervisions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;keep_overlapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;min_duration&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Computing features&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;cut_set&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cut_set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;compute_and_store_features_batch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;extractor&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;extractor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;storage_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;output_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/feats_&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;subset&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;idx&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;num_workers&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;num_workers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;batch_duration&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;batch_duration&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;storage_type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;LilcomChunkyWriter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;overwrite&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Saving to {cuts_path}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;cut_set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;to_file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cuts_path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;24-合并&#34;&gt;2.4 合并&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;pieces&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;find data/fbank/&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;subset&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;_split_1000 -name &lt;span class=&#34;s2&#34;&gt;&amp;#34;cuts_&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;subset&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;.*.jsonl.gz&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lhotse combine &lt;span class=&#34;nv&#34;&gt;$pieces&lt;/span&gt; data/fbank/cuts_&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;subset&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;.jsonl.gz
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;3-dataloader&#34;&gt;3. Dataloader&lt;/h2&gt;
&lt;h3 id=&#34;21-准备cuts数据&#34;&gt;2.1 准备cuts数据&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;cuts_subset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;load_manifest_lazy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;manifest_dir&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;cuts_&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;subset&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;.jsonl.gz&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Keep only utterances with duration between 1 second and 15.0 seconds&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# You should use ../local/display_manifest_statistics.py to get&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# an utterance duration distribution for your dataset to select&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# the threshold&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;cuts_subset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;train_cuts&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;filter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;remove_short_and_long_utt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;32-准备dataloader&#34;&gt;3.2 准备DataLoader&lt;/h3&gt;
&lt;h4 id=&#34;321-加载musan数据&#34;&gt;3.2.1 加载musan数据&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;cuts_musan&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;load_manifest&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;manifest_dir&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;musan_cuts.jsonl.gz&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;322-transforms&#34;&gt;3.2.2 transforms&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;transforms&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Enable MUSAN&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;transforms&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;CutMix&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;cuts&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cuts_musan&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;prob&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;snr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;preserve_id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Using cut concatenation with duration factor&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;transforms&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;CutConcatenate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;duration_factor&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;duration_factor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;gap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;gap&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;transforms&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;323-input_transforms&#34;&gt;3.2.3 input_transforms&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Enable SpecAugment&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;input_transforms&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;input_transforms&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;SpecAugment&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;time_warp_factor&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;spec_aug_time_warp_factor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;num_frame_masks&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;num_frame_masks&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;features_mask_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;27&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;num_feature_masks&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;frames_mask_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;324-train_sampler&#34;&gt;3.2.4 train_sampler&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;train_sampler&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DynamicBucketingSampler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;cuts_train&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;max_duration&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_duration&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;shuffle&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;shuffle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;num_buckets&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;num_buckets&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;buffer_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;30000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;drop_last&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;325-dataloader&#34;&gt;3.2.5 dataloader&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;train_dl&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DataLoader&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;train&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;sampler&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;train_sampler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;batch_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;num_workers&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;num_workers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;persistent_workers&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;worker_init_fn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;worker_init_fn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sampler_state_dict&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;not&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;logging&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Loading sampler state dict&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;train_dl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sampler&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;load_state_dict&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sampler_state_dict&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/so/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/so/</guid>
        <description>&lt;p&gt;*** Measurement Settings ***
Batch size: 1
Using &amp;ldquo;time_windows&amp;rdquo; mode for stabilization
Measurement window: 20000 msec
Latency limit: 0 msec
Concurrency limit: 200 concurrent requests
Using synchronous calls for inference
Stabilizing using average latency&lt;/p&gt;
&lt;p&gt;Request concurrency: 100
Client:
Request count: 15776
Throughput: 788.8 infer/sec
Avg latency: 126934 usec (standard deviation 17877 usec)
p50 latency: 126929 usec
p90 latency: 150007 usec
p95 latency: 155601 usec
p99 latency: 169364 usec
Avg gRPC time: 126697 usec ((un)marshal request/response 41 usec + response wait 126656 usec)
Server:
Inference count: 18945
Execution count: 18945
Successful request count: 18946
Avg request latency: 126589 usec (overhead 486 usec + queue 30999 usec + compute 95104 usec)&lt;/p&gt;
&lt;p&gt;Composing models:
encoder, version:
Inference count: 18938
Execution count: 1296
Successful request count: 18938
Avg request latency: 58617 usec (overhead 479 usec + queue 21811 usec + compute input 1228 usec + compute infer 33170 usec + compute output 1929 usec)&lt;/p&gt;
&lt;p&gt;feature_extractor, version:
Inference count: 18940
Execution count: 4265
Successful request count: 18940
Avg request latency: 12292 usec (overhead 6 usec + queue 1580 usec + compute input 418 usec + compute infer 9690 usec + compute output 598 usec)&lt;/p&gt;
&lt;p&gt;scoring, version:
Inference count: 18933
Execution count: 2137
Successful request count: 18933
Avg request latency: 55685 usec (overhead 9 usec + queue 7608 usec + compute input 8949 usec + compute infer 37946 usec + compute output 1173 usec)&lt;/p&gt;
&lt;p&gt;Request concurrency: 150
Client:
Request count: 16446
Throughput: 822.3 infer/sec
Avg latency: 182466 usec (standard deviation 20303 usec)
p50 latency: 182989 usec
p90 latency: 208751 usec
p95 latency: 215573 usec
p99 latency: 227802 usec
Avg gRPC time: 182208 usec ((un)marshal request/response 40 usec + response wait 182168 usec)
Server:
Inference count: 19746
Execution count: 19746
Successful request count: 19746
Avg request latency: 182207 usec (overhead 584 usec + queue 75287 usec + compute 106336 usec)&lt;/p&gt;
&lt;p&gt;Composing models:
encoder, version:
Inference count: 19744
Execution count: 1195
Successful request count: 19744
Avg request latency: 103609 usec (overhead 535 usec + queue 63250 usec + compute input 1360 usec + compute infer 35903 usec + compute output 2561 usec)&lt;/p&gt;
&lt;p&gt;feature_extractor, version:
Inference count: 19750
Execution count: 3800
Successful request count: 19750
Avg request latency: 13155 usec (overhead 7 usec + queue 1822 usec + compute input 471 usec + compute infer 10238 usec + compute output 617 usec)&lt;/p&gt;
&lt;p&gt;scoring, version:
Inference count: 19746
Execution count: 1851
Successful request count: 19746
Avg request latency: 65406 usec (overhead 9 usec + queue 10215 usec + compute input 11509 usec + compute infer 42335 usec + compute output 1338 usec)&lt;/p&gt;
&lt;p&gt;Request concurrency: 200
Client:
Request count: 17067
Throughput: 853.35 infer/sec
Avg latency: 233841 usec (standard deviation 21476 usec)
p50 latency: 233757 usec
p90 latency: 260522 usec
p95 latency: 269281 usec
p99 latency: 287251 usec
Avg gRPC time: 233702 usec ((un)marshal request/response 40 usec + response wait 233662 usec)
Server:
Inference count: 20544
Execution count: 20544
Successful request count: 20544
Avg request latency: 233845 usec (overhead 856 usec + queue 108414 usec + compute 124575 usec)&lt;/p&gt;
&lt;p&gt;Composing models:
encoder, version:
Inference count: 20560
Execution count: 1023
Successful request count: 20560
Avg request latency: 132775 usec (overhead 705 usec + queue 84691 usec + compute input 1364 usec + compute infer 41666 usec + compute output 4349 usec)&lt;/p&gt;
&lt;p&gt;feature_extractor, version:
Inference count: 20543
Execution count: 3360
Successful request count: 20543
Avg request latency: 13674 usec (overhead 7 usec + queue 2086 usec + compute input 508 usec + compute infer 10416 usec + compute output 657 usec)&lt;/p&gt;
&lt;p&gt;scoring, version:
Inference count: 20544
Execution count: 1497
Successful request count: 20544
Avg request latency: 87261 usec (overhead 10 usec + queue 21637 usec + compute input 15520 usec + compute infer 48592 usec + compute output 1502 usec)&lt;/p&gt;
&lt;p&gt;Inferences/Second vs. Client Average Batch Latency
Concurrency: 100, throughput: 788.8 infer/sec, latency 126934 usec
Concurrency: 150, throughput: 822.3 infer/sec, latency 182466 usec
Concurrency: 200, throughput: 853.35 infer/sec, latency 233841 usec&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;cpu：&lt;/strong&gt; 8% - 9%&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;gpu:&lt;/strong&gt;  70-90%&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;online&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;root@gpu03:/ws/client# perf_analyzer -u &amp;ldquo;localhost:8001&amp;rdquo; -i gRPC &amp;ndash;streaming &amp;ndash;input-data=online_input.json -m streaming_wenet -b 1 &amp;ndash;concurrency-range 100:200:50
Successfully read data for 1 stream/streams with 5 step/steps.
*** Measurement Settings ***
Batch size: 1
Using &amp;ldquo;time_windows&amp;rdquo; mode for stabilization
Measurement window: 5000 msec
Latency limit: 0 msec
Concurrency limit: 200 concurrent requests
Using asynchronous calls for inference
Stabilizing using average latency&lt;/p&gt;
&lt;p&gt;Request concurrency: 100
Client:
Request count: 3488
Sequence count: 704 (140.8 seq/sec)
Throughput: 697.6 infer/sec
Avg latency: 142357 usec (standard deviation 32749 usec)
p50 latency: 139018 usec
p90 latency: 184378 usec
p95 latency: 205635 usec
p99 latency: 246734 usec
Avg gRPC time: 142314 usec ((un)marshal request/response 18 usec + response wait 142296 usec)
Server:
Inference count: 4218
Execution count: 4218
Successful request count: 4218
Avg request latency: 142449 usec (overhead 1093 usec + queue 69600 usec + compute 71756 usec)&lt;/p&gt;
&lt;p&gt;Composing models:
encoder, version:
Inference count: 4225
Execution count: 319
Successful request count: 4225
Avg request latency: 89930 usec (overhead 2000 usec + queue 52090 usec + compute input 1914 usec + compute infer 30871 usec + compute output 3055 usec)&lt;/p&gt;
&lt;p&gt;feature_extractor, version:
Inference count: 4194
Execution count: 1910
Successful request count: 4194
Avg request latency: 9412 usec (overhead 4 usec + queue 4367 usec + compute input 114 usec + compute infer 4598 usec + compute output 329 usec)&lt;/p&gt;
&lt;p&gt;wenet, version:
Inference count: 4218
Execution count: 495
Successful request count: 4218
Avg request latency: 44023 usec (overhead 9 usec + queue 13143 usec + compute input 6474 usec + compute infer 23140 usec + compute output 1257 usec)&lt;/p&gt;
&lt;p&gt;Request concurrency: 150
Client:
Request count: 4278
Sequence count: 844 (168.8 seq/sec)
Throughput: 855.6 infer/sec
Avg latency: 174563 usec (standard deviation 40172 usec)
p50 latency: 167038 usec
p90 latency: 224584 usec
p95 latency: 255709 usec
p99 latency: 309430 usec
Avg gRPC time: 174714 usec ((un)marshal request/response 16 usec + response wait 174698 usec)
Server:
Inference count: 5166
Execution count: 5166
Successful request count: 5166
Avg request latency: 175461 usec (overhead 1285 usec + queue 79796 usec + compute 94380 usec)&lt;/p&gt;
&lt;p&gt;Composing models:
encoder, version:
Inference count: 5108
Execution count: 257
Successful request count: 5108
Avg request latency: 101550 usec (overhead 2733 usec + queue 53957 usec + compute input 3067 usec + compute infer 36193 usec + compute output 5600 usec)&lt;/p&gt;
&lt;p&gt;feature_extractor, version:
Inference count: 5162
Execution count: 1966
Successful request count: 5162
Avg request latency: 12725 usec (overhead 4 usec + queue 6222 usec + compute input 141 usec + compute infer 5915 usec + compute output 443 usec)&lt;/p&gt;
&lt;p&gt;wenet, version:
Inference count: 5166
Execution count: 326
Successful request count: 5166
Avg request latency: 62645 usec (overhead 11 usec + queue 19617 usec + compute input 11126 usec + compute infer 29950 usec + compute output 1941 usec)&lt;/p&gt;
&lt;p&gt;Request concurrency: 200
Client:
Request count: 4699
Sequence count: 963 (192.6 seq/sec)
Throughput: 939.8 infer/sec
Avg latency: 212724 usec (standard deviation 43871 usec)
p50 latency: 203624 usec
p90 latency: 261836 usec
p95 latency: 278348 usec
p99 latency: 374408 usec
Avg gRPC time: 213667 usec ((un)marshal request/response 16 usec + response wait 213651 usec)
Server:
Inference count: 5621
Execution count: 5621
Successful request count: 5621
Avg request latency: 215425 usec (overhead 2447 usec + queue 97139 usec + compute 115839 usec)&lt;/p&gt;
&lt;p&gt;Composing models:
encoder, version:
Inference count: 5587
Execution count: 241
Successful request count: 5587
Avg request latency: 103711 usec (overhead 2737 usec + queue 51789 usec + compute input 4225 usec + compute infer 37827 usec + compute output 7133 usec)&lt;/p&gt;
&lt;p&gt;feature_extractor, version:
Inference count: 5620
Execution count: 1907
Successful request count: 5620
Avg request latency: 19055 usec (overhead 5 usec + queue 11003 usec + compute input 184 usec + compute infer 7208 usec + compute output 655 usec)&lt;/p&gt;
&lt;p&gt;wenet, version:
Inference count: 5589
Execution count: 204
Successful request count: 5589
Avg request latency: 92966 usec (overhead 15 usec + queue 34347 usec + compute input 18541 usec + compute infer 37313 usec + compute output 2750 usec)&lt;/p&gt;
&lt;p&gt;Inferences/Second vs. Client Average Batch Latency
Concurrency: 100, throughput: 697.6 infer/sec, latency 142357 usec
Concurrency: 150, throughput: 855.6 infer/sec, latency 174563 usec
Concurrency: 200, throughput: 939.8 infer/sec, latency 212724 usec&lt;/p&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/untitled/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/untitled/</guid>
        <description>&lt;h1 id=&#34;模型效果测试数据&#34;&gt;模型效果测试数据&lt;/h1&gt;
&lt;h2 id=&#34;gpu-效果测试&#34;&gt;GPU 效果测试&lt;/h2&gt;
&lt;p&gt;GPU离线ASR请求Padding逻辑测试&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;padding 逻辑&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test1&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test2&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test3&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test4&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test5&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test6&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test7&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test8&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;cpu&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.85&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.65&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.71&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.21&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.70&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.06&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.86&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;18.81&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;不处理&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.61&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.87&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.38&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.10&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.45&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;16.66&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.72&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;19.23&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;padding成整秒数&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.59&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.75&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.37&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.02&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.62&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;16.50&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.68&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;19.22&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;cpu-效果测试&#34;&gt;CPU 效果测试&lt;/h2&gt;
&lt;h3 id=&#34;libtorc测试&#34;&gt;libtorc测试&lt;/h3&gt;
&lt;h4 id=&#34;流式测试&#34;&gt;流式测试&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;编号&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;num_left_chunks&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;offset&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test1&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test2&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test3&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test4&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test5&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test6&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test7&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test8&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;avg&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.666%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.889%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.329%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.997%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.258%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.411%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.163%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.705%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.427&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;2&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.752%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.904%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.350%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.011%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.232%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.411%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.169%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.812%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.455&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;3&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&amp;lt; 80&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.755%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.889%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.341%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.997%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.245%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.411%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.178%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.743%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.444&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;4&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&amp;lt; 200&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.676%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.889%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.341%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.997%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.245%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.411%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.178%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.743%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.435&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;infinite&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.752%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.904%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.350%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.011%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.232%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.411%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.169%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.812%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.455&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;编号&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;num_left_chunks&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test1&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test2&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test3&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test4&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test5&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test6&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test7&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test8&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;avg&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.666%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.889%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.329%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.997%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.258%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.411%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.163%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.705%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.427&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;2&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.752%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.904%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.350%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.011%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.232%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.411%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.169%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.812%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.455&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;编号&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;num_left_chunks&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;offset&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test1&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test2&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test3&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test4&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test5&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test6&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test7&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test8&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;avg&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.752%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.904%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.350%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.011%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.232%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.411%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.169%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.812%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.455&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;2&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&amp;lt; 80&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.755%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.889%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.341%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.997%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.245%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.411%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.178%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.743%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.444&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;3&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&amp;lt; 200&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.676%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.889%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.341%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.997%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.245%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.411%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.178%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.743%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.435&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;4&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;infinite&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.752%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.904%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.350%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.011%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.232%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.411%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.169%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.812%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.455&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;非流式测试&#34;&gt;非流式测试&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;num_left_chunks&lt;/th&gt;
&lt;th&gt;offset&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test1&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test2&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test3&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test4&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test5&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test6&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test7&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test8&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;avg&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.936%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.024%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.599%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.327%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.569%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;16.531%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.876%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;19.174%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.504&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td&gt;no_limit&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.936%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.024%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.599%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.327%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.569%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;16.531%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.876%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;19.174%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.504&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;onnx测试&#34;&gt;onnx测试&lt;/h3&gt;
&lt;p&gt;需要排除新版wenet导出onnx导致的效果差异&lt;/p&gt;
&lt;h4 id=&#34;流式测试-1&#34;&gt;流式测试&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;编号&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;num_left_chunks&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;offset&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;quant&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test1&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test2&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test3&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test4&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test5&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test6&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test7&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test8&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;avg&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.671%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.822%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.428%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.424%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.741%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.554%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.570%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.818%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.628&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;infinite&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.744%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.074%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.288%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.153%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.350%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.482%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.257%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.887%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.529&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;infinite&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.784%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.118%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.334%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.353%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.385%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.540%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.375%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;21.025%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.614&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;测试onnx新导出模型与旧&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;编号&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;num_left_chunks&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;offset&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;quant&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test1&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test2&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test3&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test4&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test5&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test6&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test7&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test8&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;avg&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1（v4.0.0）&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.671%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.822%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.428%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.424%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.741%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.554%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.570%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.818%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.628&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.540%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.867%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.253%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.039%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.276%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.326%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.159%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.649%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.388&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.744%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.074%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.288%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.153%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.350%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.482%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.257%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.887%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.529&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;infinite&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.540%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.867%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.253%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.039%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.276%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.326%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.159%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.649%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.388&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.588%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.800%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.293%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.004%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.284%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.286%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.171%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.624%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.381&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;infinite&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.588%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.800%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.784%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.118%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;8&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.703%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.985%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.295%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.310%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.504%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.478%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.410%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.774%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.557&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.679%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.029%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.293%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.168%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.350%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.496%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.289%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.799%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.512&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;15&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.756%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.000%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.353%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.467%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.429%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.594%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.356%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.956%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;编号&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;left_chunks&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test1&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test2&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test3&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test4&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test5&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test6&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test7&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test8&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;avg&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.588%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.800%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.293%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.004%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.284%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.286%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.171%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.624%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.381&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;2&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.784%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.118%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.334%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.353%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.385%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.540%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.375%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;21.025%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.614&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;4&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.679%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.029%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.293%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.168%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.350%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.496%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.289%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.799%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.512&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;15&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.756%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.000%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.353%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.467%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.429%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.594%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.356%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.956%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.613&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;编号&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;num_left_chunks&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;quant&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test1&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test2&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test3&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test4&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test5&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test6&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test7&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test8&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;avg&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.540%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.867%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.253%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.039%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.276%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.326%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.159%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.649%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.388&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.588%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.800%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.293%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.004%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.284%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.286%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.171%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.624%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.381&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;非流式测试-1&#34;&gt;非流式测试&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;编号&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;num_left_chunks&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;offset&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;quant&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test1&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test2&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test3&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test4&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test5&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test6&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test7&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test8&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;avg&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.796%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.810%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.598%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.327%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.061%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;16.629%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.008%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;19.381%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.576&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;infinite&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.781%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.803%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.498%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.212%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.573%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;16.451%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.853%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;19.193%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.420&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;infinite&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.855%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.913%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.488%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.384%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.587%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;16.531%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.916%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;19.294%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.496&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;性能测试&#34;&gt;性能测试&lt;/h3&gt;
&lt;h4 id=&#34;1核4路&#34;&gt;1核4路&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;num_left_chunks&lt;/th&gt;
&lt;th&gt;offset&lt;/th&gt;
&lt;th&gt;quant&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;M avg | max&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;L avg | max&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;L - timeout&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;RTF&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;100 | 200 | 300 | 400 |500 | 600&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-1&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;31ms | 659ms&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;179ms | 1308ms&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;16.32%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.181862&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;40%|28% |15% |  8% | 5% | 4%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;infinite&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;26ms | 517ms&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;142ms | 956ms&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;8.41%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.150345&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;47%|29% |14% |  5% | 2% | 3%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-1&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;26|574&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;145|1186&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.22%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1509&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;51% |26% |11% | 6% | 2% | 4%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;24|391&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;137|929&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;8.16%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1420&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;24|426&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;136|378&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5.61%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1413&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;num_left_chunks&lt;/th&gt;
&lt;th&gt;quant&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;M avg | max&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;L avg | max&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;L - timeout&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;RTF&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-1&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;31ms | 659ms&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;179 ms | 1308 ms&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;16.32%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1818&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-1&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;26ms | 574ms&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;145 ms| 1186 ms&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.22%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1509&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;24ms | 391ms&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;137 ms| 929 ms&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;8.16%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1420&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;验证num_left_chunks&#34;&gt;验证num_left_chunks&lt;/h4&gt;
&lt;h5 id=&#34;超长音频测试&#34;&gt;超长音频测试&lt;/h5&gt;
&lt;p&gt;libtorch&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;num_left_chunks&lt;/th&gt;
&lt;th&gt;offset&lt;/th&gt;
&lt;th&gt;M avg |max&lt;/th&gt;
&lt;th&gt;L avg |max&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;td&gt;27 | 182&lt;/td&gt;
&lt;td&gt;2914 | 3276&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-1&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;td&gt;46|370&lt;/td&gt;
&lt;td&gt;3709 | 4789&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5 id=&#34;30s音频&#34;&gt;30s音频&lt;/h5&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;num_left_chunks&lt;/th&gt;
&lt;th&gt;quant&lt;/th&gt;
&lt;th&gt;M avg |max&lt;/th&gt;
&lt;th&gt;L avg |max&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;17 ms| 130 ms&lt;/td&gt;
&lt;td&gt;997 ms|1562 ms&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-1&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;27 ms|273 ms&lt;/td&gt;
&lt;td&gt;1171 ms| 1611 ms&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5 id=&#34;10s-音频&#34;&gt;10s 音频&lt;/h5&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;num_left_chunks&lt;/th&gt;
&lt;th&gt;quant&lt;/th&gt;
&lt;th&gt;M avg |max&lt;/th&gt;
&lt;th&gt;L avg |max&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;14 ms|110 ms&lt;/td&gt;
&lt;td&gt;348 ms|579 ms&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-1&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;15 ms|118 ms&lt;/td&gt;
&lt;td&gt;368 ms| 600 ms&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;fm&#34;&gt;__init__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;position&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;div_term&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cos&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;position&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;div_term&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;pe_list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;beg&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;repeats&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ceil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;beg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;pe&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;repeat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;repeats&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;x1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;beg&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_len&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;x2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;beg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Old pos_emb&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;pos_emb&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;offset&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# New pos_emb&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;pos_emb&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pe_list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;offset&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/vad/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/vad/</guid>
        <description>&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;CALL场景（客服侧为机器人，只需识别客户侧）&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;机器人说话期间和等待期间，VAD阈值影响&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;机器人说话期间和等待期间，目标说话人声纹&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SEE场景(离线，两侧人声均需要识别)&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;二次处理&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;VC/数字人场景&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;说话人固定，声纹注册机制&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;声纹 + VAD&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;参考声纹准确性&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;提供注册机制&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ASR结果高置信度，进行注册&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;机器人说话期间和等待期间，目标说话人声纹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;说话前主动注册.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;修正机制&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;存储备选声纹&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;效果&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;过滤非目标人声&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;过滤噪声&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/%E4%B8%B4%E6%97%B6%E8%AE%B0%E5%BD%95/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/%E4%B8%B4%E6%97%B6%E8%AE%B0%E5%BD%95/</guid>
        <description>&lt;h1 id=&#34;待分类记录&#34;&gt;待分类记录&lt;/h1&gt;
&lt;h2 id=&#34;1-相关命令&#34;&gt;1. 相关命令&lt;/h2&gt;
&lt;h3 id=&#34;11-内部项目相关&#34;&gt;1.1 内部项目相关&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;执行相关测试时： &lt;code&gt;env LD_PRELOAD=/opt/intel/mkl/lib/intel64/libmkl_core.so&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;openvino 与机器安装的mkl中的tbb版本问题，执行openvino需要&lt;code&gt;export LD_LIBRARY_PATH=&lt;/code&gt;。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;12-linux相关命令&#34;&gt;1.2 Linux相关命令&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;查看主机虚拟类型：&lt;code&gt;systemd-detect-virt&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;vim 替换:%s/vivian/sky/g&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;12-音频处理相关&#34;&gt;1.2 音频处理相关&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;统计文件夹内音频时长&lt;code&gt;soxi -D * | awk &#39;{total +=$0};END{print total/60/60}&#39;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ffmpeg 转换音频去掉LIST字段 &lt;code&gt;ffmpeg -i 原始音频.wav -fflags +bitexact -ar 8000 转换后.wav&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;13-conda-环境管理&#34;&gt;1.3 conda 环境管理&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;install 提示&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; You have chosen to not have conda modify your shell scripts at all.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; To activate conda&lt;span class=&#34;s1&#34;&gt;&amp;#39;s base environment in your current shell session:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt; eval &amp;#34;$(/data1/yuanding/local/miniconda3/bin/conda shell.YOUR_SHELL_NAME hook)&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt; To install conda&amp;#39;&lt;/span&gt;s shell functions &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; easier access, first activate, &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; conda init
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; If you&lt;span class=&#34;s1&#34;&gt;&amp;#39;d prefer that conda&amp;#39;&lt;/span&gt;s base environment not be activated on startup,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; the auto_activate_base parameter to false:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; conda config --set auto_activate_base &lt;span class=&#34;nb&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; Thank you &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; installing Miniconda3!
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;激活conda: &lt;code&gt;source local/miniconda3/bin/activate&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;14-cmake&#34;&gt;1.4 cmake&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Install CMake 3.19+ &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Ubuntu 18.04 Bionic&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;The latest CMake release per distro &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;cmake 3.19.1 as of 2020/11/26&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; is available via Kitware&lt;span class=&#34;s1&#34;&gt;&amp;#39;s PPA:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;wget -O - https://apt.kitware.com/keys/kitware-archive-latest.asc 2&amp;gt;/dev/null | sudo apt-key add -
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;sudo apt-add-repository &amp;#39;&lt;/span&gt;deb https://apt.kitware.com/ubuntu/ bionic main&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get update
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Then, download and install CMake:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install cmake
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install cmake-curses-gui  &lt;span class=&#34;c1&#34;&gt;# Recommended, includes ccmake.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;2-编程语言&#34;&gt;2. 编程语言&lt;/h2&gt;
&lt;h2 id=&#34;3-链接&#34;&gt;3. 链接&lt;/h2&gt;
&lt;p&gt;csapp: &lt;a class=&#34;link&#34; href=&#34;https://www.cs.cmu.edu/~213/schedule.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.cs.cmu.edu/~213/schedule.html&lt;/a&gt;
&lt;a class=&#34;link&#34; href=&#34;http://csapp.cs.cmu.edu/3e/waside.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://csapp.cs.cmu.edu/3e/waside.html&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;4-其他&#34;&gt;4. 其他&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;文件筛选过滤&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;NR==FNR{a[$1]=1} NR&amp;gt;FNR&amp;amp;&amp;amp;a[$1]!=1 {print $0}&amp;#39;&lt;/span&gt; file.b file.a
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;出包一定要正式版本，合并到主分支再对外。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用bazel 依赖kaldi时要先编译一下kaldi: 一是生成tools里文件， 一是生成src下部分文件，如 src/base/version.h需要通过编译生成。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;压测&#34;&gt;压测&lt;/h2&gt;
&lt;p&gt;base: jemalloc + warmup&lt;/p&gt;
&lt;h3 id=&#34;o2--16路&#34;&gt;O2 + 16路：&lt;/h3&gt;
&lt;p&gt;音频统计信息:
首片数量: 112
中间片数量: 4420
尾片数量: 128
首片时长: 22400
中间片时长: 884000
尾片时长: 5998.38&lt;/p&gt;
&lt;p&gt;测试结果:&lt;/p&gt;
&lt;p&gt;首片超时数量: 0
中间片超时数量: 0
尾片超时数量: 63&lt;/p&gt;
&lt;p&gt;首片超时率: 0 中间片超时率: 0 尾片超时率:0.492188&lt;/p&gt;
&lt;p&gt;首片rtf: 0 中间片rtf: 0.15323 尾片rtf: 8.14404&lt;/p&gt;
&lt;p&gt;首片平均耗时: 0ms 中间片平均耗时: 30ms 尾片平均耗时: 381ms&lt;/p&gt;
&lt;p&gt;首片最大耗时: 0ms 中间片最大耗时: 185ms 尾片最大耗时: 2018ms&lt;/p&gt;
&lt;p&gt;总超时率: 0.0135193
总rtf: 0.202002
计算耗时分布: 0.202002
&amp;lt; 100ms: 13个, 占比0.101562
&amp;lt; 200ms: 26个, 占比0.203125
&amp;lt; 300ms: 26个, 占比0.203125
&amp;lt; 400ms: 21个, 占比0.164062
&amp;lt; 500ms: 10个, 占比0.078125
&amp;lt; 600ms: 14个, 占比0.109375
&amp;lt; 700ms: 7个, 占比0.0546875
&amp;lt; 800ms: 11个, 占比0.0859375
MEM INFO: min: 2320.56, max: 4130.25, avg: 3987.88
CPU INFO: max: 15.95&lt;/p&gt;
&lt;h3 id=&#34;o2--8&#34;&gt;O2 + 8:&lt;/h3&gt;
&lt;p&gt;音频统计信息:
首片数量: 112
中间片数量: 4420
尾片数量: 128
首片时长: 22400
中间片时长: 884000
尾片时长: 5998.38&lt;/p&gt;
&lt;p&gt;测试结果:&lt;/p&gt;
&lt;p&gt;首片超时数量: 0
中间片超时数量: 0
尾片超时数量: 57&lt;/p&gt;
&lt;p&gt;首片超时率: 0 中间片超时率: 0 尾片超时率:0.445312&lt;/p&gt;
&lt;p&gt;首片rtf: 0 中间片rtf: 0.133044 尾片rtf: 7.07958&lt;/p&gt;
&lt;p&gt;首片平均耗时: 0ms 中间片平均耗时: 26ms 尾片平均耗时: 331ms&lt;/p&gt;
&lt;p&gt;首片最大耗时: 0ms 中间片最大耗时: 153ms 尾片最大耗时: 1967ms&lt;/p&gt;
&lt;p&gt;总超时率: 0.0122318
总rtf: 0.175446
计算耗时分布: 0.175446
&amp;lt; 100ms: 19个, 占比0.148438
&amp;lt; 200ms: 29个, 占比0.226562
&amp;lt; 300ms: 23个, 占比0.179688
&amp;lt; 400ms: 21个, 占比0.164062
&amp;lt; 500ms: 21个, 占比0.164062
&amp;lt; 600ms: 2个, 占比0.015625
&amp;lt; 700ms: 3个, 占比0.0234375
&amp;lt; 800ms: 10个, 占比0.078125
MEM INFO: min: 2290.75, max: 3503.38, avg: 3411.6
CPU INFO: max: 15.2607&lt;/p&gt;
&lt;p&gt;O3 + 16:&lt;/p&gt;
&lt;p&gt;音频统计信息:
首片数量: 112
中间片数量: 4420
尾片数量: 128
首片时长: 22400
中间片时长: 884000
尾片时长: 5998.38&lt;/p&gt;
&lt;p&gt;测试结果:&lt;/p&gt;
&lt;p&gt;首片超时数量: 0
中间片超时数量: 0
尾片超时数量: 62&lt;/p&gt;
&lt;p&gt;首片超时率: 0 中间片超时率: 0 尾片超时率:0.484375&lt;/p&gt;
&lt;p&gt;首片rtf: 0 中间片rtf: 0.15451 尾片rtf: 8.03168&lt;/p&gt;
&lt;p&gt;首片平均耗时: 0ms 中间片平均耗时: 30ms 尾片平均耗时: 376ms&lt;/p&gt;
&lt;p&gt;首片最大耗时: 0ms 中间片最大耗时: 174ms 尾片最大耗时: 2032ms&lt;/p&gt;
&lt;p&gt;总超时率: 0.0133047
总rtf: 0.202504
计算耗时分布: 0.202504
&amp;lt; 100ms: 12个, 占比0.09375
&amp;lt; 200ms: 29个, 占比0.226562
&amp;lt; 300ms: 25个, 占比0.195312
&amp;lt; 400ms: 23个, 占比0.179688
&amp;lt; 500ms: 10个, 占比0.078125
&amp;lt; 600ms: 13个, 占比0.101562
&amp;lt; 700ms: 3个, 占比0.0234375
&amp;lt; 800ms: 13个, 占比0.101562
MEM INFO: min: 2311.62, max: 4119.19, avg: 3988.82
CPU INFO: max: 16.2006&lt;/p&gt;
&lt;h5 id=&#34;标准图解码&#34;&gt;标准图解码&lt;/h5&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;yispeech模型&lt;/th&gt;
&lt;th&gt;test1&lt;/th&gt;
&lt;th&gt;test2&lt;/th&gt;
&lt;th&gt;test3&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;v3.4.0-cantonese&lt;/td&gt;
&lt;td&gt;9.146&lt;/td&gt;
&lt;td&gt;19.719&lt;/td&gt;
&lt;td&gt;16.489&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5 id=&#34;热词图解码&#34;&gt;热词图解码&lt;/h5&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;test_htw&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;不开热词&lt;/td&gt;
&lt;td&gt;31.23&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;63热词&lt;/td&gt;
&lt;td&gt;23.24&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;英文标注问题&#34;&gt;英文标注问题&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;什么情况下需要根据发音内容来恢复发音&lt;/li&gt;
&lt;li&gt;判断是中断发音的条件&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;dependency_rules:&lt;/p&gt;
&lt;p&gt;    1. kaldi openfst依赖&lt;/p&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/%E5%AD%A3%E5%BA%A6%E5%AE%89%E6%8E%92/2022-q1/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/%E5%AD%A3%E5%BA%A6%E5%AE%89%E6%8E%92/2022-q1/</guid>
        <description>&lt;h1 id=&#34;asr安排季度安排&#34;&gt;ASR安排季度安排&lt;/h1&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://docs.qq.com/doc/DZHJqZFNBcFdDc1Vq&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;以往季度计划&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt; 红色表示优先级最高 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt; 橙色表示优先级次高 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h2 id=&#34;2021年第四季度&#34;&gt;2021年第四季度&lt;/h2&gt;
&lt;h3 id=&#34;季度重点专项工作&#34;&gt;季度重点专项工作&lt;/h3&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt; 高优先级 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;数字人对接
&lt;ul&gt;
&lt;li&gt;现有方案调优&lt;/li&gt;
&lt;li&gt;新方案调研和尝试&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;端到端方案
&lt;ul&gt;
&lt;li&gt;流式模型正式版本&lt;/li&gt;
&lt;li&gt;调优方案&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt; 中优先级 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;算法库
&lt;ul&gt;
&lt;li&gt;基于端到端的GPU方案&lt;/li&gt;
&lt;li&gt;多租户热词CPU版本&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;模型
&lt;ul&gt;
&lt;li&gt;ASR通用模型 | 英语模型迭代 | 粤语模型 | 四川话模型&lt;/li&gt;
&lt;li&gt;VAD效果优化&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;人力安排重点&#34;&gt;人力安排重点&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;yuanding
&lt;ul&gt;
&lt;li&gt;数字人新方案支持&lt;/li&gt;
&lt;li&gt;端到端方案实验&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;dongcai
&lt;ul&gt;
&lt;li&gt;英文ASR优化 | 中英code-switch方案&lt;/li&gt;
&lt;li&gt;VAD效果优化&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;fangcheng
&lt;ul&gt;
&lt;li&gt;数字人现有方案调优&lt;/li&gt;
&lt;li&gt;四川方言ASR优化 | 方言混合识别方案&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;1-事务性工作&#34;&gt;1. 事务性工作&lt;/h3&gt;
&lt;h4 id=&#34;11-内部事务&#34;&gt;1.1 内部事务&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;代码相关：code review (yuan)&lt;/li&gt;
&lt;li&gt;数据相关
&lt;ul&gt;
&lt;li&gt;语音数据管理 (dongcai)&lt;/li&gt;
&lt;li&gt;文本数据管理 (fangcheng)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;版本发布 (yuan)
&lt;ul&gt;
&lt;li&gt;算法库发布&lt;/li&gt;
&lt;li&gt;模型发布&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;竞品评测定期维护: vad | asr (fangcheng)&lt;/li&gt;
&lt;li&gt;服务器维护 (yuan)&lt;/li&gt;
&lt;li&gt;语音数据库维护 (yuan)&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;12-外部事物&#34;&gt;1.2 外部事物&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;需求对接，音频处理，效果验证，badcase分析 (all)&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 数字人项目对接 | 对接tts音色转换 &lt;!-- raw HTML omitted --&gt; (yuan + fangcheng)&lt;/li&gt;
&lt;li&gt;自学习平台，对接工程 | POC项目调优支持 (all)&lt;/li&gt;
&lt;li&gt;对接ASR识别文本后处理纠错(调研阶段)&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-算法库-yuan&#34;&gt;2. 算法库 (yuan)&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;功能项
&lt;ul&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 数字归一化功能更新 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;开放拼音预测接口&lt;/li&gt;
&lt;li&gt;热词拼音预测检查机制完善&lt;/li&gt;
&lt;li&gt;完善标点预测模型固定输入长度逻辑&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 多租户热词CPU方案 | 多模型加载方案 | 模型共享与动态reset &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;GPU方案(基于端到端)
&lt;ul&gt;
&lt;li&gt;非多租户GPU方案&lt;/li&gt;
&lt;li&gt;多租户GPU方案&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;模型推理缓存机制&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-asr声学模型&#34;&gt;3. ASR声学模型&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;数据方面(fangcheng)
&lt;ul&gt;
&lt;li&gt;噪声数据补充&lt;/li&gt;
&lt;li&gt;增加训练数据&lt;/li&gt;
&lt;li&gt;kaldi半监督训练/无监督训练&lt;/li&gt;
&lt;li&gt;混响 + 噪声 + 语速增强&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;模型方面 (dongcai)
&lt;ul&gt;
&lt;li&gt;利用大模型训练小模型&lt;/li&gt;
&lt;li&gt;使用神经网络模型重新对齐&lt;/li&gt;
&lt;li&gt;尝试新的模型结构&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 发音词典多音字实验 &lt;!-- raw HTML omitted --&gt; (fangcheng)&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;4-asr语言模型-yuan&#34;&gt;4. ASR语言模型 (yuan)&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;分类整理并积累各领域语料/热词&lt;/li&gt;
&lt;li&gt;补充通用语料&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 优化NgramLM + NNLM &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 人名 | 地名 | 车牌 | 数字 + 字母组合效果优化 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;语言模型分数前提
&lt;ul&gt;
&lt;li&gt;lookahead&lt;/li&gt;
&lt;li&gt;on the fly nnlm rescore&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;5-自学习平台-fangcheng&#34;&gt;5. 自学习平台 (fangcheng)&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;使用文档/调优文档 (confluence)&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 部分工具必要性检查及人性化报错 (如 fix_dta_dir.sh) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;文本/音频数据增强&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 英文字母对应的热词拼音 &lt;!-- raw HTML omitted --&gt; (dongcai)&lt;/li&gt;
&lt;li&gt;版本流程管理&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;6-英文asr-dongcai&#34;&gt;6. 英文ASR (dongcai)&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 使用gigaspeech数据优化AM + LM &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;标注规范 | 入库规范 | 处理规范 | 发音词典完善&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 中英code-switching ASR方案 (ASRU 2019 code-switching challenge)&lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;7-粤语asr-yuan&#34;&gt;7. 粤语ASR (yuan)&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;发音词典完善&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 支持热词调优 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 使用科技园数据补充训练 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;补充文本数据&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;8-端到端asr-yuan&#34;&gt;8. 端到端ASR (yuan)&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;将基线方案进行完善，在gitlab上进行管理 (训练 | 评测 | 实验记录)&lt;/li&gt;
&lt;li&gt;端到端热词方案&lt;/li&gt;
&lt;li&gt;端到端其他调优方案&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;9-方言支持-fangcheng&#34;&gt;9. 方言支持 (fangcheng)&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 四川方言 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;新的四川话测试集&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;河南方言&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 方言混合识别方案 (Multilingual | code-switching) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;10-asr-前端&#34;&gt;10. ASR 前端&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; VAD优化 &lt;!-- raw HTML omitted --&gt; (dongcai)
&lt;ul&gt;
&lt;li&gt;数据增强&lt;/li&gt;
&lt;li&gt;模型结构调整&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;话者分离支持调优&lt;/li&gt;
&lt;li&gt;前端降噪&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/%E5%AD%A3%E5%BA%A6%E5%AE%89%E6%8E%92/%E5%AD%A3%E5%BA%A6%E5%AE%89%E6%8E%92/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/%E5%AD%A3%E5%BA%A6%E5%AE%89%E6%8E%92/%E5%AD%A3%E5%BA%A6%E5%AE%89%E6%8E%92/</guid>
        <description>&lt;h1 id=&#34;asr安排季度安排&#34;&gt;ASR安排季度安排&lt;/h1&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://docs.qq.com/doc/DZHJqZFNBcFdDc1Vq&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;以往季度计划&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt; 红色表示优先级最高 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt; 橙色表示优先级次高 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h2 id=&#34;2021年&#34;&gt;2021年&lt;/h2&gt;
&lt;h3 id=&#34;第四季度&#34;&gt;第四季度&lt;/h3&gt;
&lt;h3 id=&#34;季度重点专项工作&#34;&gt;季度重点专项工作&lt;/h3&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt; 高优先级 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;数字人对接
&lt;ul&gt;
&lt;li&gt;现有方案调优&lt;/li&gt;
&lt;li&gt;新方案调研和尝试&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;端到端方案
&lt;ul&gt;
&lt;li&gt;流式模型正式版本&lt;/li&gt;
&lt;li&gt;调优方案&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt; 中优先级 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;算法库
&lt;ul&gt;
&lt;li&gt;基于端到端的GPU方案&lt;/li&gt;
&lt;li&gt;多租户热词CPU版本&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;模型
&lt;ul&gt;
&lt;li&gt;ASR通用模型 | 英语模型迭代 | 粤语模型 | 四川话模型&lt;/li&gt;
&lt;li&gt;VAD效果优化&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;人力安排重点&#34;&gt;人力安排重点&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;yuanding
&lt;ul&gt;
&lt;li&gt;数字人新方案支持&lt;/li&gt;
&lt;li&gt;端到端方案实验&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;dongcai
&lt;ul&gt;
&lt;li&gt;英文ASR优化 | 中英code-switch方案&lt;/li&gt;
&lt;li&gt;VAD效果优化&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;fangcheng
&lt;ul&gt;
&lt;li&gt;数字人现有方案调优&lt;/li&gt;
&lt;li&gt;四川方言ASR优化 | 方言混合识别方案&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;1-事务性工作&#34;&gt;1. 事务性工作&lt;/h3&gt;
&lt;h4 id=&#34;11-内部事务&#34;&gt;1.1 内部事务&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;代码相关：code review (yuan)&lt;/li&gt;
&lt;li&gt;数据相关
&lt;ul&gt;
&lt;li&gt;语音数据管理 (dongcai)&lt;/li&gt;
&lt;li&gt;文本数据管理 (fangcheng)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;版本发布 (yuan)
&lt;ul&gt;
&lt;li&gt;算法库发布&lt;/li&gt;
&lt;li&gt;模型发布&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;竞品评测定期维护: vad | asr (fangcheng)&lt;/li&gt;
&lt;li&gt;服务器维护 (yuan)&lt;/li&gt;
&lt;li&gt;语音数据库维护 (yuan)&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;12-外部事物&#34;&gt;1.2 外部事物&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;需求对接，音频处理，效果验证，badcase分析 (all)&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 数字人项目对接 | 对接tts音色转换 &lt;!-- raw HTML omitted --&gt; (yuan + fangcheng)&lt;/li&gt;
&lt;li&gt;自学习平台，对接工程 | POC项目调优支持 (all)&lt;/li&gt;
&lt;li&gt;对接ASR识别文本后处理纠错(调研阶段)&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-算法库-yuan&#34;&gt;2. 算法库 (yuan)&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;功能项
&lt;ul&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 数字归一化功能更新 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;开放拼音预测接口&lt;/li&gt;
&lt;li&gt;热词拼音预测检查机制完善&lt;/li&gt;
&lt;li&gt;完善标点预测模型固定输入长度逻辑&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 多租户热词CPU方案 | 多模型加载方案 | 模型共享与动态reset &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;GPU方案(基于端到端)
&lt;ul&gt;
&lt;li&gt;非多租户GPU方案&lt;/li&gt;
&lt;li&gt;多租户GPU方案&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;模型推理缓存机制&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-asr声学模型&#34;&gt;3. ASR声学模型&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;数据方面(fangcheng)
&lt;ul&gt;
&lt;li&gt;噪声数据补充&lt;/li&gt;
&lt;li&gt;增加训练数据&lt;/li&gt;
&lt;li&gt;kaldi半监督训练/无监督训练&lt;/li&gt;
&lt;li&gt;混响 + 噪声 + 语速增强&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;模型方面 (dongcai)
&lt;ul&gt;
&lt;li&gt;利用大模型训练小模型&lt;/li&gt;
&lt;li&gt;使用神经网络模型重新对齐&lt;/li&gt;
&lt;li&gt;尝试新的模型结构&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 发音词典多音字实验 &lt;!-- raw HTML omitted --&gt; (fangcheng)&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;4-asr语言模型-yuan&#34;&gt;4. ASR语言模型 (yuan)&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;分类整理并积累各领域语料/热词&lt;/li&gt;
&lt;li&gt;补充通用语料&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 优化NgramLM + NNLM &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 人名 | 地名 | 车牌 | 数字 + 字母组合效果优化 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;语言模型分数前提
&lt;ul&gt;
&lt;li&gt;lookahead&lt;/li&gt;
&lt;li&gt;on the fly nnlm rescore&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;5-自学习平台-fangcheng&#34;&gt;5. 自学习平台 (fangcheng)&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;使用文档/调优文档 (confluence)&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 部分工具必要性检查及人性化报错 (如 fix_dta_dir.sh) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;文本/音频数据增强&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 英文字母对应的热词拼音 &lt;!-- raw HTML omitted --&gt; (dongcai)&lt;/li&gt;
&lt;li&gt;版本流程管理&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;6-英文asr-dongcai&#34;&gt;6. 英文ASR (dongcai)&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 使用gigaspeech数据优化AM + LM &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;标注规范 | 入库规范 | 处理规范 | 发音词典完善&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 中英code-switching ASR方案 (ASRU 2019 code-switching challenge)&lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;7-粤语asr-yuan&#34;&gt;7. 粤语ASR (yuan)&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;发音词典完善&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 支持热词调优 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 使用科技园数据补充训练 &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;补充文本数据&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;8-端到端asr-yuan&#34;&gt;8. 端到端ASR (yuan)&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;将基线方案进行完善，在gitlab上进行管理 (训练 | 评测 | 实验记录)&lt;/li&gt;
&lt;li&gt;端到端热词方案&lt;/li&gt;
&lt;li&gt;端到端其他调优方案&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;9-方言支持-fangcheng&#34;&gt;9. 方言支持 (fangcheng)&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 四川方言 &lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;新的四川话测试集&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;河南方言&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; 方言混合识别方案 (Multilingual | code-switching) &lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;10-asr-前端&#34;&gt;10. ASR 前端&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt; VAD优化 &lt;!-- raw HTML omitted --&gt; (dongcai)
&lt;ul&gt;
&lt;li&gt;数据增强&lt;/li&gt;
&lt;li&gt;模型结构调整&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;话者分离支持调优&lt;/li&gt;
&lt;li&gt;前端降噪&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2022年第一季度&#34;&gt;2022年第一季度&lt;/h2&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/%E6%95%B0%E5%AD%97%E4%BA%BA/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/%E6%95%B0%E5%AD%97%E4%BA%BA/</guid>
        <description>&lt;h1 id=&#34;数字人vc-yispeech部分介绍&#34;&gt;数字人&amp;amp;VC YiSpeech部分介绍&lt;/h1&gt;
&lt;h2 id=&#34;1-性能&#34;&gt;1. 性能&lt;/h2&gt;
&lt;h3 id=&#34;性能指标&#34;&gt;性能指标&lt;/h3&gt;
&lt;p&gt;在VC和数字人中关注首帧延迟和实时率。&lt;/p&gt;
&lt;h3 id=&#34;性能对比&#34;&gt;性能对比&lt;/h3&gt;
&lt;p&gt;目前conformer encoder在首帧延迟上好于kaldi的tdnn模型，原因是tdnn模型有较长的上下文限制。&lt;/p&gt;
&lt;h2 id=&#34;2-yispeech模块后续探索方向&#34;&gt;2. YiSpeech模块后续探索方向&lt;/h2&gt;
&lt;h3 id=&#34;21-训练方式&#34;&gt;2.1 训练方式&lt;/h3&gt;
&lt;h4 id=&#34;降低下采样倍率&#34;&gt;降低下采样倍率&lt;/h4&gt;
&lt;p&gt;现象：对一些语速较快的音频，模型的准确率会下降。&lt;/p&gt;
&lt;p&gt;问题：三倍下采样或者四倍下采样是否符合这种生成任务？&lt;/p&gt;
&lt;p&gt;简单验证：可以将音频采样点或者视频帧做同样的采样，再合成音视频，看影响大不大。&lt;/p&gt;
&lt;h4 id=&#34;wenet-ctc-根据音素建模&#34;&gt;wenet ctc 根据音素建模&lt;/h4&gt;
&lt;p&gt;问题：wenet encoder输出含义不明确，不方便后续debug和优化。&lt;/p&gt;
&lt;p&gt;解决思路：使用conformer encoder + ctc训练音素分类器。&lt;/p&gt;
&lt;h3 id=&#34;22-模型优化-asr后续会实验&#34;&gt;2.2 模型优化 (ASR后续会实验)&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Reworked Conformer&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;将 LayerNorm 替换为 BasicNorm&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ActivationBalancer调整激活值范围&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;效果更好的DoubleSwish&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;固定参数范数，让学习率控制参数相对变化&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用Model-level Warmup 机制，加快收敛&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cAdministrator%5cDesktop%5cASR%5cNotes%5c%e5%b7%a5%e4%bd%9c%e8%ae%a1%e5%88%92%5c%e6%95%b0%e5%ad%97%e4%ba%ba%5c1.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;1.png&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cAdministrator%5cDesktop%5cASR%5cNotes%5c%e5%b7%a5%e4%bd%9c%e8%ae%a1%e5%88%92%5c%e6%95%b0%e5%ad%97%e4%ba%ba%5c2.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;2.png&#34;
	
	
&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Emformer：Efficient Memory Transformer Based Acoustic Model For Low Latency Streaming Speech Recognition&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;引入&lt;strong&gt;Memory Bank&lt;/strong&gt;的机制让模型能看到更多的历史信息&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在训练中引入了&lt;strong&gt;Right Context&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;参考Reworked Model模块替换相应组件&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;增加Convolution模块&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;23-方案优化&#34;&gt;2.3 方案优化&lt;/h3&gt;
&lt;p&gt;结合文本先验知识，适合可以提前拿到文本的场景，进一步提升准确率。&lt;/p&gt;
&lt;h4 id=&#34;使用文本构建fst小图&#34;&gt;使用文本构建fst小图&lt;/h4&gt;
&lt;p&gt;不会出现集外音素，理论上音素预测准确率可以达到99%-100%。&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;h4 id=&#34;先验知识参与建模&#34;&gt;先验知识参与建模&lt;/h4&gt;
&lt;p&gt;早期口型生成技术会直接采用音素序列建模。&lt;/p&gt;
&lt;p&gt;音素序列或文本序列参与建模，使用Embedding的方式？&lt;/p&gt;
&lt;h4 id=&#34;使用更原始特征&#34;&gt;使用更原始特征&lt;/h4&gt;
&lt;p&gt;直接使用pitch等原始特征，辅助口型变化更真实自然。&lt;/p&gt;
&lt;h3 id=&#34;24-预训练模型-asr后续会实验&#34;&gt;2.4 预训练模型 (ASR后续会实验)&lt;/h3&gt;
&lt;h4 id=&#34;直接使用预训练模型&#34;&gt;直接使用预训练模型&lt;/h4&gt;
&lt;p&gt;效果已验证，需要算力支持或离线场景。&lt;/p&gt;
&lt;h4 id=&#34;蒸馏预训练模型&#34;&gt;蒸馏预训练模型&lt;/h4&gt;
&lt;p&gt;问题：获取teacher embedding时online和offline两种方式的问题。&lt;/p&gt;
&lt;p&gt;基于量化的蒸馏实验，关键在于量化机制的设计。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://demo.stack.jimmycai.com/C:%5cUsers%5cAdministrator%5cDesktop%5cASR%5cNotes%5c%e5%b7%a5%e4%bd%9c%e8%ae%a1%e5%88%92%5c%e6%95%b0%e5%ad%97%e4%ba%ba%5c4.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/%E6%B5%8B%E8%AF%95/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/%E6%B5%8B%E8%AF%95/</guid>
        <description>&lt;h1 id=&#34;模型效果测试数据&#34;&gt;模型效果测试数据&lt;/h1&gt;
&lt;h2 id=&#34;gpu-效果测试&#34;&gt;GPU 效果测试&lt;/h2&gt;
&lt;p&gt;GPU离线ASR请求Padding逻辑测试&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;padding 逻辑&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test1&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test2&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test3&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test4&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test5&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test6&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test7&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test8&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;cpu&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.85&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.65&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.71&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.21&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.70&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.06&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.86&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;18.81&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;不处理&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.61&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.87&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.38&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.10&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.45&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;16.66&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.72&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;19.23&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;padding成整秒数&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.59&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.75&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.37&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.02&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.62&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;16.50&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.68&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;19.22&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;cpu-效果测试&#34;&gt;CPU 效果测试&lt;/h2&gt;
&lt;h3 id=&#34;libtorc测试&#34;&gt;libtorc测试&lt;/h3&gt;
&lt;h4 id=&#34;流式测试&#34;&gt;流式测试&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;编号&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;num_left_chunks&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;offset&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test1&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test2&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test3&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test4&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test5&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test6&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test7&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test8&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;avg&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.666%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.889%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.329%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.997%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.258%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.411%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.163%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.705%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.427&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;2&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.752%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.904%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.350%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.011%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.232%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.411%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.169%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.812%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.455&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;3&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&amp;lt; 80&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.755%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.889%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.341%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.997%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.245%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.411%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.178%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.743%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.444&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;4&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&amp;lt; 200&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.676%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.889%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.341%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.997%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.245%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.411%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.178%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.743%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.435&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;infinite&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.752%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.904%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.350%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.011%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.232%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.411%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.169%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.812%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.455&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;非流式测试&#34;&gt;非流式测试&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;num_left_chunks&lt;/th&gt;
&lt;th&gt;offset&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test1&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test2&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test3&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test4&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test5&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test6&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test7&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test8&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;avg&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.936%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.024%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.599%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.327%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.569%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;16.531%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.876%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;19.174%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.504&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td&gt;no_limit&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.936%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.024%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.599%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.327%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.569%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;16.531%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.876%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;19.174%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.504&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;onnx测试&#34;&gt;onnx测试&lt;/h3&gt;
&lt;p&gt;需要排除新版wenet导出onnx导致的效果差异&lt;/p&gt;
&lt;h4 id=&#34;流式测试-1&#34;&gt;流式测试&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;编号&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;num_left_chunks&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;offset&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;quant&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test1&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test2&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test3&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test4&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test5&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test6&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test7&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test8&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;avg&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.671%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.822%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.428%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.424%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.741%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.554%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.570%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.818%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.628&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;infinite&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.744%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.074%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.288%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.153%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.350%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.482%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.257%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.887%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.529&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;infinite&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.784%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.118%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.334%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.353%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.385%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.540%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.375%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;21.025%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.614&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;测试onnx新导出模型与旧&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;编号&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;num_left_chunks&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;offset&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;quant&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test1&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test2&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test3&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test4&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test5&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test6&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test7&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test8&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;avg&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1（v4.0.0）&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.671%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.822%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.428%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.424%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.741%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.554%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.570%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.818%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.628&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.540%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.867%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.253%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.039%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.276%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.326%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.159%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.649%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.388&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.744%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.074%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.288%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.153%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.350%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.482%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.257%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.887%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.529&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;infinite&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.540%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.867%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.253%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.039%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.276%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.326%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.159%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.649%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.388&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.588%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.800%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.293%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.004%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.284%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.286%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.171%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.624%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.381&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;infinite&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.588%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.800%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.784%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.118%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;8&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.703%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.985%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.295%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.310%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.504%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.478%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.410%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.774%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.557&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.679%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.029%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.293%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.168%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.350%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.496%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.289%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.799%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.512&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;15&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.756%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13.000%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.353%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.467%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.429%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17.594%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.356%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20.956%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;非流式测试-1&#34;&gt;非流式测试&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;编号&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;num_left_chunks&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;offset&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;quant&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test1&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test2&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test3&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test4&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test5&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test6&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test7&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;test8&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;avg&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;500&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.796%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.810%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.598%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.327%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.061%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;16.629%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.008%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;19.381%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.576&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;infinite&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.781%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.803%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.498%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.212%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.573%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;16.451%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.853%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;19.193%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.420&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;infinite&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.855%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.913%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.488%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.384%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.587%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;16.531%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.916%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;19.294%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.496&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;性能测试&#34;&gt;性能测试&lt;/h3&gt;
&lt;h4 id=&#34;1核4路&#34;&gt;1核4路&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;num_left_chunks&lt;/th&gt;
&lt;th&gt;offset&lt;/th&gt;
&lt;th&gt;quant&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;M avg | max&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;L avg | max&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;L - timeout&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;RTF&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;100 | 200 | 300 | 400 |500 | 600&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-1&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;31ms | 659ms&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;179ms | 1308ms&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;16.32%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1818&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;40%|28% |15% |  8% | 5% | 4%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;infinite&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;26ms | 517ms&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;142ms | 956ms&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;8.41%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1503&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;47%|29% |14% |  5% | 2% | 3%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-1&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;26|574&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;145|1186&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.22%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1509&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;51% |26% |11% | 6% | 2% | 4%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;24|391&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;137|929&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;8.16%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1420&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;24|426&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;136|378&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5.61%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1413&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-1 + U1&lt;/td&gt;
&lt;td&gt;infinite&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;25|563&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;146|1189&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.45%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1499&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;26|537&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;146|1101&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.73%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1521&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;26|593&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;151|1150&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.47%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1519&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;25|446&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;143|976&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.96%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1495&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;avg&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;25|534&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;146|1104&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.15%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1508&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-1&lt;/td&gt;
&lt;td&gt;infinite&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;27 | 608&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;145| 1120&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.20%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1554&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;26|611&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;148|979&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.22%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1533&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;26|484&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;144|953&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.45%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1511&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;26|457&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;150|1157&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12.75%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1548&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;avg&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;26|540&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;146|1052&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11.15%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1536&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-1&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;26|431&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;149|1326&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.45%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1517&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;26|463&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;145|1075&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.45%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1522&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;25|483&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;145|994&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.94%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1504&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;26|572&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;144|1081&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9.94%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1511&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;avg&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;26|487&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;145|1119&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.19%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1513&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;1核4路性能对比测试&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;num_left_chunks&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;中间片 avg | max&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;尾片 avg | max&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;超时率&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;实时率&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;asr_model_v4.0.0&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;31ms | 659ms&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;179ms | 1308ms&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;16.32%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1818&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;asr_model_v4.1.0&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;26ms | 487ms&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;145ms | 1119ms&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10.19%&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.1513&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;验证num_left_chunks&#34;&gt;验证num_left_chunks&lt;/h4&gt;
&lt;h5 id=&#34;超长音频测试&#34;&gt;超长音频测试&lt;/h5&gt;
&lt;p&gt;libtorch&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;num_left_chunks&lt;/th&gt;
&lt;th&gt;offset&lt;/th&gt;
&lt;th&gt;M avg |max&lt;/th&gt;
&lt;th&gt;L avg |max&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;td&gt;27 | 182&lt;/td&gt;
&lt;td&gt;2914 | 3276&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-1&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;td&gt;46|370&lt;/td&gt;
&lt;td&gt;3709 | 4789&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;onnx&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;num_left_chunks&lt;/th&gt;
&lt;th&gt;quant&lt;/th&gt;
&lt;th&gt;offset&lt;/th&gt;
&lt;th&gt;M avg |max&lt;/th&gt;
&lt;th&gt;L avg |max&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;td&gt;17| 130&lt;/td&gt;
&lt;td&gt;997|1562&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-1&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;td&gt;27|273&lt;/td&gt;
&lt;td&gt;1171| 1611&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5 id=&#34;10s-音频&#34;&gt;10s 音频&lt;/h5&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;num_left_chunks&lt;/th&gt;
&lt;th&gt;quant&lt;/th&gt;
&lt;th&gt;offset&lt;/th&gt;
&lt;th&gt;M avg |max&lt;/th&gt;
&lt;th&gt;L avg |max&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;td&gt;14|110&lt;/td&gt;
&lt;td&gt;348|579&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-1&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;td&gt;15|118&lt;/td&gt;
&lt;td&gt;368| 600&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;fm&#34;&gt;__init__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;position&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;div_term&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;torch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cos&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;position&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;div_term&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;pe_list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;beg&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;repeats&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ceil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;beg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;pe&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;repeat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;repeats&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;x1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;beg&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_len&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;x2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;beg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Old pos_emb&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;pos_emb&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;offset&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# New pos_emb&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;pos_emb&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pe_list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;offset&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/%E6%B7%B7%E5%90%88%E8%AF%AD%E7%A7%8D%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/%E6%B7%B7%E5%90%88%E8%AF%AD%E7%A7%8D%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB/</guid>
        <description>&lt;h1 id=&#34;多语种语音识别&#34;&gt;多语种语音识别&lt;/h1&gt;
&lt;h2 id=&#34;背景&#34;&gt;背景&lt;/h2&gt;
&lt;h3 id=&#34;multilingual-and-code-switching-speech-recognition&#34;&gt;Multilingual and Code-Switching Speech Recognition&lt;/h3&gt;
&lt;h4 id=&#34;现状&#34;&gt;现状&lt;/h4&gt;
&lt;p&gt;世界上存在近7000种语言，复杂的语言环境是目前ASR系统面临的主要挑战之一。在开展多语种语音识别时面临的主要困难如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;语言相关的资源稀缺&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;互联网上可用的资料较少。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;缺乏语言专业知识。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;缺乏数字资源：语音和文本语料库，发音词典等。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;语言的复杂性和各异性较强&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;不同语言在语音和语法层次有很大差异，使得不同语言共享建模变得困难。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;不同语言的词汇量规模和OOV概率差异很大。&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;图1展示了不同语种的词汇量规模，图2展示了不同语种OOV的出现概率。可以看出不同语言之间存在较大的差异。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;多语言融合&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;多语言融合也叫code switch，即一句话中可能存在多种语言。在中英和一些小语种中，融合的情况很常见。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;code switch数据相较单语种数据更加缺乏。即使拥有多个单语种数据也很难针对code switch现象进行建模。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;外来语带来的新词增大了音素空间和词表空间，增加了解码时的混淆度&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;其加入外来语需要对词表和语言模型等进行动态更新，给当前的静态解码方法带&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;来挑战&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;现有方法介绍&#34;&gt;现有方法介绍&lt;/h2&gt;
&lt;h3 id=&#34;数据增强&#34;&gt;数据增强&lt;/h3&gt;
&lt;p&gt;数据增强为解决语种数据较缺乏时最常用的手段，一般包括加噪，语速增强，频谱增强等。当某种语言训练数据稀缺，或者多语言数据中存在数据不平衡现象时，可以简单的通过数据增强的方式进行改善。&lt;/p&gt;
&lt;h3 id=&#34;音素共享&#34;&gt;音素共享&lt;/h3&gt;
&lt;p&gt;构建多语种语音系统的第一个问题是建模单元具有差异，所以需要将不同语种的建模单元映射成同一套建模单元体系，一种方法可采用IPA等通用音素集。一种方法是通过数据驱动的方式构建不同语言间的共享音素表示。&lt;/p&gt;
&lt;h3 id=&#34;参数共享&#34;&gt;参数共享&lt;/h3&gt;
&lt;p&gt;基于深度神经网络的语音识别系统中，一般认为网络是逐层学习语音信号中的区分性信息。基于人类语音的共性，可以认为前几层网络在学习和语言不相关的共性表示，在最后几层中语言相关的信息才逐渐明确。&lt;/p&gt;
&lt;p&gt;基于以上认知，我们可以通过共享DNN前几层参数来缓解小语种的数据稀缺问题。一般有两种方式：多任务学习和迁移学习。&lt;/p&gt;
&lt;p&gt;多任务学习是指通过共享同一个网络或网络的一部分对多个任务进行同时学习。基于这一学习方式，参与共享的网络在参数更新时可利用多个任务的误差信息，从而实现不同任务之间的信息共享。应用到小语种识别上，可以将包括小语种在内的多个语言作为不同任务，这些任务共享DNN特征提取层，输出层则互相独立。&lt;/p&gt;
&lt;p&gt;迁移学习是另一种常用的小语种建模方法。该方法首先利用多语言数据或主流语言数据建立一个DNN模型，基于该模型对小语种模型进行初始化，再利用少量小语种数据进行针对性训练。&lt;/p&gt;
&lt;h3 id=&#34;问题&#34;&gt;问题&lt;/h3&gt;
&lt;p&gt;现有方法中会遇到以下几个问题：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;语种转换点错误(转换点丢失或错误插入)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;语种信息检测错误&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;通过示例说明以上错误。&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;h2 id=&#34;自研方法介绍&#34;&gt;自研方法介绍&lt;/h2&gt;
&lt;p&gt;模型主体结构采用CTC/AED结构联合建模，并根据现有多语言语音识别系统中的问题进行优化。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;参考【paper】使用多语种encoder，&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;加入转换点检测任务&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;加入帧级别语种信息&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用预训练模型(可选)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title></title>
        <link>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/%E8%87%AA%E5%AD%A6%E4%B9%A0%E9%95%9C%E5%83%8F/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://demo.stack.jimmycai.com/posts/notes/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/%E8%87%AA%E5%AD%A6%E4%B9%A0%E9%95%9C%E5%83%8F/</guid>
        <description>&lt;p&gt;基础镜像&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;增量&lt;/th&gt;
&lt;th&gt;总大小&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;ubuntu 18.04&lt;/td&gt;
&lt;td&gt;64M&lt;/td&gt;
&lt;td&gt;64M&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;11.6.0-cudnn8-runtime-ubuntu18.04&lt;/td&gt;
&lt;td&gt;3G&lt;/td&gt;
&lt;td&gt;3.26G&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;基础环境 apt install / pip install&lt;/td&gt;
&lt;td&gt;1G&lt;/td&gt;
&lt;td&gt;4.17G&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;mkl&lt;/td&gt;
&lt;td&gt;5.6G&lt;/td&gt;
&lt;td&gt;11G&lt;/td&gt;
&lt;td&gt;2018.3.22 mkl 2.4G&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kaldi&lt;/td&gt;
&lt;td&gt;5.5G&lt;/td&gt;
&lt;td&gt;16.8G&lt;/td&gt;
&lt;td&gt;kaldi 1.8G \  srilm 580M \ openfst 3G&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;base_utils&lt;/td&gt;
&lt;td&gt;200M&lt;/td&gt;
&lt;td&gt;17G&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;wenet&lt;/td&gt;
&lt;td&gt;5G&lt;/td&gt;
&lt;td&gt;22G&lt;/td&gt;
&lt;td&gt;torch 3.2G \ 其他1.5 G&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;增量&lt;/th&gt;
&lt;th&gt;总大小&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;ubuntu 18.04&lt;/td&gt;
&lt;td&gt;64M&lt;/td&gt;
&lt;td&gt;64M&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;11.6.0-cudnn8-runtime-ubuntu18.04&lt;/td&gt;
&lt;td&gt;3G&lt;/td&gt;
&lt;td&gt;3.26G&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;基础环境 apt install / pip install&lt;/td&gt;
&lt;td&gt;1G&lt;/td&gt;
&lt;td&gt;4.17G&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;srilm + openfst&lt;/td&gt;
&lt;td&gt;3.5G&lt;/td&gt;
&lt;td&gt;7.8G&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;base_utils&lt;/td&gt;
&lt;td&gt;200M&lt;/td&gt;
&lt;td&gt;8G&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;wenet&lt;/td&gt;
&lt;td&gt;5G&lt;/td&gt;
&lt;td&gt;13G&lt;/td&gt;
&lt;td&gt;torch 3.2G \ 其他1.5 G&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;dockerfile：&lt;/p&gt;
&lt;p&gt;ffmpeg&lt;/p&gt;
&lt;p&gt;pip3 install tensorboardX&lt;/p&gt;
&lt;p&gt;pip3 install typeguard&lt;/p&gt;
&lt;p&gt;perl: warning: Setting locale failed.&lt;/p&gt;
&lt;p&gt;ln -s /etc/alternatives/python3 /usr/bin/python&lt;/p&gt;
&lt;p&gt;pip3 install -r requirements.txt&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pip config &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;locale设置&lt;/p&gt;
&lt;p&gt;wenet：&lt;/p&gt;
&lt;p&gt;README:format_text&lt;/p&gt;
&lt;p&gt;dict: run.sh dict=$model_dir/self_learning/data/dict/lang_char.txt&lt;/p&gt;
&lt;p&gt;模型：&lt;/p&gt;
&lt;p&gt;self_learning文件夹：放dict&lt;/p&gt;
&lt;p&gt;测试：&lt;/p&gt;
&lt;p&gt;调优模型测试&lt;/p&gt;
&lt;h2 id=&#34;kaldi-版本&#34;&gt;kaldi: 版本&lt;/h2&gt;
&lt;p&gt;python3.6&lt;/p&gt;
&lt;p&gt;cmake&lt;/p&gt;
&lt;p&gt;Protobuf compiler not found&lt;/p&gt;
&lt;p&gt;apt-get install libprotobuf-dev protobuf-compiler (源码安装)&lt;/p&gt;
&lt;p&gt;pip install protobuf==4.21.0&lt;/p&gt;
&lt;p&gt;python3 -m pip install &amp;ndash;upgrade pip&lt;/p&gt;
&lt;p&gt;取消onnx==1.5&lt;/p&gt;
&lt;p&gt;onnx1.7或1.5&lt;/p&gt;
&lt;p&gt;onnxruntime&lt;/p&gt;
&lt;p&gt;export PYTHONIOENCODING=utf-8&lt;/p&gt;
&lt;p&gt;onnxsim&lt;/p&gt;
&lt;p&gt;pip3 install base_utils-1.0.2-py3-none-any.whl&lt;/p&gt;
&lt;p&gt;pip3 install test-generator==0.1.1&lt;/p&gt;
&lt;p&gt;180机器安装最新kaldi-onnx&lt;/p&gt;
&lt;p&gt;pip3 install -r requirements.txt&lt;/p&gt;
&lt;p&gt;构造HCLG时需要， path.sh 以使用相关命令&lt;/p&gt;
&lt;p&gt;python=python3&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;9.57&lt;/td&gt;
&lt;td&gt;11.69&lt;/td&gt;
&lt;td&gt;10.37&lt;/td&gt;
&lt;td&gt;11.03&lt;/td&gt;
&lt;td&gt;9.57&lt;/td&gt;
&lt;td&gt;16.20&lt;/td&gt;
&lt;td&gt;10.69&lt;/td&gt;
&lt;td&gt;18.88&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;9.66&lt;/td&gt;
&lt;td&gt;12.14&lt;/td&gt;
&lt;td&gt;10.46&lt;/td&gt;
&lt;td&gt;11.06&lt;/td&gt;
&lt;td&gt;9.55&lt;/td&gt;
&lt;td&gt;16.60&lt;/td&gt;
&lt;td&gt;10.70&lt;/td&gt;
&lt;td&gt;18.92&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
        </item>
        
    </channel>
</rss>
